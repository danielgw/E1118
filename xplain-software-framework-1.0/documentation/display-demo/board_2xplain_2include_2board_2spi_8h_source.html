<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: board/xplain/include/board/spi.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>board/xplain/include/board/spi.h</h1><a href="board_2xplain_2include_2board_2spi_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef BOARD_SPI_H_INCLUDED</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#define BOARD_SPI_H_INCLUDED</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;<a class="code" href="chip_2atxmega128a1_2include_2chip_2gpio_8h.html" title="XMEGA GPIO implementation.">gpio.h</a>&gt;</span>
<a name="l00042"></a>00042 
<a name="l00044"></a><a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a3fb0947259fe40336a745d18cd0a0ce5">00044</a> <span class="keyword">enum</span> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a3fb0947259fe40336a745d18cd0a0ce5" title="Board SPI select identifiers.">board_spi_select_id</a> {
<a name="l00045"></a>00045         BOARD_DATAFLASH_SS = 17,
<a name="l00046"></a>00046         BOARD_USB_SS = 20,
<a name="l00047"></a>00047 };
<a name="l00048"></a>00048 
<a name="l00050"></a><a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a2b0fdae4392e5ea70eb2c238bdf1feb4">00050</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a3fb0947259fe40336a745d18cd0a0ce5" title="Board SPI select identifiers.">board_spi_select_id</a> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a2b0fdae4392e5ea70eb2c238bdf1feb4" title="Board SPI select identifier type.">board_spi_select_id_t</a>;
<a name="l00051"></a>00051 
<a name="l00053"></a><a class="code" href="structboard__spi__select.html">00053</a> <span class="keyword">struct </span><a class="code" href="structboard__spi__select.html" title="Board SPI select struct.">board_spi_select</a> {
<a name="l00055"></a><a class="code" href="structboard__spi__select.html#a42a3ca4f9489ef59bcc0bd9b1e803b6a">00055</a>         <a class="code" href="group__port__driver__group.html#gab68ec68af7cbac3e7822817b6e19d407" title="A GPIO pin.">gpio_pin_t</a>      <a class="code" href="structboard__spi__select.html#a42a3ca4f9489ef59bcc0bd9b1e803b6a" title="pin used for SPI select">pin</a>;
<a name="l00056"></a>00056 };
<a name="l00057"></a>00057 
<a name="l00064"></a><a class="code" href="board_2xplain_2include_2board_2spi_8h.html#abc8737092c19e9dac1d67054f3ebab63">00064</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#abc8737092c19e9dac1d67054f3ebab63" title="Board SPI select given device.">board_spi_select_device</a>(<span class="keyword">struct</span> <a class="code" href="structspi__master.html" title="SPI master.">spi_master</a> *master,
<a name="l00065"></a>00065                 <span class="keyword">struct</span> <a class="code" href="structboard__spi__select.html" title="Board SPI select struct.">board_spi_select</a> *sel)
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067         <a class="code" href="group__port__driver__group.html#gabc94cdd30b7389a7446f926a392ea2cc" title="Drive a GPIO pin to a given state.">gpio_set_value</a>(sel-&gt;<a class="code" href="structboard__spi__select.html#a42a3ca4f9489ef59bcc0bd9b1e803b6a" title="pin used for SPI select">pin</a>, <span class="keyword">false</span>);
<a name="l00068"></a>00068 }
<a name="l00069"></a>00069 
<a name="l00076"></a><a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a6b67034ef3f505798dfd8b6c668bfb29">00076</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a6b67034ef3f505798dfd8b6c668bfb29" title="Board SPI deselect given device.">board_spi_deselect_device</a>(<span class="keyword">struct</span> <a class="code" href="structspi__master.html" title="SPI master.">spi_master</a> *master,
<a name="l00077"></a>00077                 <span class="keyword">struct</span> <a class="code" href="structboard__spi__select.html" title="Board SPI select struct.">board_spi_select</a> *sel)
<a name="l00078"></a>00078 {
<a name="l00079"></a>00079         <a class="code" href="group__port__driver__group.html#gabc94cdd30b7389a7446f926a392ea2cc" title="Drive a GPIO pin to a given state.">gpio_set_value</a>(sel-&gt;<a class="code" href="structboard__spi__select.html#a42a3ca4f9489ef59bcc0bd9b1e803b6a" title="pin used for SPI select">pin</a>, <span class="keyword">true</span>);
<a name="l00080"></a>00080 }
<a name="l00081"></a>00081 
<a name="l00088"></a><a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a2b229e1e3325a63263ec32e3fa3f9059">00088</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a2b229e1e3325a63263ec32e3fa3f9059" title="Init Board SPI select.">board_spi_init_select</a>(<span class="keyword">struct</span> <a class="code" href="structboard__spi__select.html" title="Board SPI select struct.">board_spi_select</a> *sel,
<a name="l00089"></a>00089                 <a class="code" href="board_2xplain_2include_2board_2spi_8h.html#a2b0fdae4392e5ea70eb2c238bdf1feb4" title="Board SPI select identifier type.">board_spi_select_id_t</a> sel_id)
<a name="l00090"></a>00090 {
<a name="l00091"></a>00091         sel-&gt;<a class="code" href="structboard__spi__select.html#a42a3ca4f9489ef59bcc0bd9b1e803b6a" title="pin used for SPI select">pin</a> = sel_id;
<a name="l00092"></a>00092         <a class="code" href="group__port__driver__group.html#ga6ea0a06957aa0151906856deeab60bad" title="Select the GPIO function for a single pin.">port_select_gpio_pin</a>(sel_id, <a class="code" href="group__port__driver__group.html#ga1f3c0326a4a0984881d042d6106df54e" title="Pin is Output.">PORT_DIR_OUTPUT</a> | <a class="code" href="group__port__driver__group.html#ga5fe7665a4bf1a891bf5a7e6c8771fa6a" title="Initial Ouptput State is Low.">PORT_INIT_HIGH</a>);
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 <span class="preprocessor">#endif </span><span class="comment">/* BOARD_SPI_H_INCLUDED */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:09:58 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
