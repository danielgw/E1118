<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: Common ATmega and ATxmega SPI internals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Common ATmega and ATxmega SPI internals<br/>
<small>
[<a class="el" href="group__spi__polled__internal__group.html">Generic SPI polled internals</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for Common ATmega and ATxmega SPI internals:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__spi__mega__xmega__internal__group.png" border="0" alt="" usemap="#group____spi____mega____xmega____internal____group_map"/>
<map name="group____spi____mega____xmega____internal____group_map" id="group____spi____mega____xmega____internal____group">
<area shape="rect" href="group__spi__polled__internal__group.html" title="Generic SPI polled internals" alt="" coords="5,5,189,35"/><area shape="rect" href="group__spi__xmega__internal__group.html" title="ATxmega SPI internals" alt="" coords="575,5,729,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__xmega__internal__group.html">ATxmega SPI internals</a></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga1f977147000cd8a40ccfacafea826a8e">MAXLOOPS</a>&nbsp;&nbsp;&nbsp;255</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum number of polling loops.  <a href="#ga1f977147000cd8a40ccfacafea826a8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga0378847cb9590cee83bbe446f0d17958">SPI_MASTER_NATIVE_GET_BASE</a>(spim_p)&nbsp;&nbsp;&nbsp;(&amp;((struct <a class="el" href="structspi__master__priv.html">spi_master_priv</a> *)spim_p)-&gt;base.base)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get base definition of <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a>.  <a href="#ga0378847cb9590cee83bbe446f0d17958"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gaab21f9c57c3890b902ca84bcddd7bed4">SPI_DEVICE_NATIVE_GET_BASE</a>(spid_p)&nbsp;&nbsp;&nbsp;(&amp;((struct <a class="el" href="structspi__device__priv.html">spi_device_priv</a> *)spid_p)-&gt;base)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get base definition of native <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a>.  <a href="#gaab21f9c57c3890b902ca84bcddd7bed4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga0d04a035cf299f47445c96806194f6d8">SPI_ID_LAST</a>&nbsp;&nbsp;&nbsp;11</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last SPI ID.  <a href="#ga0d04a035cf299f47445c96806194f6d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga10b34b6e7cf7544e6d0f48fb949935ed">SPI_ID_UART_FIRST</a>&nbsp;&nbsp;&nbsp;4</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">First SPI ID which is a uart.  <a href="#ga10b34b6e7cf7544e6d0f48fb949935ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga88f27c5e8d494a3c1b585cfa9d4e1c23">spi_id_is_valid</a>(spi_id)&nbsp;&nbsp;&nbsp;(spi_id &lt;= SPI_ID_LAST)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> is valid.  <a href="#ga88f27c5e8d494a3c1b585cfa9d4e1c23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga318da8bb3fbd1b63763106e8e8dcd245">SPI_ID_NATIVE_IS_ENABLED</a>&nbsp;&nbsp;&nbsp;false</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if native SPI is enabled  <a href="#ga318da8bb3fbd1b63763106e8e8dcd245"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga430ddc8092122fdf5d80dc0068680870">SPI_ID_UART_IS_ENABLED</a>&nbsp;&nbsp;&nbsp;false</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if uart SPI is enabled  <a href="#ga430ddc8092122fdf5d80dc0068680870"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga916159d2d86f282460dcf6fb4ea74e0a">SPI_MASTER_TYPE_NAME</a>(spi_id)&nbsp;&nbsp;&nbsp;spi_master_type##spi_id</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived type name from spi_id.  <a href="#ga916159d2d86f282460dcf6fb4ea74e0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gab0ec5af64079338940efb18f8284519d">DECLARE_SPI_MASTER</a>(spi_id, varname)&nbsp;&nbsp;&nbsp;struct SPI_MASTER_TYPE_NAME(spi_id) varname</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare a <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived struct for given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>.  <a href="#gab0ec5af64079338940efb18f8284519d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gafeac455155a9e246a6d63c8ac22dfdef">SPI_DEVICE_TYPE_NAME</a>(spi_id)&nbsp;&nbsp;&nbsp;spi_device_type##spi_id</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived type name from spi_id.  <a href="#gafeac455155a9e246a6d63c8ac22dfdef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga476d6b55f4566e051486bee13ab0552c">DECLARE_SPI_DEVICE</a>(spi_id, varname)&nbsp;&nbsp;&nbsp;struct SPI_DEVICE_TYPE_NAME(spi_id) varname</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Declare a <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived struct for given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>.  <a href="#ga476d6b55f4566e051486bee13ab0552c"></a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga9f920dc414690900ee3ad0049cd35f3a">maxloops_t</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Defintion of poll loop counter variable.  <a href="#ga9f920dc414690900ee3ad0049cd35f3a"></a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga48167d30395fdcb898f7055fb6feadf9">spi_poll</a> (struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Poll SPI registers for required actions.  <a href="#ga48167d30395fdcb898f7055fb6feadf9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga0a87144e120106f3a590f7d830c85016">spi_priv_master_setup_device</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id, struct <a class="el" href="structspi__device.html">spi_device</a> *device, <a class="el" href="group__spi__xmega__internal__group.html#ga781db101a4c4490735eb12d3cb92fde7">spi_flags_t</a> flags, unsigned long baud_rate, <a class="el" href="board_2xplain_2include_2board_2spi_8h.html#a2b0fdae4392e5ea70eb2c238bdf1feb4">board_spi_select_id_t</a> sel_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private setup SPI device.  <a href="#ga0a87144e120106f3a590f7d830c85016"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gad4a6a264b2a801b45318c296edd89492">spi_priv_select_device</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *master, struct <a class="el" href="structspi__device.html">spi_device</a> *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private select SPI device.  <a href="#gad4a6a264b2a801b45318c296edd89492"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gabfe0503428169df266243cc786c8fe3f">spi_priv_deselect_device</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *master, struct <a class="el" href="structspi__device.html">spi_device</a> *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private deselect SPI device.  <a href="#gabfe0503428169df266243cc786c8fe3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gaca8f508d7a0052618f5f2059e4f0e9b6">spi_priv_master_init</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id, struct <a class="el" href="structspi__master.html">spi_master</a> *master)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private init SPI master.  <a href="#gaca8f508d7a0052618f5f2059e4f0e9b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga93a61dce55506d09949605302cbe78d3">spi_master_get_base</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id, void *priv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multiplex statements based on <em>spi_id</em>.  <a href="#ga93a61dce55506d09949605302cbe78d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gac337fe2f8278daddac93f1de167c0850">spi_master_get_size</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived struct size for the given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>.  <a href="#gac337fe2f8278daddac93f1de167c0850"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gad343f1dec6774a649c07a93bc21a8e2b">spi_device_get_base</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id, void *priv)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get base defintion of <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a>.  <a href="#gad343f1dec6774a649c07a93bc21a8e2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gaef2aa8543289f060cb84e4a25afc44c9">spi_device_get_size</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived struct size for the given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>.  <a href="#gaef2aa8543289f060cb84e4a25afc44c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga9d59ed5596a6b01cabde202f5be72dc7">spi_priv_enable</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private SPI enable.  <a href="#ga9d59ed5596a6b01cabde202f5be72dc7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga2935171be3d996cc34131106b725f92d">spi_priv_disable</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private SPI disable.  <a href="#ga2935171be3d996cc34131106b725f92d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga90a22f2a10cfd3f63779a80be83ab73d">spi_priv_is_enabled</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private SPI is enabled.  <a href="#ga90a22f2a10cfd3f63779a80be83ab73d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga2624a1514d5b2f02a38c267b4e37cd85">spi_priv_is_int_flag_set</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *spim)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Test if SPI interrupt flag is set.  <a href="#ga2624a1514d5b2f02a38c267b4e37cd85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga5eee8a14d502b835d45e5856306bdd5c">spi_priv_read_data</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *spim)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SPI read data register.  <a href="#ga5eee8a14d502b835d45e5856306bdd5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga5490cf10be42068eda48d6a78e6a21a3">spi_priv_write_data</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *spim, <a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">SPI write data register.  <a href="#ga5490cf10be42068eda48d6a78e6a21a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gad23ed6948a24a822174bc5378efecabd">spi_priv_master_setup_device_regs</a> (struct <a class="el" href="structspi__device.html">spi_device</a> *device, <a class="el" href="group__spi__xmega__internal__group.html#ga781db101a4c4490735eb12d3cb92fde7">spi_flags_t</a> flags, unsigned long baud_rate)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup SPI device register specifics.  <a href="#gad23ed6948a24a822174bc5378efecabd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#ga5d3c00a024539014410d58c8def9e9c7">spi_priv_select_device_regs</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *spim, struct <a class="el" href="structspi__device.html">spi_device</a> *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Select SPI device register specifics.  <a href="#ga5d3c00a024539014410d58c8def9e9c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gacdda1f2b4f005ed5f5372fdc5c3236d5">spi_priv_deselect_device_regs</a> (struct <a class="el" href="structspi__master.html">spi_master</a> *spim, struct <a class="el" href="structspi__device.html">spi_device</a> *device)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deselect SPI device register specifics.  <a href="#gacdda1f2b4f005ed5f5372fdc5c3236d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__mega__xmega__internal__group.html#gae9ff02e62d576e8f8a33e5a4534b79c6">spi_priv_master_init_regs</a> (<a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a> spi_id, struct <a class="el" href="structspi__master.html">spi_master</a> *spim)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Init SPI master register specifics.  <a href="#gae9ff02e62d576e8f8a33e5a4534b79c6"></a><br/></td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga476d6b55f4566e051486bee13ab0552c"></a><!-- doxytag: member="spi_mega_xmega.h::DECLARE_SPI_DEVICE" ref="ga476d6b55f4566e051486bee13ab0552c" args="(spi_id, varname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_SPI_DEVICE</td>
          <td>(</td>
          <td class="paramtype">spi_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">varname&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;struct SPI_DEVICE_TYPE_NAME(spi_id) varname</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare a <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived struct for given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varname</em>&nbsp;</td><td>Name to declare it as </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00331">331</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab0ec5af64079338940efb18f8284519d"></a><!-- doxytag: member="spi_mega_xmega.h::DECLARE_SPI_MASTER" ref="gab0ec5af64079338940efb18f8284519d" args="(spi_id, varname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_SPI_MASTER</td>
          <td>(</td>
          <td class="paramtype">spi_id, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">varname&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;struct SPI_MASTER_TYPE_NAME(spi_id) varname</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Declare a <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived struct for given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varname</em>&nbsp;</td><td>Name to declare it as </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00257">257</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f977147000cd8a40ccfacafea826a8e"></a><!-- doxytag: member="spi_mega_xmega.c::MAXLOOPS" ref="ga1f977147000cd8a40ccfacafea826a8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXLOOPS&nbsp;&nbsp;&nbsp;255</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum number of polling loops. </p>
<p>This is the maximum number of loops run in the polling function before it must reschedule itself. </p>

<p>Definition at line <a class="el" href="spi__mega__xmega_8c_source.html#l00069">69</a> of file <a class="el" href="spi__mega__xmega_8c_source.html">spi_mega_xmega.c</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8c_source.html#l00102">spi_poll()</a>.</p>

</div>
</div>
<a class="anchor" id="gaab21f9c57c3890b902ca84bcddd7bed4"></a><!-- doxytag: member="spi_xmega.h::SPI_DEVICE_NATIVE_GET_BASE" ref="gaab21f9c57c3890b902ca84bcddd7bed4" args="(spid_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_DEVICE_NATIVE_GET_BASE</td>
          <td>(</td>
          <td class="paramtype">spid_p&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(&amp;((struct <a class="el" href="structspi__device__priv.html">spi_device_priv</a> *)spid_p)-&gt;base)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get base definition of native <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spid_p</em>&nbsp;</td><td>Pointer to <a class="el" href="structspi__device__priv.html" title="Private SPI device definition.">spi_device_priv</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00340">spi_device_get_base()</a>.</p>

</div>
</div>
<a class="anchor" id="gafeac455155a9e246a6d63c8ac22dfdef"></a><!-- doxytag: member="spi_mega_xmega.h::SPI_DEVICE_TYPE_NAME" ref="gafeac455155a9e246a6d63c8ac22dfdef" args="(spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_DEVICE_TYPE_NAME</td>
          <td>(</td>
          <td class="paramtype">spi_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;spi_device_type##spi_id</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived type name from spi_id. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00323">323</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga88f27c5e8d494a3c1b585cfa9d4e1c23"></a><!-- doxytag: member="spi_mega_xmega.h::spi_id_is_valid" ref="ga88f27c5e8d494a3c1b585cfa9d4e1c23" args="(spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define spi_id_is_valid</td>
          <td>(</td>
          <td class="paramtype">spi_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(spi_id &lt;= SPI_ID_LAST)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test if <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> is valid. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>Id is valid </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>Not a valid id </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00232">232</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00340">spi_device_get_base()</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00355">spi_device_get_size()</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00373">spi_disable()</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00364">spi_enable()</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00382">spi_is_enabled()</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00294">spi_master_get_base()</a>, and <a class="el" href="spi__mega__xmega_8h_source.html#l00309">spi_master_get_size()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0d04a035cf299f47445c96806194f6d8"></a><!-- doxytag: member="spi.h::SPI_ID_LAST" ref="ga0d04a035cf299f47445c96806194f6d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_ID_LAST&nbsp;&nbsp;&nbsp;11</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Last SPI ID. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html#l00072">72</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga318da8bb3fbd1b63763106e8e8dcd245"></a><!-- doxytag: member="spi.h::SPI_ID_NATIVE_IS_ENABLED" ref="ga318da8bb3fbd1b63763106e8e8dcd245" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_ID_NATIVE_IS_ENABLED&nbsp;&nbsp;&nbsp;false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if native SPI is enabled </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html#l00078">78</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga10b34b6e7cf7544e6d0f48fb949935ed"></a><!-- doxytag: member="spi.h::SPI_ID_UART_FIRST" ref="ga10b34b6e7cf7544e6d0f48fb949935ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_ID_UART_FIRST&nbsp;&nbsp;&nbsp;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>First SPI ID which is a uart. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html#l00071">71</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga430ddc8092122fdf5d80dc0068680870"></a><!-- doxytag: member="spi.h::SPI_ID_UART_IS_ENABLED" ref="ga430ddc8092122fdf5d80dc0068680870" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_ID_UART_IS_ENABLED&nbsp;&nbsp;&nbsp;false</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true if uart SPI is enabled </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html#l00087">87</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2spi_8h_source.html">spi.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0378847cb9590cee83bbe446f0d17958"></a><!-- doxytag: member="spi_xmega.h::SPI_MASTER_NATIVE_GET_BASE" ref="ga0378847cb9590cee83bbe446f0d17958" args="(spim_p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_MASTER_NATIVE_GET_BASE</td>
          <td>(</td>
          <td class="paramtype">spim_p&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(&amp;((struct <a class="el" href="structspi__master__priv.html">spi_master_priv</a> *)spim_p)-&gt;base.base)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get base definition of <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim_p</em>&nbsp;</td><td>Pointer to private derived <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00294">spi_master_get_base()</a>.</p>

</div>
</div>
<a class="anchor" id="ga916159d2d86f282460dcf6fb4ea74e0a"></a><!-- doxytag: member="spi_mega_xmega.h::SPI_MASTER_TYPE_NAME" ref="ga916159d2d86f282460dcf6fb4ea74e0a" args="(spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SPI_MASTER_TYPE_NAME</td>
          <td>(</td>
          <td class="paramtype">spi_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;spi_master_type##spi_id</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived type name from spi_id. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00249">249</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="ga9f920dc414690900ee3ad0049cd35f3a"></a><!-- doxytag: member="spi_mega_xmega.c::maxloops_t" ref="ga9f920dc414690900ee3ad0049cd35f3a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="el" href="group__spi__mega__xmega__internal__group.html#ga9f920dc414690900ee3ad0049cd35f3a">maxloops_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defintion of poll loop counter variable. </p>
<p><b>For internal use only.</b></p>
<p>This helps the compiler in optimizing the loop to be as fast as possible </p>

<p>Definition at line <a class="el" href="spi__mega__xmega_8c_source.html#l00079">79</a> of file <a class="el" href="spi__mega__xmega_8c_source.html">spi_mega_xmega.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gad343f1dec6774a649c07a93bc21a8e2b"></a><!-- doxytag: member="spi_mega_xmega.h::spi_device_get_base" ref="gad343f1dec6774a649c07a93bc21a8e2b" args="(spi_id_t spi_id, void *priv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structspi__device.html">spi_device</a>* spi_device_get_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>priv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get base defintion of <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priv</em>&nbsp;</td><td>Pointer to private declared SPI device struct </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00340">340</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="group__spi__mega__xmega__internal__group.html#gaab21f9c57c3890b902ca84bcddd7bed4">SPI_DEVICE_NATIVE_GET_BASE</a>, and <a class="el" href="spi__mega__xmega_8h_source.html#l00232">spi_id_is_valid</a>.</p>

</div>
</div>
<a class="anchor" id="gaef2aa8543289f060cb84e4a25afc44c9"></a><!-- doxytag: member="spi_mega_xmega.h::spi_device_get_size" ref="gaef2aa8543289f060cb84e4a25afc44c9" args="(spi_id_t spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static size_t spi_device_get_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get <a class="el" href="structspi__device.html" title="Polled SPI device defintion.">spi_device</a> derived struct size for the given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00355">355</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="group__spi__xmega__internal__group.html#gabd297dc285664141f09a95e8f4c665a8">SPI_DEVICE_NATIVE_TYPE</a>, and <a class="el" href="spi__mega__xmega_8h_source.html#l00232">spi_id_is_valid</a>.</p>

</div>
</div>
<a class="anchor" id="ga93a61dce55506d09949605302cbe78d3"></a><!-- doxytag: member="spi_mega_xmega.h::spi_master_get_base" ref="ga93a61dce55506d09949605302cbe78d3" args="(spi_id_t spi_id, void *priv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structspi__master.html">spi_master</a>* spi_master_get_base </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>priv</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Multiplex statements based on <em>spi_id</em>. </p>
<p>This multiplexing definition is set up based on what SPI driver variants have been enabled thru config. For a single variant any testing on spi_id is bypassed, and for several spi_id is used for multiplexing.</p>
<p>The statements in <em>native</em> and <em>uart</em> are a bit off in concern to c-syntax, but contains the whole statement to be used for that variant.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>native</em>&nbsp;</td><td>Statement to run if it's native based </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uart</em>&nbsp;</td><td>Statement to run if it's uart based Get base defintion of <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priv</em>&nbsp;</td><td>Pointer to private declared spi master </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00294">294</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00232">spi_id_is_valid</a>, and <a class="el" href="group__spi__mega__xmega__internal__group.html#ga0378847cb9590cee83bbe446f0d17958">SPI_MASTER_NATIVE_GET_BASE</a>.</p>

</div>
</div>
<a class="anchor" id="gac337fe2f8278daddac93f1de167c0850"></a><!-- doxytag: member="spi_mega_xmega.h::spi_master_get_size" ref="gac337fe2f8278daddac93f1de167c0850" args="(spi_id_t spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static size_t spi_master_get_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get <a class="el" href="structspi__master.html" title="SPI master.">spi_master</a> derived struct size for the given <a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__mega__xmega_8h_source.html#l00309">309</a> of file <a class="el" href="spi__mega__xmega_8h_source.html">spi_mega_xmega.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="spi__mega__xmega_8h_source.html#l00232">spi_id_is_valid</a>, and <a class="el" href="group__spi__xmega__internal__group.html#gac3deb3626b7aa9e946e7beb0da063406">SPI_MASTER_NATIVE_TYPE</a>.</p>

</div>
</div>
<a class="anchor" id="ga48167d30395fdcb898f7055fb6feadf9"></a><!-- doxytag: member="spi_mega_xmega.c::spi_poll" ref="ga48167d30395fdcb898f7055fb6feadf9" args="(struct workqueue_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void spi_poll </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *&nbsp;</td>
          <td class="paramname"> <em>task</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Poll SPI registers for required actions. </p>
<p><b>For internal use only.</b></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task</em>&nbsp;</td><td>Polling task structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This poll function flow is optimized for best performance with the SPI hardware. There are two critical paths that should be as short as possible:</dd></dl>
<p>1. Time between interrupt flag is set to write of data register for next transfer should be as short as possible. This to keep the time between transfers as short as possible.</p>
<p>2. Time between writing and checking the interrupt flag should be minimum 16 cycles long. Maximum speed of spi is half of cpu clock, and with a 8-bit transfer this ideally should happen within 16 cpu cycles. </p>

<p>Definition at line <a class="el" href="spi__mega__xmega_8c_source.html#l00102">102</a> of file <a class="el" href="spi__mega__xmega_8c_source.html">spi_mega_xmega.c</a>.</p>

<p>References <a class="el" href="spi__polled_8h_source.html#l00069">spi_master_polled::base</a>, <a class="el" href="util_8h_source.html#l00120">container_of</a>, <a class="el" href="workqueue_8h_source.html#l00247">nested_workqueue::current</a>, <a class="el" href="workqueue_8c_source.html#l00047">main_workqueue</a>, <a class="el" href="spi__mega__xmega_8c_source.html#l00069">MAXLOOPS</a>, <a class="el" href="include_2spi_8h_source.html#l00146">spi_master::nwq</a>, <a class="el" href="spi__polled_8h_source.html#l00075">spi_master_polled::op</a>, <a class="el" href="spi__polled_8h_source.html#l00071">spi_master_polled::poll</a>, <a class="el" href="spi__polled_8h_source.html#l00079">spi_master_polled::read_data</a>, <a class="el" href="include_2spi_8h_source.html#l00150">spi_master::residue</a>, <a class="el" href="spi__polled_8h_source.html#l00054">SPI_OP_READ</a>, <a class="el" href="spi__polled_8h_source.html#l00053">SPI_OP_WRITE</a>, <a class="el" href="spi__polled_8h_source.html#l00123">spi_polled_is_buffer_op()</a>, <a class="el" href="spi__polled_8h_source.html#l00153">spi_polled_sched_next_buffer()</a>, <a class="el" href="spi__polled_8h_source.html#l00139">spi_polled_sched_poll()</a>, <a class="el" href="spi__xmega_8h_source.html#l00116">spi_priv_is_int_flag_set()</a>, <a class="el" href="spi__xmega_8h_source.html#l00123">spi_priv_read_data()</a>, <a class="el" href="spi__xmega_8h_source.html#l00130">spi_priv_write_data()</a>, <a class="el" href="include_2spi_8h_source.html#l00148">spi_master::status</a>, <a class="el" href="status__codes_8h_source.html#l00054">STATUS_OK</a>, <a class="el" href="include_2bitops_8h_source.html#l00167">test_bit</a>, <a class="el" href="group__workqueue__group.html#gaba0573bf3d1a0201616ec03944ecfd41">workqueue_add_task()</a>, and <a class="el" href="spi__polled_8h_source.html#l00077">spi_master_polled::write_data</a>.</p>

</div>
</div>
<a class="anchor" id="gabfe0503428169df266243cc786c8fe3f"></a><!-- doxytag: member="spi_mega_xmega.c::spi_priv_deselect_device" ref="gabfe0503428169df266243cc786c8fe3f" args="(struct spi_master *master, struct spi_device *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_deselect_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>master</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private deselect SPI device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>master</em>&nbsp;</td><td>SPI master struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00418">spi_deselect_device()</a>.</p>

</div>
</div>
<a class="anchor" id="gacdda1f2b4f005ed5f5372fdc5c3236d5"></a><!-- doxytag: member="spi_xmega.h::spi_priv_deselect_device_regs" ref="gacdda1f2b4f005ed5f5372fdc5c3236d5" args="(struct spi_master *spim, struct spi_device *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_deselect_device_regs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deselect SPI device register specifics. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00170">170</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2935171be3d996cc34131106b725f92d"></a><!-- doxytag: member="spi_xmega.h::spi_priv_disable" ref="ga2935171be3d996cc34131106b725f92d" args="(spi_id_t spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private SPI disable. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00104">104</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="xmega__spi_8h_source.html#l00105">spi_write_reg</a>, <a class="el" href="group__sysclk__group.html#ga0fae379b6a38fe79aaed24382f884029">sysclk_disable_module()</a>, and <a class="el" href="sysclk_8h_source.html#l00092">SYSCLK_SPI</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00373">spi_disable()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d59ed5596a6b01cabde202f5be72dc7"></a><!-- doxytag: member="spi_xmega.h::spi_priv_enable" ref="ga9d59ed5596a6b01cabde202f5be72dc7" args="(spi_id_t spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private SPI enable. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00098">98</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="xmega__spi_8h_source.html#l00085">SPI_BIT</a>, <a class="el" href="xmega__spi_8h_source.html#l00105">spi_write_reg</a>, <a class="el" href="group__sysclk__group.html#ga012b848a4e0d038e8e1d7432d0787554">sysclk_enable_module()</a>, and <a class="el" href="sysclk_8h_source.html#l00092">SYSCLK_SPI</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00364">spi_enable()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90a22f2a10cfd3f63779a80be83ab73d"></a><!-- doxytag: member="spi_xmega.h::spi_priv_is_enabled" ref="ga90a22f2a10cfd3f63779a80be83ab73d" args="(spi_id_t spi_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_priv_is_enabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private SPI is enabled. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a></td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>SPI is enabled </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>SPI is disabled </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00110">110</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="xmega__spi_8h_source.html#l00085">SPI_BIT</a>, and <a class="el" href="xmega__spi_8h_source.html#l00108">spi_read_reg</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00382">spi_is_enabled()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2624a1514d5b2f02a38c267b4e37cd85"></a><!-- doxytag: member="spi_xmega.h::spi_priv_is_int_flag_set" ref="ga2624a1514d5b2f02a38c267b4e37cd85" args="(struct spi_master *spim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool spi_priv_is_int_flag_set </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test if SPI interrupt flag is set. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>Interrupt flag is set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>Interrupt flag is not set </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00116">116</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00059">spi_master_priv::regs</a>, <a class="el" href="xmega__spi_8h_source.html#l00085">SPI_BIT</a>, and <a class="el" href="xmega__spi_8h_source.html#l00108">spi_read_reg</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8c_source.html#l00102">spi_poll()</a>.</p>

</div>
</div>
<a class="anchor" id="gaca8f508d7a0052618f5f2059e4f0e9b6"></a><!-- doxytag: member="spi_mega_xmega.c::spi_priv_master_init" ref="gaca8f508d7a0052618f5f2059e4f0e9b6" args="(spi_id_t spi_id, struct spi_master *master)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_master_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>master</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private init SPI master. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>master</em>&nbsp;</td><td>SPI master struct </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00391">spi_master_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gae9ff02e62d576e8f8a33e5a4534b79c6"></a><!-- doxytag: member="spi_xmega.h::spi_priv_master_init_regs" ref="gae9ff02e62d576e8f8a33e5a4534b79c6" args="(spi_id_t spi_id, struct spi_master *spim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_master_init_regs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Init SPI master register specifics. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00175">175</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00059">spi_master_priv::regs</a>, <a class="el" href="xmega__spi_8h_source.html#l00085">SPI_BIT</a>, <a class="el" href="xmega__spi_8h_source.html#l00108">spi_read_reg</a>, and <a class="el" href="xmega__spi_8h_source.html#l00105">spi_write_reg</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a87144e120106f3a590f7d830c85016"></a><!-- doxytag: member="spi_mega_xmega.c::spi_priv_master_setup_device" ref="ga0a87144e120106f3a590f7d830c85016" args="(spi_id_t spi_id, struct spi_device *device, spi_flags_t flags, unsigned long baud_rate, board_spi_select_id_t sel_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_master_setup_device </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga59eca0ea1cb53b57e414dbadee990e1e">spi_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>spi_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga781db101a4c4490735eb12d3cb92fde7">spi_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>baud_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="board_2xplain_2include_2board_2spi_8h.html#a2b0fdae4392e5ea70eb2c238bdf1feb4">board_spi_select_id_t</a>&nbsp;</td>
          <td class="paramname"> <em>sel_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private setup SPI device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spi_id</em>&nbsp;</td><td><a class="el" href="group__spi__group.html#spi_module_id">SPI Module ID</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baud_rate</em>&nbsp;</td><td>Baud rate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sel_id</em>&nbsp;</td><td>Board select id </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00399">spi_master_setup_device()</a>.</p>

</div>
</div>
<a class="anchor" id="gad23ed6948a24a822174bc5378efecabd"></a><!-- doxytag: member="spi_xmega.h::spi_priv_master_setup_device_regs" ref="gad23ed6948a24a822174bc5378efecabd" args="(struct spi_device *device, spi_flags_t flags, unsigned long baud_rate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_master_setup_device_regs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__spi__xmega__internal__group.html#ga781db101a4c4490735eb12d3cb92fde7">spi_flags_t</a>&nbsp;</td>
          <td class="paramname"> <em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>baud_rate</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Setup SPI device register specifics. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Flags </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baud_rate</em>&nbsp;</td><td>Baud rate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00137">137</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00072">spi_device_priv::ctrl</a>, <a class="el" href="xmega__spi_8h_source.html#l00088">SPI_BF</a>, and <a class="el" href="xmega__spi_8h_source.html#l00085">SPI_BIT</a>.</p>

</div>
</div>
<a class="anchor" id="ga5eee8a14d502b835d45e5856306bdd5c"></a><!-- doxytag: member="spi_xmega.h::spi_priv_read_data" ref="ga5eee8a14d502b835d45e5856306bdd5c" args="(struct spi_master *spim)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> spi_priv_read_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SPI read data register. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Value from data register </dd></dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00123">123</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00059">spi_master_priv::regs</a>, and <a class="el" href="xmega__spi_8h_source.html#l00108">spi_read_reg</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8c_source.html#l00102">spi_poll()</a>.</p>

</div>
</div>
<a class="anchor" id="gad4a6a264b2a801b45318c296edd89492"></a><!-- doxytag: member="spi_mega_xmega.c::spi_priv_select_device" ref="gad4a6a264b2a801b45318c296edd89492" args="(struct spi_master *master, struct spi_device *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_select_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>master</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Private select SPI device. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>master</em>&nbsp;</td><td>SPI master struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="spi__mega__xmega_8h_source.html#l00410">spi_select_device()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5d3c00a024539014410d58c8def9e9c7"></a><!-- doxytag: member="spi_xmega.h::spi_priv_select_device_regs" ref="ga5d3c00a024539014410d58c8def9e9c7" args="(struct spi_master *spim, struct spi_device *device)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_select_device_regs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structspi__device.html">spi_device</a> *&nbsp;</td>
          <td class="paramname"> <em>device</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Select SPI device register specifics. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>SPI device struct </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00161">161</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00072">spi_device_priv::ctrl</a>, <a class="el" href="spi__xmega_8h_source.html#l00059">spi_master_priv::regs</a>, and <a class="el" href="xmega__spi_8h_source.html#l00105">spi_write_reg</a>.</p>

</div>
</div>
<a class="anchor" id="ga5490cf10be42068eda48d6a78e6a21a3"></a><!-- doxytag: member="spi_xmega.h::spi_priv_write_data" ref="ga5490cf10be42068eda48d6a78e6a21a3" args="(struct spi_master *spim, uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_priv_write_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structspi__master.html">spi_master</a> *&nbsp;</td>
          <td class="paramname"> <em>spim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SPI write data register. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>spim</em>&nbsp;</td><td>SPI master struct </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data byte to write </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="spi__xmega_8h_source.html#l00130">130</a> of file <a class="el" href="spi__xmega_8h_source.html">spi_xmega.h</a>.</p>

<p>References <a class="el" href="spi__xmega_8h_source.html#l00059">spi_master_priv::regs</a>, and <a class="el" href="xmega__spi_8h_source.html#l00105">spi_write_reg</a>.</p>

<p>Referenced by <a class="el" href="spi__mega__xmega_8c_source.html#l00102">spi_poll()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:01 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
