<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: util/softirq_common.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>util/softirq_common.c</h1><a href="softirq__common_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;<a class="code" href="arch_2avr8_2include_2arch_2softirq_8h.html" title="AVR-specific soft interrupt definitions.">softirq.h</a>&gt;</span>
<a name="l00041"></a>00041 
<a name="l00051"></a><a class="code" href="group__softirq__group.html#ga70cce0de1b4cc119b58216bfac791c2f">00051</a> <a class="code" href="group__bitops__group.html#gabd16df9e703c97e866a97611501495f2" title="Optimum type for bit operations.">bit_word_t</a> <a class="code" href="group__softirq__group.html#ga70cce0de1b4cc119b58216bfac791c2f" title="Bitmask indicating the active status of each soft interrupt.">softirq_priv_status</a>[SOFTIRQ_BITMAP_WORDS];
<a name="l00052"></a>00052 
<a name="l00057"></a><a class="code" href="group__softirq__group.html#gaad9d1697c2294393733bb9c5bd7c75af">00057</a> <span class="keyword">struct </span><a class="code" href="structsoftirq__desc.html" title="Soft interrupt descriptor.">softirq_desc</a> <a class="code" href="group__softirq__group.html#gaad9d1697c2294393733bb9c5bd7c75af" title="Table with a soft interrupt handler for each softirq.">softirq_priv_table</a>[<a class="code" href="group__softirq__group.html#gga1702df28d808aa6431a5a3f2bf4c73a6ae00a59e95b72ff82fae27613e63534c0" title="The total number of soft interrupts in the system.">SOFTIRQ_NR_IDS</a>];
<a name="l00058"></a>00058 
<a name="l00066"></a>00066 <span class="keywordtype">void</span> <a class="code" href="group__softirq__group.html#ga3729e6abb8d2c5920f9f3ecd4bdce297" title="Install a soft interrupt handler.">softirq_set_handler</a>(<span class="keyword">enum</span> <a class="code" href="group__softirq__group.html#ga1702df28d808aa6431a5a3f2bf4c73a6" title="Enumeration of all soft interrupt IDs in the system.">softirq_id</a> <span class="keywordtype">id</span>, <a class="code" href="group__softirq__group.html#ga9902849cee34e2eee84f8a703cdfcd67" title="Soft interrupt handler function.">softirq_handler_t</a> <a class="code" href="structsoftirq__desc.html#a674ce9be43e3329371daf378d006782b" title="Function to be called when softirq is active.">handler</a>,
<a name="l00067"></a>00067                 <span class="keywordtype">void</span> *<a class="code" href="structsoftirq__desc.html#a39a890e068cdb118c1e1aff07eba1f9c" title="Data pointer passed to the handler function.">data</a>)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069         <span class="keyword">struct </span><a class="code" href="structsoftirq__desc.html" title="Soft interrupt descriptor.">softirq_desc</a>     *desc;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <a class="code" href="group__assert__group.html#ga0fae3864357c8f0ddad905cf5c838766" title="Assert that condition is true at build time.">build_assert</a>(<a class="code" href="group__utility__group.html#gab9129b977a587b50ea801daac75e178f" title="Get the number of elements in array a.">ARRAY_LEN</a>(<a class="code" href="group__softirq__group.html#gaad9d1697c2294393733bb9c5bd7c75af" title="Table with a soft interrupt handler for each softirq.">softirq_priv_table</a>)
<a name="l00072"></a>00072                         &lt;= 8 * <span class="keyword">sizeof</span>(<a class="code" href="group__softirq__group.html#ga70cce0de1b4cc119b58216bfac791c2f" title="Bitmask indicating the active status of each soft interrupt.">softirq_priv_status</a>));
<a name="l00073"></a>00073         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(<span class="keywordtype">id</span> &lt; <a class="code" href="group__utility__group.html#gab9129b977a587b50ea801daac75e178f" title="Get the number of elements in array a.">ARRAY_LEN</a>(<a class="code" href="group__softirq__group.html#gaad9d1697c2294393733bb9c5bd7c75af" title="Table with a soft interrupt handler for each softirq.">softirq_priv_table</a>));
<a name="l00074"></a>00074         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(handler);
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         desc = &amp;<a class="code" href="group__softirq__group.html#gaad9d1697c2294393733bb9c5bd7c75af" title="Table with a soft interrupt handler for each softirq.">softirq_priv_table</a>[id];
<a name="l00077"></a>00077         desc-&gt;<a class="code" href="structsoftirq__desc.html#a674ce9be43e3329371daf378d006782b" title="Function to be called when softirq is active.">handler</a> = handler;
<a name="l00078"></a>00078         desc-&gt;<a class="code" href="structsoftirq__desc.html#a39a890e068cdb118c1e1aff07eba1f9c" title="Data pointer passed to the handler function.">data</a> = data;
<a name="l00079"></a>00079 }
<a name="l00080"></a>00080 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:09:58 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
