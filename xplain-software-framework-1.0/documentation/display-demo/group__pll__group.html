<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: PLL Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PLL Management<br/>
<small>
[<a class="el" href="group__clk__group.html">Clock Management</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for PLL Management:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__pll__group.png" border="0" alt="" usemap="#group____pll____group_map"/>
<map name="group____pll____group_map" id="group____pll____group">
<area shape="rect" href="group__clk__group.html" title="Clock Management" alt="" coords="5,5,139,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpll__config.html">pll_config</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Hardware-specific representation of PLL configuration.  <a href="structpll__config.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f">pll_source</a> { <a class="el" href="group__pll__group.html#ggacfb06d8fc0ffbe934077438884ae697fa8d6c5d7cba070c0062c7495fb7dd820e">PLL_SRC_RC2MHZ</a> =  0, 
<a class="el" href="group__pll__group.html#ggacfb06d8fc0ffbe934077438884ae697fae1691a76378e7695a0fbe0ad799d9f2f">PLL_SRC_RC32MHZ</a> =  2, 
<a class="el" href="group__pll__group.html#ggacfb06d8fc0ffbe934077438884ae697faa1f35e8d0a200dc3ba94d97a13bf5bfa">PLL_SRC_XOSC</a> =  3, 
<a class="el" href="group__pll__group.html#ggacfb06d8fc0ffbe934077438884ae697fa5020b47784b860efae2c423d33999dcc">PLL_NR_SOURCES</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>PLL clock source. </p>
 <a href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>PLL configuration</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpdd139d06fcd2e523a4f9909a68cf3d8e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga3a537123d019102a5c73a81022c8cce7">pll_config_init</a> (struct <a class="el" href="structpll__config.html">pll_config</a> *cfg, enum <a class="el" href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f">pll_source</a> src, unsigned int div, unsigned int mul)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize PLL configuration from standard parameters.  <a href="#ga3a537123d019102a5c73a81022c8cce7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga2b9ba9ce6a7290303f6e8d41191fd0d8">pll_config_defaults</a>(cfg, pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize PLL configuration using default parameters.  <a href="#ga2b9ba9ce6a7290303f6e8d41191fd0d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga16c8db5e3f1a2c759a88371120579c4d">pll_get_default_rate</a>(pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the default rate in Hz of <em>pll_id</em>.  <a href="#ga16c8db5e3f1a2c759a88371120579c4d"></a><br/></td></tr>
<tr><td colspan="2"><h2>Interaction with the PLL hardware</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp7e03c63e703beb8a513c74cf3f504dde"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga13aa46c615e76e7e9bc5a2b143a2b3b7">pll_config_read</a> (struct <a class="el" href="structpll__config.html">pll_config</a> *cfg, unsigned int pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the currently active configuration of <em>pll_id</em>.  <a href="#ga13aa46c615e76e7e9bc5a2b143a2b3b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#gaeee0be729bfa596c973cf6f725a89d45">pll_config_write</a> (const struct <a class="el" href="structpll__config.html">pll_config</a> *cfg, unsigned int pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the configuration <em>cfg</em> on <em>pll_id</em>.  <a href="#gaeee0be729bfa596c973cf6f725a89d45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#gaede6e280289cb0759af0f5a34f5a627f">pll_enable</a> (const struct <a class="el" href="structpll__config.html">pll_config</a> *cfg, unsigned int pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Activate the configuration <em>cfg</em> and enable PLL <em>pll_id</em>.  <a href="#gaede6e280289cb0759af0f5a34f5a627f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga9b369b5f673b10a6adf14cd3c9fea5ad">pll_disable</a> (unsigned int pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable the PLL identified by <em>pll_id</em>.  <a href="#ga9b369b5f673b10a6adf14cd3c9fea5ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e">status_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga3315f205bebaf5998a5746d14f5590c4">pll_wait_for_lock</a> (unsigned int pll_id)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Wait for PLL <em>pll_id</em> to become locked.  <a href="#ga3315f205bebaf5998a5746d14f5590c4"></a><br/></td></tr>
<tr><td colspan="2"><h2>Chip-specific PLL characteristics</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpa94979ea5c363b003be70e5887142591"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga23ebd75638f609ce613b82e773ea48a5">NR_PLLS</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Number of on-chip PLLs.  <a href="#ga23ebd75638f609ce613b82e773ea48a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#ga58acd4425beaa32dad5ccffa073cb0a5">PLL_MIN_HZ</a>&nbsp;&nbsp;&nbsp;10000000UL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Minimum frequency that the PLL can generate.  <a href="#ga58acd4425beaa32dad5ccffa073cb0a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pll__group.html#gaeced77fb7ec635ab33085a71a0c15227">PLL_MAX_HZ</a>&nbsp;&nbsp;&nbsp;200000000UL</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum frequency that the PLL can generate.  <a href="#gaeced77fb7ec635ab33085a71a0c15227"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This group contains functions and definitions related to configuring and enabling/disabling on-chip PLLs. A PLL will take an input signal (the <em>source</em>), optionally divide the frequency by a configurable <em>divider</em>, and then multiply the frequency by a configurable <em>multiplier</em>.</p>
<p>Some devices don't support input dividers; specifying any other divisor than 1 on these devices will result in an assertion failure. Other devices may have various restrictions to the frequency range of the input and output signals.</p>
<h2><a class="anchor" id="pll_group_config">
Configuration Symbols</a></h2>
<p>Each PLL has a set of default parameters determined by the following configuration symbols in the application's configuration file:</p>
<ul>
<li><b>CONFIG_PLLn_SOURCE:</b> The default clock source connected to the input of PLL <em>n</em>. Must be one of the values defined by the <a class="el" href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f" title="PLL clock source.">pll_source</a> enum.</li>
<li><b>CONFIG_PLLn_MUL:</b> The default multiplier (loop divider) of PLL <em>n</em>.</li>
<li><b>CONFIG_PLLn_DIV:</b> The default input divider of PLL <em>n</em>.</li>
</ul>
<p>These configuration symbols determine the result of calling <a class="el" href="group__pll__group.html#ga2b9ba9ce6a7290303f6e8d41191fd0d8" title="Initialize PLL configuration using default parameters.">pll_config_defaults()</a> and <a class="el" href="group__pll__group.html#ga16c8db5e3f1a2c759a88371120579c4d" title="Get the default rate in Hz of pll_id.">pll_get_default_rate()</a>.</p>
<dl class="user"><dt><b>Example: Setting up PLL0 with default parameters</b></dt><dd></dd></dl>
<p>The following example shows how to configure and enable PLL0 using the default parameters specified using the configuration symbols listed above, and with Wide Bandwidth Mode disabled (a UC3A3-specific PLL option.) </p>
<div class="fragment"><pre class="fragment">        <span class="keyword">struct </span><a class="code" href="structpll__config.html" title="Hardware-specific representation of PLL configuration.">pll_config</a> pllcfg;

        <a class="code" href="group__pll__group.html#ga2b9ba9ce6a7290303f6e8d41191fd0d8" title="Initialize PLL configuration using default parameters.">pll_config_defaults</a>(&amp;pllcfg, 0);
        pll_config_set_option(&amp;pllcfg, PLL_OPT_WBM_DISABLE);
        <a class="code" href="group__pll__group.html#gaeee0be729bfa596c973cf6f725a89d45" title="Activate the configuration cfg on pll_id.">pll_config_write</a>(&amp;pllcfg, 0);
        <a class="code" href="group__pll__group.html#ga3315f205bebaf5998a5746d14f5590c4" title="Wait for PLL pll_id to become locked.">pll_wait_for_lock</a>(0); 
</pre></div><p>When the last function call returns, PLL0 is ready to be used as the main system clock source. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga23ebd75638f609ce613b82e773ea48a5"></a><!-- doxytag: member="pll.h::NR_PLLS" ref="ga23ebd75638f609ce613b82e773ea48a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NR_PLLS&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of on-chip PLLs. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00052">52</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>Referenced by <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00103">pll_config_read()</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00110">pll_config_write()</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00129">pll_disable()</a>, and <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00140">pll_wait_for_lock()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b9ba9ce6a7290303f6e8d41191fd0d8"></a><!-- doxytag: member="pll.h::pll_config_defaults" ref="ga2b9ba9ce6a7290303f6e8d41191fd0d8" args="(cfg, pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pll_config_defaults</td>
          <td>(</td>
          <td class="paramtype">cfg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pll_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><a class="code" href="group__pll__group.html#ga3a537123d019102a5c73a81022c8cce7" title="Initialize PLL configuration from standard parameters.">pll_config_init</a>(cfg,                                            \
                        CONFIG_PLL##pll_id##_SOURCE,                    \
                        CONFIG_PLL##pll_id##_DIV,                       \
                        CONFIG_PLL##pll_id##_MUL)
</pre></div>
<p>Initialize PLL configuration using default parameters. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>The PLL configuration to be initialized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>Use defaults for this PLL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A configuration which will make the PLL run at (CONFIG_PLLx_MUL / CONFIG_PLLx_DIV) times the frequency of CONFIG_PLLx_SOURCE. </dd></dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00097">97</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga16c8db5e3f1a2c759a88371120579c4d"></a><!-- doxytag: member="pll.h::pll_get_default_rate" ref="ga16c8db5e3f1a2c759a88371120579c4d" args="(pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pll_get_default_rate</td>
          <td>(</td>
          <td class="paramtype">pll_id&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">((<a class="code" href="group__osc__group.html#gadc04bfba05e3bcfd1bc0ce496c9d01ab" title="Return the frequency of oscillator id in Hz.">osc_get_rate</a>(CONFIG_PLL##pll_id##_SOURCE)             \
                        * CONFIG_PLL##pll_id##_MUL)             \
                / CONFIG_PLL##pll_id##_DIV)
</pre></div>
<p>Get the default rate in Hz of <em>pll_id</em>. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00064">64</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>Referenced by <a class="el" href="sysclk_8h_source.html#l00131">sysclk_get_main_hz()</a>.</p>

</div>
</div>
<a class="anchor" id="gaeced77fb7ec635ab33085a71a0c15227"></a><!-- doxytag: member="pll.h::PLL_MAX_HZ" ref="gaeced77fb7ec635ab33085a71a0c15227" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLL_MAX_HZ&nbsp;&nbsp;&nbsp;200000000UL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum frequency that the PLL can generate. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00055">55</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>Referenced by <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00079">pll_config_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga58acd4425beaa32dad5ccffa073cb0a5"></a><!-- doxytag: member="pll.h::PLL_MIN_HZ" ref="ga58acd4425beaa32dad5ccffa073cb0a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLL_MIN_HZ&nbsp;&nbsp;&nbsp;10000000UL</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Minimum frequency that the PLL can generate. </p>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00054">54</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gacfb06d8fc0ffbe934077438884ae697f"></a><!-- doxytag: member="pll.h::pll_source" ref="gacfb06d8fc0ffbe934077438884ae697f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f">pll_source</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>PLL clock source. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggacfb06d8fc0ffbe934077438884ae697fa8d6c5d7cba070c0062c7495fb7dd820e"></a><!-- doxytag: member="PLL_SRC_RC2MHZ" ref="ggacfb06d8fc0ffbe934077438884ae697fa8d6c5d7cba070c0062c7495fb7dd820e" args="" -->PLL_SRC_RC2MHZ</em>&nbsp;</td><td>
<p>2 MHz Internal RC Oscillator </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacfb06d8fc0ffbe934077438884ae697fae1691a76378e7695a0fbe0ad799d9f2f"></a><!-- doxytag: member="PLL_SRC_RC32MHZ" ref="ggacfb06d8fc0ffbe934077438884ae697fae1691a76378e7695a0fbe0ad799d9f2f" args="" -->PLL_SRC_RC32MHZ</em>&nbsp;</td><td>
<p>32 MHz Internal RC Oscillator </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacfb06d8fc0ffbe934077438884ae697faa1f35e8d0a200dc3ba94d97a13bf5bfa"></a><!-- doxytag: member="PLL_SRC_XOSC" ref="ggacfb06d8fc0ffbe934077438884ae697faa1f35e8d0a200dc3ba94d97a13bf5bfa" args="" -->PLL_SRC_XOSC</em>&nbsp;</td><td>
<p>External Clock Source. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggacfb06d8fc0ffbe934077438884ae697fa5020b47784b860efae2c423d33999dcc"></a><!-- doxytag: member="PLL_NR_SOURCES" ref="ggacfb06d8fc0ffbe934077438884ae697fa5020b47784b860efae2c423d33999dcc" args="" -->PLL_NR_SOURCES</em>&nbsp;</td><td>
<p>Number of PLL sources. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00057">57</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga3a537123d019102a5c73a81022c8cce7"></a><!-- doxytag: member="pll.h::pll_config_init" ref="ga3a537123d019102a5c73a81022c8cce7" args="(struct pll_config *cfg, enum pll_source src, unsigned int div, unsigned int mul)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pll_config_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpll__config.html">pll_config</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__pll__group.html#gacfb06d8fc0ffbe934077438884ae697f">pll_source</a>&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>div</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>mul</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize PLL configuration from standard parameters. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The XMEGA PLL hardware uses hard-wired input dividers, so the user must ensure that <em>div</em> is set as follows:<ul>
<li>If <em>src</em> is PLL_SRC_32MHZ, <em>div</em> must be set to 4.</li>
<li>Otherwise, <em>div</em> must be set to 1.</li>
</ul>
</dd>
<dd>
This function may be defined inline because it is assumed to be called very few times, and usually with constant parameters. Inlining it will in such cases reduce the code size significantly.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>The PLL configuration to be initialized. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>The oscillator to be used as input to the PLL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>div</em>&nbsp;</td><td>PLL input divider. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mul</em>&nbsp;</td><td>PLL loop divider (i.e. multiplier).</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A configuration which will make the PLL run at (<em>mul</em> / <em>div</em>) times the frequency of <em>src</em> </dd></dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00079">79</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="xmega__osc_8h_source.html#l00111">OSC_BF</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2osc_8h_source.html#l00058">osc_get_rate()</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00055">PLL_MAX_HZ</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00061">PLL_NR_SOURCES</a>, and <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00059">PLL_SRC_RC32MHZ</a>.</p>

</div>
</div>
<a class="anchor" id="ga13aa46c615e76e7e9bc5a2b143a2b3b7"></a><!-- doxytag: member="pll.h::pll_config_read" ref="ga13aa46c615e76e7e9bc5a2b143a2b3b7" args="(struct pll_config *cfg, unsigned int pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pll_config_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structpll__config.html">pll_config</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pll_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the currently active configuration of <em>pll_id</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>The configuration object into which to store the currently active configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>The ID of the PLL to be accessed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00103">103</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00052">NR_PLLS</a>, and <a class="el" href="xmega__osc_8h_source.html#l00131">osc_read_reg</a>.</p>

</div>
</div>
<a class="anchor" id="gaeee0be729bfa596c973cf6f725a89d45"></a><!-- doxytag: member="pll.h::pll_config_write" ref="gaeee0be729bfa596c973cf6f725a89d45" args="(const struct pll_config *cfg, unsigned int pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pll_config_write </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structpll__config.html">pll_config</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pll_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate the configuration <em>cfg</em> on <em>pll_id</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>The configuration object representing the PLL configuration to be activated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>The ID of the PLL to be updated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00110">110</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00052">NR_PLLS</a>, and <a class="el" href="xmega__osc_8h_source.html#l00136">osc_write_reg</a>.</p>

<p>Referenced by <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00118">pll_enable()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b369b5f673b10a6adf14cd3c9fea5ad"></a><!-- doxytag: member="pll.h::pll_disable" ref="ga9b369b5f673b10a6adf14cd3c9fea5ad" args="(unsigned int pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pll_disable </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pll_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable the PLL identified by <em>pll_id</em>. </p>
<p>After this function is called, the PLL identified by <em>pll_id</em> will be disabled. The PLL configuration stored in hardware may be affected by this, so if the caller needs to restore the same configuration later, it should either do a <a class="el" href="group__pll__group.html#ga13aa46c615e76e7e9bc5a2b143a2b3b7" title="Read the currently active configuration of pll_id.">pll_config_read()</a> before disabling the PLL, or remember the last configuration written to the PLL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>The ID of the PLL to be disabled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00129">129</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00052">NR_PLLS</a>, <a class="el" href="xmega__osc_8h_source.html#l00109">OSC_BIT</a>, <a class="el" href="xmega__osc_8h_source.html#l00131">osc_read_reg</a>, and <a class="el" href="xmega__osc_8h_source.html#l00136">osc_write_reg</a>.</p>

</div>
</div>
<a class="anchor" id="gaede6e280289cb0759af0f5a34f5a627f"></a><!-- doxytag: member="pll.h::pll_enable" ref="gaede6e280289cb0759af0f5a34f5a627f" args="(const struct pll_config *cfg, unsigned int pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pll_enable </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structpll__config.html">pll_config</a> *&nbsp;</td>
          <td class="paramname"> <em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pll_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Activate the configuration <em>cfg</em> and enable PLL <em>pll_id</em>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cfg</em>&nbsp;</td><td>The PLL configuration to be activated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>The ID of the PLL to be enabled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00118">118</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="xmega__osc_8h_source.html#l00109">OSC_BIT</a>, <a class="el" href="xmega__osc_8h_source.html#l00131">osc_read_reg</a>, <a class="el" href="xmega__osc_8h_source.html#l00136">osc_write_reg</a>, and <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00110">pll_config_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3315f205bebaf5998a5746d14f5590c4"></a><!-- doxytag: member="pll.h::pll_wait_for_lock" ref="ga3315f205bebaf5998a5746d14f5590c4" args="(unsigned int pll_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e">status_t</a> pll_wait_for_lock </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>pll_id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait for PLL <em>pll_id</em> to become locked. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Use a timeout to avoid waiting forever and hanging the system</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pll_id</em>&nbsp;</td><td>The ID of the PLL to wait for.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>STATUS_OK</em>&nbsp;</td><td>The PLL is now locked. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ERR_TIMEOUT</em>&nbsp;</td><td>Timed out waiting for PLL to become locked. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00140">140</a> of file <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html">pll.h</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="chip_2atxmega128a1_2include_2chip_2pll_8h_source.html#l00052">NR_PLLS</a>, <a class="el" href="xmega__osc_8h_source.html#l00109">OSC_BIT</a>, <a class="el" href="xmega__osc_8h_source.html#l00131">osc_read_reg</a>, and <a class="el" href="status__codes_8h_source.html#l00054">STATUS_OK</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:00 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
