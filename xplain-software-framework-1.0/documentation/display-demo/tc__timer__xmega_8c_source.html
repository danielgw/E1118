<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: drivers/tc/timer/tc_timer_xmega.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>drivers/tc/timer/tc_timer_xmega.c</h1><a href="tc__timer__xmega_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;<a class="code" href="tc__timer__xmega_8h.html" title="AVR XMEGA timer/counter Timer.">timer/tc_timer_xmega.h</a>&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;<a class="code" href="assert_8h.html" title="Run-time and build-time assertion support.">assert.h</a>&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;<a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html" title="AVR-specific interrupt masking/unmasking.">interrupt.h</a>&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;<a class="code" href="arch_2avr8_2include_2arch_2intc_8h.html" title="AVR-specific internal interrupt handling.">intc.h</a>&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;<a class="code" href="xmega__tc_8h.html" title="XMEGA Timer/Counter register definitions.">regs/xmega_tc.h</a>&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;<a class="code" href="tc_8h.html" title="ATxmega128A1 chip-specific timer/counter definitions.">chip/tc.h</a>&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;<a class="code" href="chip_2atxmega128a1_2include_2chip_2pmic_8h.html" title="PMIC chip specific interrupt vector IDs.">pmic.h</a>&gt;</span>
<a name="l00049"></a>00049 
<a name="l00067"></a><a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad">00067</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>(<span class="keywordtype">void</span> *int_data)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069         <span class="keyword">struct </span><a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a> = (<span class="keyword">struct </span>timer *)int_data;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00072"></a>00072 
<a name="l00073"></a>00073         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, INTCTRLB, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(INTCTRLB_CCAINTLVL,
<a name="l00074"></a>00074                         PMIC_INTLVL_OFF));
<a name="l00075"></a>00075 
<a name="l00076"></a>00076         <span class="keywordflow">if</span> (timer-&gt;<a class="code" href="structtimer.html#afce7e4f6f1125d8ea3a5b246531e0b05" title="Function pointer to application timer callback function.">callback</a>)
<a name="l00077"></a>00077                 timer-&gt;<a class="code" href="structtimer.html#afce7e4f6f1125d8ea3a5b246531e0b05" title="Function pointer to application timer callback function.">callback</a>(timer);
<a name="l00078"></a>00078 }
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">// Set interrupt handler for the available and configured compare interrupts.</span>
<a name="l00081"></a>00081 <span class="preprocessor">#if (defined(TC0_BASE) &amp;&amp; defined(CONFIG_TIMER_0)) || defined(__DOXYGEN__)</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC0_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00083"></a>00083                 CONFIG_INTLVL_TC0_CCA);
<a name="l00084"></a>00084 <span class="preprocessor">#endif</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 <span class="preprocessor">#if defined(TC1_BASE) &amp;&amp; defined(CONFIG_TIMER_1)</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC1_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00088"></a>00088                 CONFIG_INTLVL_TC1_CCA);
<a name="l00089"></a>00089 <span class="preprocessor">#endif</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a>00091 <span class="preprocessor">#if defined(TC2_BASE) &amp;&amp; defined(CONFIG_TIMER_2)</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC2_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00093"></a>00093                 CONFIG_INTLVL_TC2_CCA);
<a name="l00094"></a>00094 <span class="preprocessor">#endif</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span>
<a name="l00096"></a>00096 <span class="preprocessor">#if defined(TC3_BASE) &amp;&amp; defined(CONFIG_TIMER_3)</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC3_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00098"></a>00098                 CONFIG_INTLVL_TC3_CCA);
<a name="l00099"></a>00099 <span class="preprocessor">#endif</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 <span class="preprocessor">#if defined(TC4_BASE) &amp;&amp; defined(CONFIG_TIMER_4)</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC4_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00103"></a>00103                 CONFIG_INTLVL_TC4_CCA);
<a name="l00104"></a>00104 <span class="preprocessor">#endif</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a>00106 <span class="preprocessor">#if defined(TC5_BASE) &amp;&amp; defined(CONFIG_TIMER_5)</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC5_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00108"></a>00108                 CONFIG_INTLVL_TC5_CCA);
<a name="l00109"></a>00109 <span class="preprocessor">#endif</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>
<a name="l00111"></a>00111 <span class="preprocessor">#if defined(TC6_BASE) &amp;&amp; defined(CONFIG_TIMER_6)</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC6_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00113"></a>00113                 CONFIG_INTLVL_TC6_CCA);
<a name="l00114"></a>00114 <span class="preprocessor">#endif</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00116"></a>00116 <span class="preprocessor">#if defined(TC7_BASE) &amp;&amp; defined(CONFIG_TIMER_7)</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span><a class="code" href="group__intc__group.html#ga4f2ab9f2c27790a07d35d81fb9e917ad" title="Define an interrupt handler for an integrated peripheral.">INTC_DEFINE_HANDLER</a>(PMIC_TC7_CCA_IRQ, <a class="code" href="group__timer__xmega__internal__group.html#gacae20d3330784b42a62f416620090cad" title="TC compare interrupt handler.">tc_timer_irq_handler</a>,
<a name="l00118"></a>00118                 CONFIG_INTLVL_TC7_CCA);
<a name="l00119"></a>00119 <span class="preprocessor">#endif</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00134"></a><a class="code" href="group__timer__xmega__group.html#ga92e77be6e17bd692bbcf771d2829c0d9">00134</a> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#gaeb692e1409b9ecb53eda541048a83cfd" title="Common initialization for timers.">tc_timer_init</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keywordtype">void</span> *<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>,
<a name="l00135"></a>00135                 <a class="code" href="group__timer__xmega__group.html#ga16d6b23aa24118a8307662a9a03b6b2a" title="Timer callback function type.">timer_callback_t</a> <a class="code" href="structtimer.html#afce7e4f6f1125d8ea3a5b246531e0b05" title="Function pointer to application timer callback function.">callback</a>)
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(regs);
<a name="l00138"></a>00138         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140         timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a> = regs;
<a name="l00141"></a>00141         timer-&gt;<a class="code" href="structtimer.html#afce7e4f6f1125d8ea3a5b246531e0b05" title="Function pointer to application timer callback function.">callback</a> = callback;
<a name="l00142"></a>00142         timer-&gt;<a class="code" href="structtimer.html#abb1906ea211354530b9acb9be5fa2ada" title="Clock selection.">clksel</a> = <a class="code" href="group__tc__xmega__group.html#ga48141e4e76096a2b42c67dab36551d79" title="Select clock for a specified TC and resolution.">tc_select_clock</a>(tc_id,
<a name="l00143"></a>00143                         (<a class="code" href="group__stdint__group.html#ga09a1e304d66d35dd47daffee9731edaa" title="32-bit unsigned integer">uint32_t</a>)CONFIG_TIMER_RESOLUTION);
<a name="l00144"></a>00144 
<a name="l00145"></a>00145         <a class="code" href="group__tc__xmega__group.html#ga3507c09d76e2a6f326a18fde506b3125" title="Enable the peripheral clock for a specified tc_id.">tc_enable_pclk</a>(tc_id);
<a name="l00146"></a>00146         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(regs, CTRLA, <a class="code" href="group__xmega__tc__regs__group.html#ga289335b1009fac820acfbe671500e661" title="None, Timer/Counter is in off state.">TC_CLKSEL_OFF</a>);
<a name="l00147"></a>00147         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(regs, CTRLFSET, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(CMD, <a class="code" href="group__xmega__tc__regs__group.html#ga63c9e7c8ebe3eb43bb9db9e3c7e7bb2a" title="Force Hard Reset.">TC_CMD_RESET</a>));
<a name="l00148"></a>00148         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(regs, CTRLB, <a class="code" href="group__xmega__tc__regs__group.html#ga02f3af20b9122445fd2a4f2d65b32035" title="Create a mask with bit name set.">TC_BIT</a>(CTRLB_CCAEN));
<a name="l00149"></a>00149         <a class="code" href="group__tc__xmega__group.html#gaadaa169f81925eeada16cb1ba7c3ead0" title="Disable the peripheral clock for a specified tc_id.">tc_disable_pclk</a>(tc_id);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         <span class="keywordflow">switch</span> (tc_id) {
<a name="l00152"></a>00152 <span class="preprocessor">#if (defined(TC0_BASE) &amp;&amp; defined(CONFIG_TIMER_0)) || defined(__DOXYGEN__)</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 0:
<a name="l00154"></a>00154                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC0_CCA_IRQ, timer);
<a name="l00155"></a>00155                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC0_CCA;
<a name="l00156"></a>00156                 <span class="keywordflow">break</span>;
<a name="l00157"></a>00157 <span class="preprocessor">#endif</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>
<a name="l00159"></a>00159 <span class="preprocessor">#if defined(TC1_BASE) &amp;&amp; defined(CONFIG_TIMER_1)</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 1:
<a name="l00161"></a>00161                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC1_CCA_IRQ, timer);
<a name="l00162"></a>00162                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC1_CCA;
<a name="l00163"></a>00163                 <span class="keywordflow">break</span>;
<a name="l00164"></a>00164 <span class="preprocessor">#endif</span>
<a name="l00165"></a>00165 <span class="preprocessor"></span>
<a name="l00166"></a>00166 <span class="preprocessor">#if defined(TC2_BASE) &amp;&amp; defined(CONFIG_TIMER_2)</span>
<a name="l00167"></a>00167 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 2:
<a name="l00168"></a>00168                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC2_CCA_IRQ, timer);
<a name="l00169"></a>00169                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC2_CCA;
<a name="l00170"></a>00170                 <span class="keywordflow">break</span>;
<a name="l00171"></a>00171 <span class="preprocessor">#endif</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>
<a name="l00173"></a>00173 <span class="preprocessor">#if defined(TC3_BASE) &amp;&amp; defined(CONFIG_TIMER_3)</span>
<a name="l00174"></a>00174 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 3:
<a name="l00175"></a>00175                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC3_CCA_IRQ, timer);
<a name="l00176"></a>00176                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC3_CCA;
<a name="l00177"></a>00177                 <span class="keywordflow">break</span>;
<a name="l00178"></a>00178 <span class="preprocessor">#endif</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span>
<a name="l00180"></a>00180 <span class="preprocessor">#if defined(TC4_BASE) &amp;&amp; defined(CONFIG_TIMER_4)</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 4:
<a name="l00182"></a>00182                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC4_CCA_IRQ, timer);
<a name="l00183"></a>00183                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC4_CCA;
<a name="l00184"></a>00184                 <span class="keywordflow">break</span>;
<a name="l00185"></a>00185 <span class="preprocessor">#endif</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>
<a name="l00187"></a>00187 <span class="preprocessor">#if defined(TC5_BASE) &amp;&amp; defined(CONFIG_TIMER_5)</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 5:
<a name="l00189"></a>00189                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC5_CCA_IRQ, timer);
<a name="l00190"></a>00190                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC5_CCA;
<a name="l00191"></a>00191                 <span class="keywordflow">break</span>;
<a name="l00192"></a>00192 <span class="preprocessor">#endif</span>
<a name="l00193"></a>00193 <span class="preprocessor"></span>
<a name="l00194"></a>00194 <span class="preprocessor">#if defined(TC6_BASE) &amp;&amp; defined(CONFIG_TIMER_6)</span>
<a name="l00195"></a>00195 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 6:
<a name="l00196"></a>00196                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC6_CCA_IRQ, timer);
<a name="l00197"></a>00197                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC6_CCA;
<a name="l00198"></a>00198                 <span class="keywordflow">break</span>;
<a name="l00199"></a>00199 <span class="preprocessor">#endif</span>
<a name="l00200"></a>00200 <span class="preprocessor"></span>
<a name="l00201"></a>00201 <span class="preprocessor">#if defined(TC7_BASE) &amp;&amp; defined(CONFIG_TIMER_7)</span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>        <span class="keywordflow">case</span> 7:
<a name="l00203"></a>00203                 <a class="code" href="group__intc__group.html#gaeb8a9866fda25b743cddaf7a567e8662" title="Associate a data pointer with an interrupt.">intc_set_irq_data</a>(PMIC_TC7_CCA_IRQ, timer);
<a name="l00204"></a>00204                 timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a> = CONFIG_INTLVL_TC7_CCA;
<a name="l00205"></a>00205                 <span class="keywordflow">break</span>;
<a name="l00206"></a>00206 <span class="preprocessor">#endif</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208         <span class="keywordflow">default</span>:
<a name="l00209"></a>00209                 <a class="code" href="group__assert__group.html#ga3ac92363f706f624b3ff8b5489f8af05" title="Assert that the case value will never need to be handled.">unhandled_case</a>(tc_id);
<a name="l00210"></a>00210         }
<a name="l00211"></a>00211 }
<a name="l00212"></a>00212 
<a name="l00227"></a><a class="code" href="group__timer__xmega__group.html#ga73aa589887587719e691a19105f445b5">00227</a> <a class="code" href="group__timer__xmega__group.html#ga846389f68c68d6bc2f6344b16eb84165" title="Driver internal timer resolution type.">timer_res_t</a> <a class="code" href="group__timer__xmega__internal__group.html#ga73aa589887587719e691a19105f445b5" title="Get best TC clock selection for specified resolution.">tc_timer_set_resolution</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <a class="code" href="group__stdint__group.html#ga09a1e304d66d35dd47daffee9731edaa" title="32-bit unsigned integer">uint32_t</a> resolution)
<a name="l00228"></a>00228 {
<a name="l00229"></a>00229         <span class="keywordflow">return</span> <a class="code" href="group__tc__xmega__group.html#ga48141e4e76096a2b42c67dab36551d79" title="Select clock for a specified TC and resolution.">tc_select_clock</a>(tc_id, resolution);
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00241"></a><a class="code" href="group__timer__xmega__group.html#gab07f21733a20eb50adc0c19c972e5cdd">00241</a> <a class="code" href="group__stdint__group.html#ga09a1e304d66d35dd47daffee9731edaa" title="32-bit unsigned integer">uint32_t</a> <a class="code" href="group__timer__xmega__internal__group.html#gab07f21733a20eb50adc0c19c972e5cdd" title="Get resolution in Hz for TC clock selection.">tc_timer_get_resolution</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <a class="code" href="group__timer__xmega__group.html#ga846389f68c68d6bc2f6344b16eb84165" title="Driver internal timer resolution type.">timer_res_t</a> timer_res)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243         <span class="keywordflow">return</span> <a class="code" href="group__tc__xmega__group.html#ga16de5cd351a2cae8cb20b246731389f1" title="Get the resolution for a specified TC and clock selection.">tc_get_resolution</a>(tc_id, timer_res);
<a name="l00244"></a>00244 }
<a name="l00245"></a>00245 
<a name="l00257"></a><a class="code" href="group__timer__xmega__group.html#gabf4b7d5ca3ac16322cbb0bea4c33c2a7">00257</a> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#gab79ff85d2e5dc23524f7589d3a9354f8" title="Update clock selection for TC.">tc_timer_write_resolution</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>,
<a name="l00258"></a>00258                 <a class="code" href="group__timer__xmega__group.html#ga846389f68c68d6bc2f6344b16eb84165" title="Driver internal timer resolution type.">timer_res_t</a> timer_res)
<a name="l00259"></a>00259 {
<a name="l00260"></a>00260         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00261"></a>00261         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>);
<a name="l00262"></a>00262 
<a name="l00263"></a>00263         timer-&gt;<a class="code" href="structtimer.html#abb1906ea211354530b9acb9be5fa2ada" title="Clock selection.">clksel</a> = timer_res;
<a name="l00264"></a>00264         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLA, timer_res);
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00274"></a><a class="code" href="group__timer__xmega__group.html#ga3645d598368f0ce5eb98ba2ab9b91299">00274</a> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#ga3645d598368f0ce5eb98ba2ab9b91299" title="Enable, reset and start TC.">tc_timer_start</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>)
<a name="l00275"></a>00275 {
<a name="l00276"></a>00276         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>);
<a name="l00277"></a>00277 
<a name="l00278"></a>00278         <a class="code" href="group__tc__xmega__group.html#ga3507c09d76e2a6f326a18fde506b3125" title="Enable the peripheral clock for a specified tc_id.">tc_enable_pclk</a>(tc_id);
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="comment">// Reset TC value, then start counting.</span>
<a name="l00281"></a>00281         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLFSET, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(CMD, <a class="code" href="group__xmega__tc__regs__group.html#ga5c16e6c41b61b0b9390ef13436b82848" title="Force Restart.">TC_CMD_RESTART</a>));
<a name="l00282"></a>00282         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLA, timer-&gt;<a class="code" href="structtimer.html#abb1906ea211354530b9acb9be5fa2ada" title="Clock selection.">clksel</a>);
<a name="l00283"></a>00283 }
<a name="l00284"></a>00284 
<a name="l00295"></a><a class="code" href="group__timer__xmega__group.html#ga0deea02ecd51108772966964ecc63db4">00295</a> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#ga0deea02ecd51108772966964ecc63db4" title="Configure new alarm on TC.">tc_timer_set_alarm</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>, <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> delay)
<a name="l00296"></a>00296 {
<a name="l00297"></a>00297         <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#a59a24f6c541d2c1b20d7c897ed7bdbca" title="Type used for holding the current interrupt state.">irqflags_t</a> flags;
<a name="l00298"></a>00298         <span class="keywordtype">bool</span> enabled;
<a name="l00299"></a>00299         <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> start;
<a name="l00300"></a>00300 
<a name="l00301"></a>00301         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00302"></a>00302         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>);
<a name="l00303"></a>00303 
<a name="l00304"></a>00304         <span class="comment">// Disable any current alarms.</span>
<a name="l00305"></a>00305         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, INTCTRLB, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(INTCTRLB_CCAINTLVL,
<a name="l00306"></a>00306                         PMIC_INTLVL_OFF));
<a name="l00307"></a>00307 
<a name="l00308"></a>00308         <span class="comment">// TC must be stopped to be sure to avoid &quot;overshoots&quot; of delays.</span>
<a name="l00309"></a>00309         enabled = <a class="code" href="group__tc__xmega__group.html#gab1997a8cc23a648afb91921a14b2819f" title="Return whether peripheral clock is enabled for a specified tc_id.">tc_pclk_is_enabled</a>(tc_id);
<a name="l00310"></a>00310         <span class="keywordflow">if</span> (!enabled)
<a name="l00311"></a>00311                 <a class="code" href="group__tc__xmega__group.html#ga3507c09d76e2a6f326a18fde506b3125" title="Enable the peripheral clock for a specified tc_id.">tc_enable_pclk</a>(tc_id);
<a name="l00312"></a>00312         <span class="keywordflow">else</span>
<a name="l00313"></a>00313                 <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLA, <a class="code" href="group__xmega__tc__regs__group.html#ga289335b1009fac820acfbe671500e661" title="None, Timer/Counter is in off state.">TC_CLKSEL_OFF</a>);
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="comment">// Disable interrupts to prevent corruption of 16-bit read and writes.</span>
<a name="l00316"></a>00316         flags = <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#ad0c5a270013dca8848f9902ec131c51f" title="Save the current interrupt state and disable interrupts.">cpu_irq_save</a>();
<a name="l00317"></a>00317 
<a name="l00318"></a>00318         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, INTFLAGS, <a class="code" href="group__xmega__tc__regs__group.html#ga02f3af20b9122445fd2a4f2d65b32035" title="Create a mask with bit name set.">TC_BIT</a>(INTFLAGS_CCAIF));
<a name="l00319"></a>00319 
<a name="l00320"></a>00320         <span class="comment">/* TC must be reset and started with \ref tc_timer_start() if disabled.</span>
<a name="l00321"></a>00321 <span class="comment">         * Set compare value accordingly.</span>
<a name="l00322"></a>00322 <span class="comment">         */</span>
<a name="l00323"></a>00323         <span class="keywordflow">if</span> (!enabled)
<a name="l00324"></a>00324                 <a class="code" href="group__xmega__tc__regs__group.html#gaf8be71814c461215258449ad7128e77a" title="Write value to 16-bit TC register reg.">tc_write_reg16</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CCA, delay);
<a name="l00325"></a>00325         <span class="keywordflow">else</span> {
<a name="l00326"></a>00326                 start = <a class="code" href="group__xmega__tc__regs__group.html#ga924ee457bed115dc91fd09f8d5947aa5" title="Read the value of 16-bit TC register reg.">tc_read_reg16</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CNT);
<a name="l00327"></a>00327                 <a class="code" href="group__xmega__tc__regs__group.html#gaf8be71814c461215258449ad7128e77a" title="Write value to 16-bit TC register reg.">tc_write_reg16</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CCA, start + delay);
<a name="l00328"></a>00328         }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#a7a4dcaf82a88398e7da6fe6099ebfc10" title="Restore saved interrupt state.">cpu_irq_restore</a>(flags);
<a name="l00331"></a>00331 
<a name="l00332"></a>00332         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, INTCTRLB, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(INTCTRLB_CCAINTLVL,
<a name="l00333"></a>00333                         timer-&gt;<a class="code" href="structtimer.html#a8a1858afef42618c048840391f77ee1a" title="Interrupt level.">intlvl</a>));
<a name="l00334"></a>00334 
<a name="l00335"></a>00335         <span class="comment">// Leave the TC in the state it was upon entry of this function.</span>
<a name="l00336"></a>00336         <span class="keywordflow">if</span> (!enabled)
<a name="l00337"></a>00337                 <a class="code" href="group__tc__xmega__group.html#gaadaa169f81925eeada16cb1ba7c3ead0" title="Disable the peripheral clock for a specified tc_id.">tc_disable_pclk</a>(tc_id);
<a name="l00338"></a>00338         <span class="keywordflow">else</span>
<a name="l00339"></a>00339                 <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLA, timer-&gt;<a class="code" href="structtimer.html#abb1906ea211354530b9acb9be5fa2ada" title="Clock selection.">clksel</a>);
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00349"></a><a class="code" href="group__timer__xmega__group.html#ga1fc8b597d380b00bb108cbea8bcd545a">00349</a> <span class="keywordtype">void</span> <a class="code" href="group__timer__xmega__internal__group.html#ga1fc8b597d380b00bb108cbea8bcd545a" title="Stop and disable TC.">tc_timer_stop</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>)
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00352"></a>00352         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354         <span class="comment">// Disable compare interrupt, then stop and disable the TC.</span>
<a name="l00355"></a>00355         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, INTCTRLB, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(INTCTRLB_CCAINTLVL,
<a name="l00356"></a>00356                         PMIC_INTLVL_OFF));
<a name="l00357"></a>00357         <a class="code" href="group__xmega__tc__regs__group.html#ga9d4e5bbbfef015af0a76284ee3311920" title="Write value to 8-bit TC register reg.">tc_write_reg8</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CTRLA, <a class="code" href="group__xmega__tc__regs__group.html#ga087e4a7535a509a325b564b5718eab61" title="Create a mask with bitfield name set to value.">TC_BF</a>(CTRLA_CLKSEL, <a class="code" href="group__xmega__tc__regs__group.html#ga289335b1009fac820acfbe671500e661" title="None, Timer/Counter is in off state.">TC_CLKSEL_OFF</a>));
<a name="l00358"></a>00358         <a class="code" href="group__tc__xmega__group.html#gaadaa169f81925eeada16cb1ba7c3ead0" title="Disable the peripheral clock for a specified tc_id.">tc_disable_pclk</a>(tc_id);
<a name="l00359"></a>00359 }
<a name="l00360"></a>00360 
<a name="l00372"></a><a class="code" href="group__timer__xmega__group.html#ga1c5ef55753ec44c68d53fc227410d622">00372</a> <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> <a class="code" href="group__timer__xmega__internal__group.html#ga1c5ef55753ec44c68d53fc227410d622" title="Get current time of TC.">tc_timer_get_time</a>(<a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> tc_id, <span class="keyword">struct</span> <a class="code" href="structtimer.html" title="Timer data.">timer</a> *<a class="code" href="structtimer.html" title="Timer data.">timer</a>)
<a name="l00373"></a>00373 {
<a name="l00374"></a>00374         <span class="keywordtype">bool</span> enabled;
<a name="l00375"></a>00375         <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#a59a24f6c541d2c1b20d7c897ed7bdbca" title="Type used for holding the current interrupt state.">irqflags_t</a> flags;
<a name="l00376"></a>00376         <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> time;
<a name="l00377"></a>00377 
<a name="l00378"></a>00378         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer);
<a name="l00379"></a>00379         <a class="code" href="group__assert__group.html#gacdcc5aaebf3f273c1762f24a6ece2e5e" title="Assert that condition is true at run time.">assert</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>);
<a name="l00380"></a>00380 
<a name="l00381"></a>00381         enabled = <a class="code" href="group__tc__xmega__group.html#gab1997a8cc23a648afb91921a14b2819f" title="Return whether peripheral clock is enabled for a specified tc_id.">tc_pclk_is_enabled</a>(tc_id);
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="keywordflow">if</span> (enabled) {
<a name="l00384"></a>00384                 <span class="comment">// Disable interrupts to prevent corruption of 16-bit read.</span>
<a name="l00385"></a>00385                 flags = <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#ad0c5a270013dca8848f9902ec131c51f" title="Save the current interrupt state and disable interrupts.">cpu_irq_save</a>();
<a name="l00386"></a>00386                 time = <a class="code" href="group__xmega__tc__regs__group.html#ga924ee457bed115dc91fd09f8d5947aa5" title="Read the value of 16-bit TC register reg.">tc_read_reg16</a>(timer-&gt;<a class="code" href="structtimer.html#a274ac33de61841e7710892d8d5b5ccbf" title="Base address of timer registers.">regs</a>, CNT);
<a name="l00387"></a>00387                 <a class="code" href="arch_2avr8_2include_2arch_2interrupt_8h.html#a7a4dcaf82a88398e7da6fe6099ebfc10" title="Restore saved interrupt state.">cpu_irq_restore</a>(flags);
<a name="l00388"></a>00388         } <span class="keywordflow">else</span> {
<a name="l00389"></a>00389                 time = 0;
<a name="l00390"></a>00390         }
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         <span class="keywordflow">return</span> time;
<a name="l00393"></a>00393 }
<a name="l00394"></a>00394 
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:09:58 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
