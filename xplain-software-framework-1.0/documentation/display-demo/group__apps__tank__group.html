<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-demo: Water tank application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Water tank application<br/>
<small>
[<a class="el" href="group__apps__group.html">Applications</a>]</small>
</h1>
<p>The water tank application is a process control-inspired demonstration of the slider, progress bar and command button widgets in the <a class="el" href="group__gfx__wtk.html">Widget toolkit</a>; bitmaps of the <a class="el" href="group__gfx.html">Graphics display system</a>; and basic use of the <a class="el" href="group__gfx__win.html">Window toolkit</a>.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for Water tank application:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__apps__tank__group.png" border="0" alt="" usemap="#group____apps____tank____group_map"/>
<map name="group____apps____tank____group_map" id="group____apps____tank____group">
<area shape="rect" href="group__apps__group.html" title="Applications" alt="" coords="7,5,97,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtank__context.html">tank_context</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Context for the water tank application.  <a href="structtank__context.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga454060f2b9c2a7f895443e4e67b0415b">tank_loader_state</a> { <a class="el" href="group__apps__tank__group.html#gga454060f2b9c2a7f895443e4e67b0415bafcee5fbb65b7383c8ec0d90ddbae4d60">LOAD_RED_LIGHT</a>, 
<a class="el" href="group__apps__tank__group.html#gga454060f2b9c2a7f895443e4e67b0415ba45a2b5b0d4835d578fb221b792260c9f">LOAD_GREEN_LIGHT</a>, 
<a class="el" href="group__apps__tank__group.html#gga454060f2b9c2a7f895443e4e67b0415ba6ddfc4348b67e07b146d131fbefe1262">LOAD_BACKGROUND</a>, 
<a class="el" href="group__apps__tank__group.html#gga454060f2b9c2a7f895443e4e67b0415badf18c9dec2b78395e76466e99987be8f">LOAD_FINISHED</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>States for the application loader task. </p>
 <a href="group__apps__tank__group.html#ga454060f2b9c2a7f895443e4e67b0415b">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga25e6e4a67f94320d9984a34119dec146">tank_bitmap_id</a> { <a class="el" href="group__apps__tank__group.html#gga25e6e4a67f94320d9984a34119dec146a886a33c980cf655bb87db0f79743f232">BITMAP_RED_LIGHT</a>, 
<a class="el" href="group__apps__tank__group.html#gga25e6e4a67f94320d9984a34119dec146ab441aa813e68492572287be353d2feba">BITMAP_GREEN_LIGHT</a>, 
<a class="el" href="group__apps__tank__group.html#gga25e6e4a67f94320d9984a34119dec146aa288c003eb360f96a7bdab005043d51e">NR_OF_BITMAPS</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Enumeration of bitmaps to load to hugemem. </p>
 <a href="group__apps__tank__group.html#ga25e6e4a67f94320d9984a34119dec146">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga9c67ad111c5d786be5639fc2d489aa2e">tank_command_id</a> { <a class="el" href="group__apps__tank__group.html#gga9c67ad111c5d786be5639fc2d489aa2ea93c1ce1fac89139d9f4df4b6db21b1cc">CMD_NONE</a>, 
<a class="el" href="group__apps__tank__group.html#gga9c67ad111c5d786be5639fc2d489aa2ea423988140dabaa461f133924ca772294">CMD_EXIT</a>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Event command ID for application widgets. </p>
 <a href="group__apps__tank__group.html#ga9c67ad111c5d786be5639fc2d489aa2e">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga055a10b82bfea70f9f4d029ff5252d58">tank_frame_handler</a> (struct <a class="el" href="structwtk__basic__frame.html">wtk_basic_frame</a> *basic_frame, <a class="el" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f">win_command_t</a> command_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Command event handler for the application's frame.  <a href="#ga055a10b82bfea70f9f4d029ff5252d58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdint__group.html#gafd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga29edfa5836f371d57caa0426d291446a">tank_logistic_map</a> (<a class="el" href="group__stdint__group.html#gafd12020da5a235dfcf0c3c748fb5baed">int32_t</a> rand)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute new random value via a logistic map.  <a href="#ga29edfa5836f371d57caa0426d291446a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga333ec630fa3dbb2bd9fb13dddde68321">tank_worker</a> (struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application worker function.  <a href="#ga333ec630fa3dbb2bd9fb13dddde68321"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga32d46064a29ac6910ab002cf80216028">tank_timer_callback</a> (struct <a class="el" href="structtimer.html">timer</a> *<a class="el" href="structtimer.html">timer</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application timer callback function.  <a href="#ga32d46064a29ac6910ab002cf80216028"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga4b4d4bc2bb99c43381b8b7ce72146cce">tank_loader</a> (struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application loader.  <a href="#ga4b4d4bc2bb99c43381b8b7ce72146cce"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga7eda97a6fc540ab023d10588aa28732e">app_tank_launch</a> (struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *task)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Launch the water tank application.  <a href="#ga7eda97a6fc540ab023d10588aa28732e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__hugemem__group.html#gad1f5b6899e22cd9bc4787ad502314968">hugemem_ptr_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga9250b563cfe151176f448c4b6de63d22">tank_bitmap_data</a> [NR_OF_BITMAPS]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointers to bitmap data in hugemem.  <a href="#ga9250b563cfe151176f448c4b6de63d22"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtank__context.html">tank_context</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga7fb664d01f225008b6bce6041df7b295">tank_ctx</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pointer to water tank application context.  <a href="#ga7fb664d01f225008b6bce6041df7b295"></a><br/></td></tr>
<tr><td colspan="2"><h2>Color scheme</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpd8c42b8bd0d94b14ac75ca433526e5d1"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gafd302b6035f5bc21566c805c131d3a4d">COLOR_WIN_BACKGROUND</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(0, 0, 0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Color to initially fill screen with.  <a href="#gafd302b6035f5bc21566c805c131d3a4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga07fd9d8f4c8ec6b8c48b37c3a1b4141c">COLOR_LEVEL_FILL</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(0, 0, 255)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fill color for tank level indicator.  <a href="#ga07fd9d8f4c8ec6b8c48b37c3a1b4141c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gabe26b649868b497cb8a6ad0eb3dec3c0">COLOR_LEVEL_BACKGROUND</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(32, 32, 32)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Background color for tank level indicator.  <a href="#gabe26b649868b497cb8a6ad0eb3dec3c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaea4b3d4651065f33a8f91d21e6719611">COLOR_DEMAND_NORMAL</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(64, 192, 64)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Normal fill color for demand indicator.  <a href="#gaea4b3d4651065f33a8f91d21e6719611"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaad4b2fdb1d1eac06faad798251622e99">COLOR_DEMAND_CRITICAL</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(192, 64, 64)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Critical fill color for demand indicator.  <a href="#gaad4b2fdb1d1eac06faad798251622e99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaf834ed1f96c77cac6e7eb784862c4169">COLOR_DEMAND_BACKGROUND</a>&nbsp;&nbsp;&nbsp;GFX_COLOR(32, 32, 32)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Background color for demand indicator.  <a href="#gaf834ed1f96c77cac6e7eb784862c4169"></a><br/></td></tr>
<tr><td colspan="2"><h2>Maximum and initial values of process parameters</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp3722a6dbe0c95a7e5f301172e0a5a54e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaf441238943296076659931176d606125">VALUE_LEVEL_MAXIMUM</a>&nbsp;&nbsp;&nbsp;127</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum level of tank.  <a href="#gaf441238943296076659931176d606125"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaf4de491885c74588f7b5dc6e0c2fd79c">VALUE_LEVEL_INITIAL</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initial level of tank.  <a href="#gaf4de491885c74588f7b5dc6e0c2fd79c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gae36894d97b2a2b23eb8e0945bf338ea8">VALUE_SUPPLY_MAXIMUM</a>&nbsp;&nbsp;&nbsp;VALUE_LEVEL_MAXIMUM</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum value of supply.  <a href="#gae36894d97b2a2b23eb8e0945bf338ea8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga1fee1cdf8bc28ab1bfbef86344f796b6">VALUE_SUPPLY_INITIAL</a>&nbsp;&nbsp;&nbsp;(VALUE_SUPPLY_MAXIMUM / 2)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initial value of supply.  <a href="#ga1fee1cdf8bc28ab1bfbef86344f796b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga53d3eb9ad5638506ecc190a2412c8851">VALUE_DEMAND_MAXIMUM</a>&nbsp;&nbsp;&nbsp;VALUE_LEVEL_MAXIMUM</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maximum value of demand.  <a href="#ga53d3eb9ad5638506ecc190a2412c8851"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gab26081646d7a02b13135bd110d732e35">VALUE_DEMAND_INITIAL</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initial value of demand.  <a href="#gab26081646d7a02b13135bd110d732e35"></a><br/></td></tr>
<tr><td colspan="2"><h2>Widget sizes and positions</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp9b7cbb6ae6bce284d4f5e397457d73a6"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga4e417160b7d37901dc8d3c9271dfc2a6">WIDGET_LEVEL_SIZE_X</a>&nbsp;&nbsp;&nbsp;52</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Height of progress bar for tank level.  <a href="#ga4e417160b7d37901dc8d3c9271dfc2a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga9bfd544726b998104038cf026677a731">WIDGET_LEVEL_SIZE_Y</a>&nbsp;&nbsp;&nbsp;121</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Width of progress bar for tank level.  <a href="#ga9bfd544726b998104038cf026677a731"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaaf7b13894f0872ef96a94b110269d2dd">WIDGET_LEVEL_POSITION_X</a>&nbsp;&nbsp;&nbsp;134</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X coordinate of progress bar for tank level.  <a href="#gaaf7b13894f0872ef96a94b110269d2dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaad2f85c8a07383886d98430ac5590bdd">WIDGET_LEVEL_POSITION_Y</a>&nbsp;&nbsp;&nbsp;59</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y coordinate of progress bar for tank level.  <a href="#gaad2f85c8a07383886d98430ac5590bdd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gacb68259d194d48b58edcbf4f52e2a8c0">WIDGET_SUPPLY_SIZE_X</a>&nbsp;&nbsp;&nbsp;37</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Height of slider for supply.  <a href="#gacb68259d194d48b58edcbf4f52e2a8c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gab529fb56b5e762d9a3ad7d9d658e74a4">WIDGET_SUPPLY_SIZE_Y</a>&nbsp;&nbsp;&nbsp;105</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Width of slider for supply.  <a href="#gab529fb56b5e762d9a3ad7d9d658e74a4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga6d894a03c8a7b2f2fa2f84b5bf7f0e66">WIDGET_SUPPLY_POSITION_X</a>&nbsp;&nbsp;&nbsp;39</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X coordinate of slider for supply.  <a href="#ga6d894a03c8a7b2f2fa2f84b5bf7f0e66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gafea33d6d75ec1f26c3bb57f0abdbb23d">WIDGET_SUPPLY_POSITION_Y</a>&nbsp;&nbsp;&nbsp;85</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y coordinate of slider for supply.  <a href="#gafea33d6d75ec1f26c3bb57f0abdbb23d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga02f8b128a5d4fba1977873548d63a7a3">WIDGET_DEMAND_SIZE_X</a>&nbsp;&nbsp;&nbsp;20</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Height of progress bar for demand indication.  <a href="#ga02f8b128a5d4fba1977873548d63a7a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gafbd239e7ea8d3a5252392b7514b975ea">WIDGET_DEMAND_SIZE_Y</a>&nbsp;&nbsp;&nbsp;45</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Width of progress bar for demand indication.  <a href="#gafbd239e7ea8d3a5252392b7514b975ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga4d61f2a8b0f57934bcebb72ad736d6c7">WIDGET_DEMAND_POSITION_X</a>&nbsp;&nbsp;&nbsp;250</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X coordinate of progress bar for demand indication.  <a href="#ga4d61f2a8b0f57934bcebb72ad736d6c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gacea06d037d26b33ddb37680b9d5742c5">WIDGET_DEMAND_POSITION_Y</a>&nbsp;&nbsp;&nbsp;100</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y coordinator of progress bar for demand indication.  <a href="#gacea06d037d26b33ddb37680b9d5742c5"></a><br/></td></tr>
<tr><td colspan="2"><h2>Bitmap filenames, sizes and positions</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp3777f6c2e0bcecfd42a5aa56bc266abc"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gad1fc80ba02d339b52460ae7a3d7bdafc">BITMAP_BACKGROUND_FILENAME</a>&nbsp;&nbsp;&nbsp;&quot;p_tankbg&quot;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filename of background bitmap.  <a href="#gad1fc80ba02d339b52460ae7a3d7bdafc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga40631618718869c60ee1bdf55f77e5f0">BITMAP_BACKGROUND_SIZE_X</a>&nbsp;&nbsp;&nbsp;320</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Width of background bitmap.  <a href="#ga40631618718869c60ee1bdf55f77e5f0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gab884dbcc70f60fed0444bc936f3f9b87">BITMAP_BACKGROUND_SIZE_Y</a>&nbsp;&nbsp;&nbsp;240</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Height of background bitmap.  <a href="#gab884dbcc70f60fed0444bc936f3f9b87"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga25776f547b170688b1c42913ad1656c0">BITMAP_BACKGROUND_POSITION_X</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X coordinate of background bitmap.  <a href="#ga25776f547b170688b1c42913ad1656c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gab4dea6e2d3dd1c192ff7c45cffe081b5">BITMAP_BACKGROUND_POSITION_Y</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y coordinate of background bitmap.  <a href="#gab4dea6e2d3dd1c192ff7c45cffe081b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaa8af4926612d09c2857f08a784d5ad95">BITMAP_RED_LIGHT_FILENAME</a>&nbsp;&nbsp;&nbsp;&quot;p_lgtred&quot;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filename of red alarm light bitmap.  <a href="#gaa8af4926612d09c2857f08a784d5ad95"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga235a10b5f5cebb8dd369378facdc60a5">BITMAP_GREEN_LIGHT_FILENAME</a>&nbsp;&nbsp;&nbsp;&quot;p_lgtgrn&quot;</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Filename of green alarm light bitmap.  <a href="#ga235a10b5f5cebb8dd369378facdc60a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga1e32b475f3c1164ebfbfc653fff1a1e9">BITMAP_LIGHT_SIZE_X</a>&nbsp;&nbsp;&nbsp;38</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Width of alarm light bitmap.  <a href="#ga1e32b475f3c1164ebfbfc653fff1a1e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga13096596ae0459eee44ed97a46df8e90">BITMAP_LIGHT_SIZE_Y</a>&nbsp;&nbsp;&nbsp;38</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Height of alarm light bitmap.  <a href="#ga13096596ae0459eee44ed97a46df8e90"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga1b49ae7c221c57daa9930d950b0fb1db">BITMAP_LIGHT_POSITION_X</a>&nbsp;&nbsp;&nbsp;241</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">X coordinate of alarm light bitmap.  <a href="#ga1b49ae7c221c57daa9930d950b0fb1db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#ga7560cecfe5009db21cbc7408b9382c57">BITMAP_LIGHT_POSITION_Y</a>&nbsp;&nbsp;&nbsp;26</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Y coordinate of alarm light bitmap.  <a href="#ga7560cecfe5009db21cbc7408b9382c57"></a><br/></td></tr>
<tr><td colspan="2"><h2>Application timing configuration</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrpb51d0f7c111320afc5ef2a78b7a0e75e"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaf4021b95b18dc511ba274a310fe66d08">TICK_RATE</a>&nbsp;&nbsp;&nbsp;30</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application tick rate.  <a href="#gaf4021b95b18dc511ba274a310fe66d08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__apps__tank__group.html#gaf7d2a374ba8e1f467684f6af15307204">TICKS_PER_RANDOM_UPDATE</a>&nbsp;&nbsp;&nbsp;9</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Application ticks between each update of random variable.  <a href="#gaf7d2a374ba8e1f467684f6af15307204"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The water tank application is a process control-inspired demonstration of the slider, progress bar and command button widgets in the <a class="el" href="group__gfx__wtk.html">Widget toolkit</a>; bitmaps of the <a class="el" href="group__gfx.html">Graphics display system</a>; and basic use of the <a class="el" href="group__gfx__win.html">Window toolkit</a>. </p>
<p>The application consists of a slider for controlling the supply (flow in) of water to a tank, and two progress bars for indicating the level of the water tank and the time-varying demand (flow out) for water, respectively. An alarm light changes color from green to red whenever the tank overflows, and the indicator for demand changes color if the demand exceeds the supply and available water in the tank.</p>
<p>This application makes use of the <a class="el" href="group__timer__group.html">Timer driver</a> for maintaining a constant update rate regardless of the workqueue load. The <a class="el" href="group__appsutil__fileloader__group.html">Fileloader utility</a> is used to load the alarm light bitmaps to hugemem, allowing for synchronous drawing of them.</p>
<dl class="user"><dt><b>Simulated process</b></dt><dd></dd></dl>
<p>The process in this application was created simply to get a time-varying system, and is not meant to represent a real-world one. This section explains how the process is computed.</p>
<p>At iteration <em>n</em>, the process parameters are:</p>
<ul>
<li><em>r(n)</em> : random value</li>
<li><em>d(n)</em> : demand</li>
<li><em>l(n)</em> : level of tank</li>
<li><em>f(n)</em> : total flow of the system</li>
<li><em>s(n)</em> : supply</li>
</ul>
<p>First, the random value is computed by use of the logistic map with scaling: </p>
<div class="fragment"><pre class="fragment">r(n) = q * (r(n-1) * (k - r(n-1))) / k </pre></div><p> If <em>r(0)</em> is in the range [1 , <em>k</em> - 1], this function will return a value in the same range. The factor <em>q</em> affects how chaotic the logistic function behaves: For values close to the upper bound of 4, the function will seem quite random. In the implementation, <em>q</em> has been set to 3.95 and is represented by the ratio 79 / 20 since integer multiplications must be used. The maximum value <em>k</em> is set to the same as the maximum level of the tank: 127.</p>
<p>The demand is then computed from a weighted mean: </p>
<div class="fragment"><pre class="fragment">d(n) = (2 * d(n-1) + l(n-1) + r(n)) / 4 </pre></div><p> Disregarding the random component, this will essentially give a low-pass filtered response to changes in demand and tank level.</p>
<p>The flow of the system is then computed as: </p>
<div class="fragment"><pre class="fragment">f(n) = (s(n) - d(n)) / t </pre></div><p> The factor <em>t</em> can be used to "time-stretch" the simulated process, and has been set to 4 in the implementation. The maximum value of supply is the same as the maximum level of the tank: 127.</p>
<p>Finally, the level of the tank is then computed as: </p>
<div class="fragment"><pre class="fragment">l(n) = l(n-1) + f(n) </pre></div><p> However, the level of the tank is bounded by 0 and its maximum value. If the tank's level reaches 0, the demand indicator will change color to indicate that the supply is insufficient. If it reaches the maximum, the overflow alarm light will change color to indicate that the supply is too great. As stated above, the maximum level of the tank is set to 127. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="gad1fc80ba02d339b52460ae7a3d7bdafc"></a><!-- doxytag: member="app_tank.c::BITMAP_BACKGROUND_FILENAME" ref="gad1fc80ba02d339b52460ae7a3d7bdafc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_BACKGROUND_FILENAME&nbsp;&nbsp;&nbsp;&quot;p_tankbg&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filename of background bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00145">145</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="ga25776f547b170688b1c42913ad1656c0"></a><!-- doxytag: member="app_tank.c::BITMAP_BACKGROUND_POSITION_X" ref="ga25776f547b170688b1c42913ad1656c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_BACKGROUND_POSITION_X&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X coordinate of background bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00151">151</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="gab4dea6e2d3dd1c192ff7c45cffe081b5"></a><!-- doxytag: member="app_tank.c::BITMAP_BACKGROUND_POSITION_Y" ref="gab4dea6e2d3dd1c192ff7c45cffe081b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_BACKGROUND_POSITION_Y&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y coordinate of background bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00153">153</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="ga40631618718869c60ee1bdf55f77e5f0"></a><!-- doxytag: member="app_tank.c::BITMAP_BACKGROUND_SIZE_X" ref="ga40631618718869c60ee1bdf55f77e5f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_BACKGROUND_SIZE_X&nbsp;&nbsp;&nbsp;320</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Width of background bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00147">147</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="gab884dbcc70f60fed0444bc936f3f9b87"></a><!-- doxytag: member="app_tank.c::BITMAP_BACKGROUND_SIZE_Y" ref="gab884dbcc70f60fed0444bc936f3f9b87" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_BACKGROUND_SIZE_Y&nbsp;&nbsp;&nbsp;240</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of background bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00149">149</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="ga235a10b5f5cebb8dd369378facdc60a5"></a><!-- doxytag: member="app_tank.c::BITMAP_GREEN_LIGHT_FILENAME" ref="ga235a10b5f5cebb8dd369378facdc60a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_GREEN_LIGHT_FILENAME&nbsp;&nbsp;&nbsp;&quot;p_lgtgrn&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filename of green alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00158">158</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b49ae7c221c57daa9930d950b0fb1db"></a><!-- doxytag: member="app_tank.c::BITMAP_LIGHT_POSITION_X" ref="ga1b49ae7c221c57daa9930d950b0fb1db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_LIGHT_POSITION_X&nbsp;&nbsp;&nbsp;241</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X coordinate of alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00164">164</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7560cecfe5009db21cbc7408b9382c57"></a><!-- doxytag: member="app_tank.c::BITMAP_LIGHT_POSITION_Y" ref="ga7560cecfe5009db21cbc7408b9382c57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_LIGHT_POSITION_Y&nbsp;&nbsp;&nbsp;26</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y coordinate of alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00166">166</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e32b475f3c1164ebfbfc653fff1a1e9"></a><!-- doxytag: member="app_tank.c::BITMAP_LIGHT_SIZE_X" ref="ga1e32b475f3c1164ebfbfc653fff1a1e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_LIGHT_SIZE_X&nbsp;&nbsp;&nbsp;38</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Width of alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00160">160</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ga13096596ae0459eee44ed97a46df8e90"></a><!-- doxytag: member="app_tank.c::BITMAP_LIGHT_SIZE_Y" ref="ga13096596ae0459eee44ed97a46df8e90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_LIGHT_SIZE_Y&nbsp;&nbsp;&nbsp;38</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00162">162</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa8af4926612d09c2857f08a784d5ad95"></a><!-- doxytag: member="app_tank.c::BITMAP_RED_LIGHT_FILENAME" ref="gaa8af4926612d09c2857f08a784d5ad95" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BITMAP_RED_LIGHT_FILENAME&nbsp;&nbsp;&nbsp;&quot;p_lgtred&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Filename of red alarm light bitmap. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00156">156</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf834ed1f96c77cac6e7eb784862c4169"></a><!-- doxytag: member="app_tank.c::COLOR_DEMAND_BACKGROUND" ref="gaf834ed1f96c77cac6e7eb784862c4169" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_DEMAND_BACKGROUND&nbsp;&nbsp;&nbsp;GFX_COLOR(32, 32, 32)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Background color for demand indicator. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00078">78</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gaad4b2fdb1d1eac06faad798251622e99"></a><!-- doxytag: member="app_tank.c::COLOR_DEMAND_CRITICAL" ref="gaad4b2fdb1d1eac06faad798251622e99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_DEMAND_CRITICAL&nbsp;&nbsp;&nbsp;GFX_COLOR(192, 64, 64)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Critical fill color for demand indicator. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00076">76</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gaea4b3d4651065f33a8f91d21e6719611"></a><!-- doxytag: member="app_tank.c::COLOR_DEMAND_NORMAL" ref="gaea4b3d4651065f33a8f91d21e6719611" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_DEMAND_NORMAL&nbsp;&nbsp;&nbsp;GFX_COLOR(64, 192, 64)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Normal fill color for demand indicator. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00074">74</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gabe26b649868b497cb8a6ad0eb3dec3c0"></a><!-- doxytag: member="app_tank.c::COLOR_LEVEL_BACKGROUND" ref="gabe26b649868b497cb8a6ad0eb3dec3c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_LEVEL_BACKGROUND&nbsp;&nbsp;&nbsp;GFX_COLOR(32, 32, 32)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Background color for tank level indicator. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00072">72</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga07fd9d8f4c8ec6b8c48b37c3a1b4141c"></a><!-- doxytag: member="app_tank.c::COLOR_LEVEL_FILL" ref="ga07fd9d8f4c8ec6b8c48b37c3a1b4141c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_LEVEL_FILL&nbsp;&nbsp;&nbsp;GFX_COLOR(0, 0, 255)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fill color for tank level indicator. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00070">70</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gafd302b6035f5bc21566c805c131d3a4d"></a><!-- doxytag: member="app_tank.c::COLOR_WIN_BACKGROUND" ref="gafd302b6035f5bc21566c805c131d3a4d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COLOR_WIN_BACKGROUND&nbsp;&nbsp;&nbsp;GFX_COLOR(0, 0, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Color to initially fill screen with. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00068">68</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf4021b95b18dc511ba274a310fe66d08"></a><!-- doxytag: member="app_tank.c::TICK_RATE" ref="gaf4021b95b18dc511ba274a310fe66d08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICK_RATE&nbsp;&nbsp;&nbsp;30</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application tick rate. </p>
<p>This configures how often the application timer enqueues the application task, i.e., how often the application is updated. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00182">182</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf7d2a374ba8e1f467684f6af15307204"></a><!-- doxytag: member="app_tank.c::TICKS_PER_RANDOM_UPDATE" ref="gaf7d2a374ba8e1f467684f6af15307204" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TICKS_PER_RANDOM_UPDATE&nbsp;&nbsp;&nbsp;9</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application ticks between each update of random variable. </p>
<p>To get a smoother process simulation, the random variable is not updated with every application update. This defines how many ticks should pass before this variable is also updated. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00190">190</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gab26081646d7a02b13135bd110d732e35"></a><!-- doxytag: member="app_tank.c::VALUE_DEMAND_INITIAL" ref="gab26081646d7a02b13135bd110d732e35" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_DEMAND_INITIAL&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initial value of demand. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00099">99</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga53d3eb9ad5638506ecc190a2412c8851"></a><!-- doxytag: member="app_tank.c::VALUE_DEMAND_MAXIMUM" ref="ga53d3eb9ad5638506ecc190a2412c8851" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_DEMAND_MAXIMUM&nbsp;&nbsp;&nbsp;VALUE_LEVEL_MAXIMUM</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum value of demand. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00097">97</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, <a class="el" href="app__tank_8c_source.html#l00333">tank_logistic_map()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf4de491885c74588f7b5dc6e0c2fd79c"></a><!-- doxytag: member="app_tank.c::VALUE_LEVEL_INITIAL" ref="gaf4de491885c74588f7b5dc6e0c2fd79c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_LEVEL_INITIAL&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initial level of tank. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00091">91</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf441238943296076659931176d606125"></a><!-- doxytag: member="app_tank.c::VALUE_LEVEL_MAXIMUM" ref="gaf441238943296076659931176d606125" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_LEVEL_MAXIMUM&nbsp;&nbsp;&nbsp;127</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum level of tank. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00089">89</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1fee1cdf8bc28ab1bfbef86344f796b6"></a><!-- doxytag: member="app_tank.c::VALUE_SUPPLY_INITIAL" ref="ga1fee1cdf8bc28ab1bfbef86344f796b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_SUPPLY_INITIAL&nbsp;&nbsp;&nbsp;(VALUE_SUPPLY_MAXIMUM / 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initial value of supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00095">95</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gae36894d97b2a2b23eb8e0945bf338ea8"></a><!-- doxytag: member="app_tank.c::VALUE_SUPPLY_MAXIMUM" ref="gae36894d97b2a2b23eb8e0945bf338ea8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VALUE_SUPPLY_MAXIMUM&nbsp;&nbsp;&nbsp;VALUE_LEVEL_MAXIMUM</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Maximum value of supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00093">93</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4d61f2a8b0f57934bcebb72ad736d6c7"></a><!-- doxytag: member="app_tank.c::WIDGET_DEMAND_POSITION_X" ref="ga4d61f2a8b0f57934bcebb72ad736d6c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_DEMAND_POSITION_X&nbsp;&nbsp;&nbsp;250</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X coordinate of progress bar for demand indication. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00132">132</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gacea06d037d26b33ddb37680b9d5742c5"></a><!-- doxytag: member="app_tank.c::WIDGET_DEMAND_POSITION_Y" ref="gacea06d037d26b33ddb37680b9d5742c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_DEMAND_POSITION_Y&nbsp;&nbsp;&nbsp;100</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y coordinator of progress bar for demand indication. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00134">134</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga02f8b128a5d4fba1977873548d63a7a3"></a><!-- doxytag: member="app_tank.c::WIDGET_DEMAND_SIZE_X" ref="ga02f8b128a5d4fba1977873548d63a7a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_DEMAND_SIZE_X&nbsp;&nbsp;&nbsp;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of progress bar for demand indication. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00128">128</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gafbd239e7ea8d3a5252392b7514b975ea"></a><!-- doxytag: member="app_tank.c::WIDGET_DEMAND_SIZE_Y" ref="gafbd239e7ea8d3a5252392b7514b975ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_DEMAND_SIZE_Y&nbsp;&nbsp;&nbsp;45</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Width of progress bar for demand indication. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00130">130</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf7b13894f0872ef96a94b110269d2dd"></a><!-- doxytag: member="app_tank.c::WIDGET_LEVEL_POSITION_X" ref="gaaf7b13894f0872ef96a94b110269d2dd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_LEVEL_POSITION_X&nbsp;&nbsp;&nbsp;134</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X coordinate of progress bar for tank level. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00114">114</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gaad2f85c8a07383886d98430ac5590bdd"></a><!-- doxytag: member="app_tank.c::WIDGET_LEVEL_POSITION_Y" ref="gaad2f85c8a07383886d98430ac5590bdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_LEVEL_POSITION_Y&nbsp;&nbsp;&nbsp;59</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y coordinate of progress bar for tank level. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00116">116</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e417160b7d37901dc8d3c9271dfc2a6"></a><!-- doxytag: member="app_tank.c::WIDGET_LEVEL_SIZE_X" ref="ga4e417160b7d37901dc8d3c9271dfc2a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_LEVEL_SIZE_X&nbsp;&nbsp;&nbsp;52</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of progress bar for tank level. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00110">110</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9bfd544726b998104038cf026677a731"></a><!-- doxytag: member="app_tank.c::WIDGET_LEVEL_SIZE_Y" ref="ga9bfd544726b998104038cf026677a731" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_LEVEL_SIZE_Y&nbsp;&nbsp;&nbsp;121</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Width of progress bar for tank level. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00112">112</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6d894a03c8a7b2f2fa2f84b5bf7f0e66"></a><!-- doxytag: member="app_tank.c::WIDGET_SUPPLY_POSITION_X" ref="ga6d894a03c8a7b2f2fa2f84b5bf7f0e66" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_SUPPLY_POSITION_X&nbsp;&nbsp;&nbsp;39</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>X coordinate of slider for supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00123">123</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gafea33d6d75ec1f26c3bb57f0abdbb23d"></a><!-- doxytag: member="app_tank.c::WIDGET_SUPPLY_POSITION_Y" ref="gafea33d6d75ec1f26c3bb57f0abdbb23d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_SUPPLY_POSITION_Y&nbsp;&nbsp;&nbsp;85</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Y coordinate of slider for supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00125">125</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gacb68259d194d48b58edcbf4f52e2a8c0"></a><!-- doxytag: member="app_tank.c::WIDGET_SUPPLY_SIZE_X" ref="gacb68259d194d48b58edcbf4f52e2a8c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_SUPPLY_SIZE_X&nbsp;&nbsp;&nbsp;37</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Height of slider for supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00119">119</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="gab529fb56b5e762d9a3ad7d9d658e74a4"></a><!-- doxytag: member="app_tank.c::WIDGET_SUPPLY_SIZE_Y" ref="gab529fb56b5e762d9a3ad7d9d658e74a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WIDGET_SUPPLY_SIZE_Y&nbsp;&nbsp;&nbsp;105</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Width of slider for supply. </p>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00121">121</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga25e6e4a67f94320d9984a34119dec146"></a><!-- doxytag: member="app_tank.c::tank_bitmap_id" ref="ga25e6e4a67f94320d9984a34119dec146" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__apps__tank__group.html#ga25e6e4a67f94320d9984a34119dec146">tank_bitmap_id</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enumeration of bitmaps to load to hugemem. </p>
<p>This enum is used for indexing in <a class="el" href="group__apps__tank__group.html#ga9250b563cfe151176f448c4b6de63d22">tank_bitmap_data</a> when loading and drawing bitmaps. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga25e6e4a67f94320d9984a34119dec146a886a33c980cf655bb87db0f79743f232"></a><!-- doxytag: member="BITMAP_RED_LIGHT" ref="gga25e6e4a67f94320d9984a34119dec146a886a33c980cf655bb87db0f79743f232" args="" -->BITMAP_RED_LIGHT</em>&nbsp;</td><td>
<p>ID and index of bitmap for red alarm light. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga25e6e4a67f94320d9984a34119dec146ab441aa813e68492572287be353d2feba"></a><!-- doxytag: member="BITMAP_GREEN_LIGHT" ref="gga25e6e4a67f94320d9984a34119dec146ab441aa813e68492572287be353d2feba" args="" -->BITMAP_GREEN_LIGHT</em>&nbsp;</td><td>
<p>ID and index of bitmap for green alarm light. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga25e6e4a67f94320d9984a34119dec146aa288c003eb360f96a7bdab005043d51e"></a><!-- doxytag: member="NR_OF_BITMAPS" ref="gga25e6e4a67f94320d9984a34119dec146aa288c003eb360f96a7bdab005043d51e" args="" -->NR_OF_BITMAPS</em>&nbsp;</td><td>
<p>Total number of bitmaps loaded to hugemem. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00212">212</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c67ad111c5d786be5639fc2d489aa2e"></a><!-- doxytag: member="app_tank.c::tank_command_id" ref="ga9c67ad111c5d786be5639fc2d489aa2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__apps__tank__group.html#ga9c67ad111c5d786be5639fc2d489aa2e">tank_command_id</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Event command ID for application widgets. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The first entry is zero-valued and therefore only used for widgets that should not generate command events, i.e., it will disable this feature for most interactive widgets. Refer to the <a class="el" href="group__gfx__wtk.html">Widget toolkit</a> for more information. </dd></dl>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga9c67ad111c5d786be5639fc2d489aa2ea93c1ce1fac89139d9f4df4b6db21b1cc"></a><!-- doxytag: member="CMD_NONE" ref="gga9c67ad111c5d786be5639fc2d489aa2ea93c1ce1fac89139d9f4df4b6db21b1cc" args="" -->CMD_NONE</em>&nbsp;</td><td>
<p>Command event value to use for supply-slider. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga9c67ad111c5d786be5639fc2d489aa2ea423988140dabaa461f133924ca772294"></a><!-- doxytag: member="CMD_EXIT" ref="gga9c67ad111c5d786be5639fc2d489aa2ea423988140dabaa461f133924ca772294" args="" -->CMD_EXIT</em>&nbsp;</td><td>
<p>Command event value to use for exit-button. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00237">237</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga454060f2b9c2a7f895443e4e67b0415b"></a><!-- doxytag: member="app_tank.c::tank_loader_state" ref="ga454060f2b9c2a7f895443e4e67b0415b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__apps__tank__group.html#ga454060f2b9c2a7f895443e4e67b0415b">tank_loader_state</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>States for the application loader task. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga454060f2b9c2a7f895443e4e67b0415bafcee5fbb65b7383c8ec0d90ddbae4d60"></a><!-- doxytag: member="LOAD_RED_LIGHT" ref="gga454060f2b9c2a7f895443e4e67b0415bafcee5fbb65b7383c8ec0d90ddbae4d60" args="" -->LOAD_RED_LIGHT</em>&nbsp;</td><td>
<p>Red alarm light bitmap will be loaded to hugemem. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga454060f2b9c2a7f895443e4e67b0415ba45a2b5b0d4835d578fb221b792260c9f"></a><!-- doxytag: member="LOAD_GREEN_LIGHT" ref="gga454060f2b9c2a7f895443e4e67b0415ba45a2b5b0d4835d578fb221b792260c9f" args="" -->LOAD_GREEN_LIGHT</em>&nbsp;</td><td>
<p>Green alarm light bitmap will be loaded to hugemem. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga454060f2b9c2a7f895443e4e67b0415ba6ddfc4348b67e07b146d131fbefe1262"></a><!-- doxytag: member="LOAD_BACKGROUND" ref="gga454060f2b9c2a7f895443e4e67b0415ba6ddfc4348b67e07b146d131fbefe1262" args="" -->LOAD_BACKGROUND</em>&nbsp;</td><td>
<p>Background bitmap will be shown. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga454060f2b9c2a7f895443e4e67b0415badf18c9dec2b78395e76466e99987be8f"></a><!-- doxytag: member="LOAD_FINISHED" ref="gga454060f2b9c2a7f895443e4e67b0415badf18c9dec2b78395e76466e99987be8f" args="" -->LOAD_FINISHED</em>&nbsp;</td><td>
<p>The application's widgets will be shown, and its timer started. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00195">195</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga7eda97a6fc540ab023d10588aa28732e"></a><!-- doxytag: member="app_tank.c::app_tank_launch" ref="ga7eda97a6fc540ab023d10588aa28732e" args="(struct workqueue_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void app_tank_launch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *&nbsp;</td>
          <td class="paramname"> <em>task</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Launch the water tank application. </p>
<p>This function allocates memory, creates the application frame and widgets, initializes the timer and initiates loading of the required bitmaps.</p>
<p>One basic frame is created, along with four widgets: one slider, two progress bars and a command button. These are not shown until the background image has been loaded.</p>
<p>If the alarm light bitmaps have already been loaded, i.e., the application has already been run, the application will skip directly to loading of the background image.</p>
<p>If memory for the application context cannot be allocated or the frame or widgets cannot be created, the application will exit immediately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task</em>&nbsp;</td><td>Workqueue task to use for the application's worker functions. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00618">618</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="group__app__desktop__group.html#ga3b0b29a4aaa11773cb5ccddedd80dab5">app_desktop_restart()</a>, <a class="el" href="app__desktop_8h_source.html#l00074">APP_EXIT_BUTTON_POS_X</a>, <a class="el" href="app__desktop_8h_source.html#l00076">APP_EXIT_BUTTON_POS_Y</a>, <a class="el" href="app__desktop_8h_source.html#l00070">APP_EXIT_BUTTON_SIZE_X</a>, <a class="el" href="app__desktop_8h_source.html#l00072">APP_EXIT_BUTTON_SIZE_Y</a>, <a class="el" href="app__desktop_8h_source.html#l00078">APP_EXIT_BUTTON_TEXT</a>, <a class="el" href="include_2gfx_2win_8h_source.html#l00311">win_attributes::area</a>, <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="app__tank_8c_source.html#l00216">BITMAP_GREEN_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00160">BITMAP_LIGHT_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00162">BITMAP_LIGHT_SIZE_Y</a>, <a class="el" href="app__tank_8c_source.html#l00214">BITMAP_RED_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00273">tank_context::bitmaps</a>, <a class="el" href="app__tank_8c_source.html#l00241">CMD_EXIT</a>, <a class="el" href="app__tank_8c_source.html#l00239">CMD_NONE</a>, <a class="el" href="app__tank_8c_source.html#l00078">COLOR_DEMAND_BACKGROUND</a>, <a class="el" href="app__tank_8c_source.html#l00074">COLOR_DEMAND_NORMAL</a>, <a class="el" href="app__tank_8c_source.html#l00072">COLOR_LEVEL_BACKGROUND</a>, <a class="el" href="app__tank_8c_source.html#l00070">COLOR_LEVEL_FILL</a>, <a class="el" href="app__tank_8c_source.html#l00068">COLOR_WIN_BACKGROUND</a>, <a class="el" href="app__tank_8c_source.html#l00257">tank_context::demand</a>, <a class="el" href="app__tank_8c_source.html#l00265">tank_context::flow_alarm</a>, <a class="el" href="app__tank_8c_source.html#l00249">tank_context::frame</a>, <a class="el" href="group__gfx__gfx.html#gac466c148896f0b12a313294560e3c10c">gfx_draw_filled_rect</a>, <a class="el" href="gfx__hx8347a_8c_source.html#l00268">gfx_get_height()</a>, <a class="el" href="gfx__hx8347a_8c_source.html#l00263">gfx_get_width()</a>, <a class="el" href="gfx__hx8347a_8c_source.html#l00212">gfx_set_clipping()</a>, <a class="el" href="gfx_8h_source.html#l00285">gfx_bitmap::height</a>, <a class="el" href="app__tank_8c_source.html#l00253">tank_context::level</a>, <a class="el" href="app__tank_8c_source.html#l00263">tank_context::level_alarm</a>, <a class="el" href="app__tank_8c_source.html#l00201">LOAD_BACKGROUND</a>, <a class="el" href="app__tank_8c_source.html#l00197">LOAD_RED_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00261">tank_context::loader_state</a>, <a class="el" href="workqueue_8c_source.html#l00047">main_workqueue</a>, <a class="el" href="membag_8c_source.html#l00270">membag_alloc()</a>, <a class="el" href="membag_8c_source.html#l00327">membag_free()</a>, <a class="el" href="arch_2avr8_2include_2arch_2string_8h_source.html#l00043">memcpy()</a>, <a class="el" href="app__tank_8c_source.html#l00251">tank_context::old_sysfont</a>, <a class="el" href="include_2gfx_2win_8h_source.html#l00200">win_area::pos</a>, <a class="el" href="app__tank_8c_source.html#l00271">tank_context::rand</a>, <a class="el" href="app__tank_8c_source.html#l00269">tank_context::rand_ticks</a>, <a class="el" href="gfx_8h_source.html#l00230">font::scale</a>, <a class="el" href="include_2gfx_2win_8h_source.html#l00201">win_area::size</a>, <a class="el" href="app__tank_8c_source.html#l00255">tank_context::supply</a>, <a class="el" href="sysfont_8c_source.html#l00068">sysfont</a>, <a class="el" href="app__tank_8c_source.html#l00227">tank_bitmap_data</a>, <a class="el" href="app__tank_8c_source.html#l00298">tank_frame_handler()</a>, <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>, <a class="el" href="app__tank_8c_source.html#l00488">tank_timer_callback()</a>, <a class="el" href="app__tank_8c_source.html#l00247">tank_context::task</a>, <a class="el" href="app__tank_8c_source.html#l00182">TICK_RATE</a>, <a class="el" href="app__tank_8c_source.html#l00190">TICKS_PER_RANDOM_UPDATE</a>, <a class="el" href="app__tank_8c_source.html#l00259">tank_context::timer</a>, <a class="el" href="app__tank_8c_source.html#l00267">tank_context::timer_delay</a>, <a class="el" href="timer__xmega_8h_source.html#l00157">timer_get_resolution</a>, <a class="el" href="timer__xmega_8h_source.html#l00130">timer_init</a>, <a class="el" href="timer__xmega_8h_source.html#l00154">timer_set_resolution</a>, <a class="el" href="timer__xmega_8h_source.html#l00148">timer_write_resolution</a>, <a class="el" href="gfx_8h_source.html#l00287">gfx_bitmap::type</a>, <a class="el" href="app__tank_8c_source.html#l00099">VALUE_DEMAND_INITIAL</a>, <a class="el" href="app__tank_8c_source.html#l00097">VALUE_DEMAND_MAXIMUM</a>, <a class="el" href="app__tank_8c_source.html#l00091">VALUE_LEVEL_INITIAL</a>, <a class="el" href="app__tank_8c_source.html#l00089">VALUE_LEVEL_MAXIMUM</a>, <a class="el" href="app__tank_8c_source.html#l00095">VALUE_SUPPLY_INITIAL</a>, <a class="el" href="app__tank_8c_source.html#l00093">VALUE_SUPPLY_MAXIMUM</a>, <a class="el" href="app__tank_8c_source.html#l00132">WIDGET_DEMAND_POSITION_X</a>, <a class="el" href="app__tank_8c_source.html#l00134">WIDGET_DEMAND_POSITION_Y</a>, <a class="el" href="app__tank_8c_source.html#l00128">WIDGET_DEMAND_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00130">WIDGET_DEMAND_SIZE_Y</a>, <a class="el" href="app__tank_8c_source.html#l00114">WIDGET_LEVEL_POSITION_X</a>, <a class="el" href="app__tank_8c_source.html#l00116">WIDGET_LEVEL_POSITION_Y</a>, <a class="el" href="app__tank_8c_source.html#l00110">WIDGET_LEVEL_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00112">WIDGET_LEVEL_SIZE_Y</a>, <a class="el" href="app__tank_8c_source.html#l00123">WIDGET_SUPPLY_POSITION_X</a>, <a class="el" href="app__tank_8c_source.html#l00125">WIDGET_SUPPLY_POSITION_Y</a>, <a class="el" href="app__tank_8c_source.html#l00119">WIDGET_SUPPLY_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00121">WIDGET_SUPPLY_SIZE_Y</a>, <a class="el" href="gfx_8h_source.html#l00283">gfx_bitmap::width</a>, <a class="el" href="group__gfx__win.html#ga518fd778a7f6c3b7ae2e296e074e743f">win_destroy()</a>, <a class="el" href="group__gfx__win.html#gabb0c95ee3810418e2dff2264aac277fa">win_get_root()</a>, <a class="el" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d">win_show()</a>, <a class="el" href="group__workqueue__group.html#gaba0573bf3d1a0201616ec03944ecfd41">workqueue_add_task()</a>, <a class="el" href="workqueue_8h_source.html#l00127">workqueue_task_set_work_func()</a>, <a class="el" href="wtk__basic__frame_8c_source.html#l00081">wtk_basic_frame_as_child()</a>, <a class="el" href="wtk__basic__frame_8c_source.html#l00236">wtk_basic_frame_create()</a>, <a class="el" href="wtk__button_8c_source.html#l00087">wtk_button_as_child()</a>, <a class="el" href="wtk__button_8c_source.html#l00307">wtk_button_create()</a>, <a class="el" href="wtk__progress__bar_8c_source.html#l00088">wtk_progress_bar_as_child()</a>, <a class="el" href="wtk__progress__bar_8c_source.html#l00308">wtk_progress_bar_create()</a>, <a class="el" href="include_2gfx_2wtk_8h_source.html#l00328">WTK_PROGRESS_BAR_INVERT</a>, <a class="el" href="include_2gfx_2wtk_8h_source.html#l00318">WTK_PROGRESS_BAR_VERTICAL</a>, <a class="el" href="wtk__slider_8c_source.html#l00101">wtk_slider_as_child()</a>, <a class="el" href="wtk__slider_8c_source.html#l00466">wtk_slider_create()</a>, <a class="el" href="include_2gfx_2wtk_8h_source.html#l00262">WTK_SLIDER_INVERT</a>, and <a class="el" href="include_2gfx_2wtk_8h_source.html#l00252">WTK_SLIDER_VERTICAL</a>.</p>

</div>
</div>
<a class="anchor" id="ga055a10b82bfea70f9f4d029ff5252d58"></a><!-- doxytag: member="app_tank.c::tank_frame_handler" ref="ga055a10b82bfea70f9f4d029ff5252d58" args="(struct wtk_basic_frame *basic_frame, win_command_t command_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool tank_frame_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structwtk__basic__frame.html">wtk_basic_frame</a> *&nbsp;</td>
          <td class="paramname"> <em>basic_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f">win_command_t</a>&nbsp;</td>
          <td class="paramname"> <em>command_data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Command event handler for the application's frame. </p>
<p>This function handles the relevant command events for the application's frame. In this application, only the exit-button requires handling, and will cause an immediate exit from the application.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The handler function of the <a class="el" href="group__gfx__wtk.html">Widget toolkit</a> will destroy the frame and the widgets when this function returns true.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>basic_frame</em>&nbsp;</td><td>Pointer to the application frame. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>command_data</em>&nbsp;</td><td>Data for the command event. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00298">298</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="group__app__desktop__group.html#ga3b0b29a4aaa11773cb5ccddedd80dab5">app_desktop_restart()</a>, <a class="el" href="app__tank_8c_source.html#l00241">CMD_EXIT</a>, <a class="el" href="membag_8c_source.html#l00327">membag_free()</a>, <a class="el" href="arch_2avr8_2include_2arch_2string_8h_source.html#l00043">memcpy()</a>, <a class="el" href="app__tank_8c_source.html#l00251">tank_context::old_sysfont</a>, <a class="el" href="sysfont_8c_source.html#l00068">sysfont</a>, <a class="el" href="app__tank_8c_source.html#l00259">tank_context::timer</a>, and <a class="el" href="timer__xmega_8h_source.html#l00136">timer_stop</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4b4d4bc2bb99c43381b8b7ce72146cce"></a><!-- doxytag: member="app_tank.c::tank_loader" ref="ga4b4d4bc2bb99c43381b8b7ce72146cce" args="(struct workqueue_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void tank_loader </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *&nbsp;</td>
          <td class="paramname"> <em>task</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application loader. </p>
<p>This worker function loads the alarm light bitmaps, then loads the background image before showing all the widgets and starting the process simulation.</p>
<p>If memory for bitmaps cannot be allocated, or the background image cannot be loaded, the application will exit immediately.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task</em>&nbsp;</td><td>Workqueue task for this worker function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00506">506</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="group__app__desktop__group.html#ga3b0b29a4aaa11773cb5ccddedd80dab5">app_desktop_restart()</a>, <a class="el" href="app__tank_8c_source.html#l00145">BITMAP_BACKGROUND_FILENAME</a>, <a class="el" href="app__tank_8c_source.html#l00151">BITMAP_BACKGROUND_POSITION_X</a>, <a class="el" href="app__tank_8c_source.html#l00153">BITMAP_BACKGROUND_POSITION_Y</a>, <a class="el" href="app__tank_8c_source.html#l00147">BITMAP_BACKGROUND_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00149">BITMAP_BACKGROUND_SIZE_Y</a>, <a class="el" href="app__tank_8c_source.html#l00216">BITMAP_GREEN_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00158">BITMAP_GREEN_LIGHT_FILENAME</a>, <a class="el" href="app__tank_8c_source.html#l00214">BITMAP_RED_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00156">BITMAP_RED_LIGHT_FILENAME</a>, <a class="el" href="app__tank_8c_source.html#l00273">tank_context::bitmaps</a>, <a class="el" href="app__tank_8c_source.html#l00249">tank_context::frame</a>, <a class="el" href="arch_2avr8_2include_2arch_2hugemem_8h_source.html#l00066">HUGEMEM_NULL</a>, <a class="el" href="app__tank_8c_source.html#l00201">LOAD_BACKGROUND</a>, <a class="el" href="group__appsutil__fileloader__group.html#ga59f1795314559770cbb9868dab8b0789">load_file_to_hugemem()</a>, <a class="el" href="group__appsutil__fileloader__group.html#gac9ce98d283b3435ab545a59efd9439f1">load_file_to_screen()</a>, <a class="el" href="app__tank_8c_source.html#l00203">LOAD_FINISHED</a>, <a class="el" href="app__tank_8c_source.html#l00199">LOAD_GREEN_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00197">LOAD_RED_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00261">tank_context::loader_state</a>, <a class="el" href="membag_8c_source.html#l00327">membag_free()</a>, <a class="el" href="arch_2avr8_2include_2arch_2string_8h_source.html#l00043">memcpy()</a>, <a class="el" href="app__tank_8c_source.html#l00251">tank_context::old_sysfont</a>, <a class="el" href="status__codes_8h_source.html#l00054">STATUS_OK</a>, <a class="el" href="sysfont_8c_source.html#l00068">sysfont</a>, <a class="el" href="app__tank_8c_source.html#l00227">tank_bitmap_data</a>, <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>, <a class="el" href="app__tank_8c_source.html#l00259">tank_context::timer</a>, <a class="el" href="app__tank_8c_source.html#l00267">tank_context::timer_delay</a>, <a class="el" href="timer__xmega_8h_source.html#l00139">timer_set_alarm</a>, <a class="el" href="timer__xmega_8h_source.html#l00133">timer_start</a>, <a class="el" href="assert_8h_source.html#l00100">unhandled_case</a>, <a class="el" href="group__gfx__win.html#ga518fd778a7f6c3b7ae2e296e074e743f">win_destroy()</a>, <a class="el" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d">win_show()</a>, <a class="el" href="workqueue_8h_source.html#l00127">workqueue_task_set_work_func()</a>, and <a class="el" href="wtk__basic__frame_8c_source.html#l00081">wtk_basic_frame_as_child()</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga29edfa5836f371d57caa0426d291446a"></a><!-- doxytag: member="app_tank.c::tank_logistic_map" ref="ga29edfa5836f371d57caa0426d291446a" args="(int32_t rand)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__stdint__group.html#gafd12020da5a235dfcf0c3c748fb5baed">int32_t</a> tank_logistic_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stdint__group.html#gafd12020da5a235dfcf0c3c748fb5baed">int32_t</a>&nbsp;</td>
          <td class="paramname"> <em>rand</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute new random value via a logistic map. </p>
<p>This function computes a pseudo-random value by use of a scaled logistic map.</p>
<p>Refer to the detailed description of <a class="el" href="group__apps__tank__group.html">Water tank application</a> for information on how this is computed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rand</em>&nbsp;</td><td>Current random value to map.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>New random value, in the range 0 to VALUE_DEMAND_MAXIMUM. </dd></dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00333">333</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="util_8h_source.html#l00156">max_s</a>, <a class="el" href="util_8h_source.html#l00132">min_s</a>, and <a class="el" href="app__tank_8c_source.html#l00097">VALUE_DEMAND_MAXIMUM</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00371">tank_worker()</a>.</p>

</div>
</div>
<a class="anchor" id="ga32d46064a29ac6910ab002cf80216028"></a><!-- doxytag: member="app_tank.c::tank_timer_callback" ref="ga32d46064a29ac6910ab002cf80216028" args="(struct timer *timer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void tank_timer_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtimer.html">timer</a> *&nbsp;</td>
          <td class="paramname"> <em>timer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application timer callback function. </p>
<p>This callback function is used with the <a class="el" href="group__timer__group.html">Timer driver</a> and will enqueue the task for application updates.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>timer</em>&nbsp;</td><td>Pointer to timer struct associated with the callback. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00488">488</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="workqueue_8c_source.html#l00047">main_workqueue</a>, <a class="el" href="app__tank_8c_source.html#l00247">tank_context::task</a>, <a class="el" href="app__tank_8c_source.html#l00259">tank_context::timer</a>, <a class="el" href="app__tank_8c_source.html#l00267">tank_context::timer_delay</a>, <a class="el" href="timer__xmega_8h_source.html#l00139">timer_set_alarm</a>, and <a class="el" href="group__workqueue__group.html#gaba0573bf3d1a0201616ec03944ecfd41">workqueue_add_task()</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ga333ec630fa3dbb2bd9fb13dddde68321"></a><!-- doxytag: member="app_tank.c::tank_worker" ref="ga333ec630fa3dbb2bd9fb13dddde68321" args="(struct workqueue_task *task)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void tank_worker </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structworkqueue__task.html">workqueue_task</a> *&nbsp;</td>
          <td class="paramname"> <em>task</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Application worker function. </p>
<p>This task worker updates the parameters of the simulated process and the display unless the application context has been cleared, in which case the function returns immediately.</p>
<p>Refer to the detailed description of <a class="el" href="group__apps__tank__group.html">Water tank application</a> for information on the simulated process.</p>
<p>If the tank level reaches 0, the indicator for demand will change color to indicate that the supply is insufficient. If, on the other hand, it reaches <a class="el" href="group__apps__tank__group.html#gaf441238943296076659931176d606125">VALUE_LEVEL_MAXIMUM</a>, the alarm light changes color to indicate that the supply is too great.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The task for this worker function is enqueued by the timer callback function.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>task</em>&nbsp;</td><td>Workqueue task for this worker function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00371">371</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>References <a class="el" href="app__tank_8c_source.html#l00216">BITMAP_GREEN_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00164">BITMAP_LIGHT_POSITION_X</a>, <a class="el" href="app__tank_8c_source.html#l00166">BITMAP_LIGHT_POSITION_Y</a>, <a class="el" href="app__tank_8c_source.html#l00160">BITMAP_LIGHT_SIZE_X</a>, <a class="el" href="app__tank_8c_source.html#l00162">BITMAP_LIGHT_SIZE_Y</a>, <a class="el" href="app__tank_8c_source.html#l00214">BITMAP_RED_LIGHT</a>, <a class="el" href="app__tank_8c_source.html#l00273">tank_context::bitmaps</a>, <a class="el" href="app__tank_8c_source.html#l00078">COLOR_DEMAND_BACKGROUND</a>, <a class="el" href="app__tank_8c_source.html#l00076">COLOR_DEMAND_CRITICAL</a>, <a class="el" href="app__tank_8c_source.html#l00074">COLOR_DEMAND_NORMAL</a>, <a class="el" href="app__tank_8c_source.html#l00257">tank_context::demand</a>, <a class="el" href="app__tank_8c_source.html#l00265">tank_context::flow_alarm</a>, <a class="el" href="gfx__bitmap_8c_source.html#l00055">gfx_draw_bitmap()</a>, <a class="el" href="gfx__hx8347a_8c_source.html#l00212">gfx_set_clipping()</a>, <a class="el" href="app__tank_8c_source.html#l00253">tank_context::level</a>, <a class="el" href="app__tank_8c_source.html#l00263">tank_context::level_alarm</a>, <a class="el" href="util_8h_source.html#l00144">min_u</a>, <a class="el" href="app__tank_8c_source.html#l00271">tank_context::rand</a>, <a class="el" href="app__tank_8c_source.html#l00269">tank_context::rand_ticks</a>, <a class="el" href="app__tank_8c_source.html#l00255">tank_context::supply</a>, <a class="el" href="app__tank_8c_source.html#l00333">tank_logistic_map()</a>, <a class="el" href="app__tank_8c_source.html#l00190">TICKS_PER_RANDOM_UPDATE</a>, <a class="el" href="app__tank_8c_source.html#l00097">VALUE_DEMAND_MAXIMUM</a>, <a class="el" href="app__tank_8c_source.html#l00089">VALUE_LEVEL_MAXIMUM</a>, <a class="el" href="wtk__progress__bar_8c_source.html#l00152">wtk_progress_bar_get_value()</a>, <a class="el" href="wtk__progress__bar_8c_source.html#l00168">wtk_progress_bar_set_colors()</a>, <a class="el" href="wtk__progress__bar_8c_source.html#l00106">wtk_progress_bar_set_value()</a>, and <a class="el" href="wtk__slider_8c_source.html#l00132">wtk_slider_get_value()</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga9250b563cfe151176f448c4b6de63d22"></a><!-- doxytag: member="app_tank.c::tank_bitmap_data" ref="ga9250b563cfe151176f448c4b6de63d22" args="[NR_OF_BITMAPS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__hugemem__group.html#gad1f5b6899e22cd9bc4787ad502314968">hugemem_ptr_t</a> <a class="el" href="group__apps__tank__group.html#ga9250b563cfe151176f448c4b6de63d22">tank_bitmap_data</a>[NR_OF_BITMAPS]<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointers to bitmap data in hugemem. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>To avoid allocating hugemem and loading the bitmaps more than once, these pointers are statically allocated. </dd></dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00227">227</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

<p>Referenced by <a class="el" href="app__tank_8c_source.html#l00618">app_tank_launch()</a>, and <a class="el" href="app__tank_8c_source.html#l00506">tank_loader()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7fb664d01f225008b6bce6041df7b295"></a><!-- doxytag: member="app_tank.c::tank_ctx" ref="ga7fb664d01f225008b6bce6041df7b295" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtank__context.html">tank_context</a>* <a class="el" href="group__apps__tank__group.html#ga7fb664d01f225008b6bce6041df7b295">tank_ctx</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to water tank application context. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This pointer is statically allocated, but the context itself is only allocated when the application is launched, and then destroyed upon exit to conserve memory. </dd></dl>

<p>Definition at line <a class="el" href="app__tank_8c_source.html#l00283">283</a> of file <a class="el" href="app__tank_8c_source.html">app_tank.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:09:59 2010 for display-demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
