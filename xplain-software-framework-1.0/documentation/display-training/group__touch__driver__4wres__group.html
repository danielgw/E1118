<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-training: 4-wire resistive touch driver general implementation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>4-wire resistive touch driver general implementation<br/>
<small>
[<a class="el" href="group__touch__driver__group.html">General touch driver</a>]</small>
</h1>
<p><div class="dynheader">
Collaboration diagram for 4-wire resistive touch driver general implementation:</div>
<div class="dynsection">
<center><table><tr><td><img src="group__touch__driver__4wres__group.png" border="0" alt="" usemap="#group____touch____driver____4wres____group_map"/>
<map name="group____touch____driver____4wres____group_map" id="group____touch____driver____4wres____group">
<area shape="rect" href="group__touch__driver__4wres__xmega__group.html" title="XMEGA 4&#45;wire resistive touch driver internals" alt="" coords="557,5,840,35"/><area shape="rect" href="group__touch__driver__group.html" title="General touch driver" alt="" coords="5,5,144,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__xmega__group.html">XMEGA 4-wire resistive touch driver internals</a></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga26cb585c38924e15af35c61715295b64">touch_states</a> { <br/>
&nbsp;&nbsp;<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64a9b439ee6bbe93f48a2f03fcd1c9e31a2">TOUCH_DISABLED</a>, 
<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64a2a15fb2114ef862a4aad6f0552ae8608">TOUCH_NOT_TOUCHED</a>, 
<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64a2dbc4da18407882abec0277b40a060c8">TOUCH_READING_X</a>, 
<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64aa30346c83e2fb4f08fc8717010a9f491">TOUCH_READING_Y</a>, 
<br/>
&nbsp;&nbsp;<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64a8697229795a8fd3fb603f1897f321318">TOUCH_PROCESSING</a>, 
<a class="el" href="group__touch__driver__4wres__group.html#gga26cb585c38924e15af35c61715295b64a2f42c56ab2be76a40a9b183c5e44a0a8">TOUCH_TOUCHED</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><p>Driver state names. </p>
 <a href="group__touch__driver__4wres__group.html#ga26cb585c38924e15af35c61715295b64">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#gac1765dec1f6af1e9479ec683263ff444">touch_priv_port_handler</a> (void *int_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt handler for touch detection.  <a href="#gac1765dec1f6af1e9479ec683263ff444"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#gade6427948348bcdf0d09ef27b42d43cc">touch_priv_adc_handler</a> (void *int_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Interrupt handler for AD conversions.  <a href="#gade6427948348bcdf0d09ef27b42d43cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga06d84a56017ffddde5a6ca405104f84b">touch_priv_process_samples</a> (void *int_data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process touch samples.  <a href="#ga06d84a56017ffddde5a6ca405104f84b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga14e34642aae7d0368c83fcd13b8886b5">touch_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the touch driver.  <a href="#ga14e34642aae7d0368c83fcd13b8886b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga505fbacb97ab936941bacb1dd981ea62">touch_enable</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable touch detection and sampling.  <a href="#ga505fbacb97ab936941bacb1dd981ea62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga1e321414282d8aaaad64a4f0f5a9b3dd">touch_disable</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable touch detection and sampling.  <a href="#ga1e321414282d8aaaad64a4f0f5a9b3dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#gabdb00f69e258b9cf066834a6d713b7e6">touch_get_event</a> (struct <a class="el" href="structtouch__event.html">touch_event</a> *<a class="el" href="structbuffer.html">buffer</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get last detected touch event from driver to buffer.  <a href="#gabdb00f69e258b9cf066834a6d713b7e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga263c22bf1207f983e46b3741a1522418">touch_is_touched</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return current state of touch driver.  <a href="#ga263c22bf1207f983e46b3741a1522418"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga9a76767292495609b40c1bc09dd4bca0">touch_set_event_handler</a> (<a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a> handler)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set touch event handler for driver.  <a href="#ga9a76767292495609b40c1bc09dd4bca0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga6df94f5d28e06f919c59c8c5c0ec176e">touch_get_event_handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get current touch event handler from driver.  <a href="#ga6df94f5d28e06f919c59c8c5c0ec176e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga76b43e12776395d5bbc721ada739a1fc">touch_set_calibration_matrix</a> (const struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *matrix)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assign a calibration matrix to the driver.  <a href="#ga76b43e12776395d5bbc721ada739a1fc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga50e86c1de06fafd31abd4912965eba8d">touch_get_calibration_matrix</a> (struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *<a class="el" href="structbuffer.html">buffer</a>)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copy calibration matrix from driver to a buffer.  <a href="#ga50e86c1de06fafd31abd4912965eba8d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga0c7d9a5cd00838bb6360d9cc5b0796a4">touch_compute_calibration_matrix</a> (const <a class="el" href="group__touch__driver__group.html#gae9fc9c6436f3a1f04aa10efba6b834f6">touch_calibration_points_t</a> points, struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *matrix)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute a calibration matrix.  <a href="#ga0c7d9a5cd00838bb6360d9cc5b0796a4"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="group__touch__driver__4wres__group.html#ga26cb585c38924e15af35c61715295b64">touch_states</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#gaab31de55d10044e6920039eabb36d673">touch_state</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current driver state.  <a href="#gaab31de55d10044e6920039eabb36d673"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structtouch__event.html">touch_event</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga9792410ce3e571b6fd33431fc514e26d">touch_last_event</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Last detected touch event.  <a href="#ga9792410ce3e571b6fd33431fc514e26d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga4871f1b4881b69edb6f58e32b6f26fe2">touch_raw_x</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary raw sample value for X surface.  <a href="#ga4871f1b4881b69edb6f58e32b6f26fe2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga56de60ec2feca20dca793d0b0a4cbf34">touch_raw_y</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary raw sample value for Y surface.  <a href="#ga56de60ec2feca20dca793d0b0a4cbf34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static struct <br class="typebreak"/>
<a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga2a3ab0eb0e5bbd526bab6921ee1cb1d8">touch_matrix</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calibration matrix for the driver.  <a href="#ga2a3ab0eb0e5bbd526bab6921ee1cb1d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__driver__4wres__group.html#ga850a1485c663f53fc346c8d607aa25b6">touch_event_handler</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Current touch event handler (set to NULL if no handler should be called).  <a href="#ga850a1485c663f53fc346c8d607aa25b6"></a><br/></td></tr>
<tr><td colspan="2"><h2>Definition of interrupt handlers for touch detection and reading</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp57dad7adaa2ab845c063885da02cc939"></a> </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga702acb87546875c911d1d939c3501488"></a><!-- doxytag: member="touch_driver_4wres_group::INTC_DEFINE_HANDLER" ref="ga702acb87546875c911d1d939c3501488" args="(CONFIG_TOUCH_PORT_IRQ_ID, touch_priv_port_handler, CONFIG_TOUCH_PORT_INTLVL)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>INTC_DEFINE_HANDLER</b> (CONFIG_TOUCH_PORT_IRQ_ID, touch_priv_port_handler, CONFIG_TOUCH_PORT_INTLVL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7d471fafa9e8aaf764c4c08186b16ac2"></a><!-- doxytag: member="touch_driver_4wres_group::INTC_DEFINE_HANDLER" ref="ga7d471fafa9e8aaf764c4c08186b16ac2" args="(CONFIG_TOUCH_ADC_IRQ_ID, touch_priv_adc_handler, CONFIG_TOUCH_ADC_INTLVL)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>INTC_DEFINE_HANDLER</b> (CONFIG_TOUCH_ADC_IRQ_ID, touch_priv_adc_handler, CONFIG_TOUCH_ADC_INTLVL)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This driver makes use of low level interrupts for touch detection, and an ADC for touch position measurements.<br/>
 </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="ga26cb585c38924e15af35c61715295b64"></a><!-- doxytag: member="touch.c::touch_states" ref="ga26cb585c38924e15af35c61715295b64" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__touch__driver__4wres__group.html#ga26cb585c38924e15af35c61715295b64">touch_states</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Driver state names. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64a9b439ee6bbe93f48a2f03fcd1c9e31a2"></a><!-- doxytag: member="TOUCH_DISABLED" ref="gga26cb585c38924e15af35c61715295b64a9b439ee6bbe93f48a2f03fcd1c9e31a2" args="" -->TOUCH_DISABLED</em>&nbsp;</td><td>
<p>Driver is disabled, no sampling will occur. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64a2a15fb2114ef862a4aad6f0552ae8608"></a><!-- doxytag: member="TOUCH_NOT_TOUCHED" ref="gga26cb585c38924e15af35c61715295b64a2a15fb2114ef862a4aad6f0552ae8608" args="" -->TOUCH_NOT_TOUCHED</em>&nbsp;</td><td>
<p>Driver enabled, but panel not touched. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64a2dbc4da18407882abec0277b40a060c8"></a><!-- doxytag: member="TOUCH_READING_X" ref="gga26cb585c38924e15af35c61715295b64a2dbc4da18407882abec0277b40a060c8" args="" -->TOUCH_READING_X</em>&nbsp;</td><td>
<p>Waiting for samples for X coordinate. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64aa30346c83e2fb4f08fc8717010a9f491"></a><!-- doxytag: member="TOUCH_READING_Y" ref="gga26cb585c38924e15af35c61715295b64aa30346c83e2fb4f08fc8717010a9f491" args="" -->TOUCH_READING_Y</em>&nbsp;</td><td>
<p>Waiting for samples for Y coordinate. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64a8697229795a8fd3fb603f1897f321318"></a><!-- doxytag: member="TOUCH_PROCESSING" ref="gga26cb585c38924e15af35c61715295b64a8697229795a8fd3fb603f1897f321318" args="" -->TOUCH_PROCESSING</em>&nbsp;</td><td>
<p>Waiting for processing of samples. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="gga26cb585c38924e15af35c61715295b64a2f42c56ab2be76a40a9b183c5e44a0a8"></a><!-- doxytag: member="TOUCH_TOUCHED" ref="gga26cb585c38924e15af35c61715295b64a2f42c56ab2be76a40a9b183c5e44a0a8" args="" -->TOUCH_TOUCHED</em>&nbsp;</td><td>
<p>Panel is currently touched. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00063">63</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga0c7d9a5cd00838bb6360d9cc5b0796a4"></a><!-- doxytag: member="touch.c::touch_compute_calibration_matrix" ref="ga0c7d9a5cd00838bb6360d9cc5b0796a4" args="(const touch_calibration_points_t points, struct touch_calibration_matrix *matrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_compute_calibration_matrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__touch__driver__group.html#gae9fc9c6436f3a1f04aa10efba6b834f6">touch_calibration_points_t</a>&nbsp;</td>
          <td class="paramname"> <em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *&nbsp;</td>
          <td class="paramname"> <em>matrix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute a calibration matrix. </p>
<p>Computes the calibration matrix that is used to get the panel coordinates from raw measurements of the touch surface.<br/>
 This requires that the</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Reference: <a href="http://www.embedded.com/story/OEG20020529S0046">http://www.embedded.com/story/OEG20020529S0046</a></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>points</em>&nbsp;</td><td>Pointer to array containing calibration points. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>matrix</em>&nbsp;</td><td>Pointer to storage buffer for the calibration matrix. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00270">270</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="include_2touch_2touch_8h_source.html#l00192">touch_calibration_matrix::a</a>, <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00193">touch_calibration_matrix::b</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00194">touch_calibration_matrix::c</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00195">touch_calibration_matrix::d</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00196">touch_calibration_matrix::e</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00197">touch_calibration_matrix::f</a>, and <a class="el" href="include_2touch_2touch_8h_source.html#l00198">touch_calibration_matrix::k</a>.</p>

<p>Referenced by <a class="el" href="app__calibrate_8c_source.html#l00142">touch_calibrate_task_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e321414282d8aaaad64a4f0f5a9b3dd"></a><!-- doxytag: member="touch.c::touch_disable" ref="ga1e321414282d8aaaad64a4f0f5a9b3dd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_disable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disable touch detection and sampling. </p>
<p>Disables interrupts for the GPIO and the ADC. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00160">160</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00069">cpu_irq_restore()</a>, <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00055">cpu_irq_save()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00256">touch_priv_adc_disable_int()</a>, and <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00115">touch_priv_port_disable_int()</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00111">touch_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga505fbacb97ab936941bacb1dd981ea62"></a><!-- doxytag: member="touch.c::touch_enable" ref="ga505fbacb97ab936941bacb1dd981ea62" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_enable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable touch detection and sampling. </p>
<p>Resets the driver and touch state, configures GPIO pins for touch detection and enables interrupts for GPIO and the ADC. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00137">137</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="touch_8c_source.html#l00075">touch_last_event</a>, <a class="el" href="touch_8c_source.html#l00065">TOUCH_NOT_TOUCHED</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00266">touch_priv_adc_clear_int_flag()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00244">touch_priv_adc_enable_int()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00147">touch_priv_port_clear_int_flag()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00100">touch_priv_port_enable_int()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00161">touch_priv_port_set_detection()</a>, <a class="el" href="touch_8c_source.html#l00073">touch_state</a>, and <a class="el" href="include_2touch_2touch_8h_source.html#l00213">touch_event::type</a>.</p>

</div>
</div>
<a class="anchor" id="ga50e86c1de06fafd31abd4912965eba8d"></a><!-- doxytag: member="touch.c::touch_get_calibration_matrix" ref="ga50e86c1de06fafd31abd4912965eba8d" args="(struct touch_calibration_matrix *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_get_calibration_matrix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy calibration matrix from driver to a buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Address of buffer to copy calibration matrix to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00250">250</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, and <a class="el" href="touch_8c_source.html#l00083">touch_matrix</a>.</p>

</div>
</div>
<a class="anchor" id="gabdb00f69e258b9cf066834a6d713b7e6"></a><!-- doxytag: member="touch.c::touch_get_event" ref="gabdb00f69e258b9cf066834a6d713b7e6" args="(struct touch_event *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_get_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtouch__event.html">touch_event</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get last detected touch event from driver to buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer to store touch event in. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00179">179</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00069">cpu_irq_restore()</a>, <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00055">cpu_irq_save()</a>, and <a class="el" href="touch_8c_source.html#l00075">touch_last_event</a>.</p>

</div>
</div>
<a class="anchor" id="ga6df94f5d28e06f919c59c8c5c0ec176e"></a><!-- doxytag: member="touch.c::touch_get_event_handler" ref="ga6df94f5d28e06f919c59c8c5c0ec176e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a> touch_get_event_handler </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get current touch event handler from driver. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Address of the currently set handler function. </dd></dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00226">226</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="touch_8c_source.html#l00085">touch_event_handler</a>.</p>

</div>
</div>
<a class="anchor" id="ga14e34642aae7d0368c83fcd13b8886b5"></a><!-- doxytag: member="touch.c::touch_init" ref="ga14e34642aae7d0368c83fcd13b8886b5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the touch driver. </p>
<p>Initializes the GPIO pins and ADC for touch detection and measurements, as well as the driver states.<br/>
 Must be called before any other function in this driver.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>The touch driver is left <em>disabled</em>, and must be explicitly enabled by use of <a class="el" href="group__touch__driver__4wres__group.html#ga505fbacb97ab936941bacb1dd981ea62">touch_enable()</a>. </dd></dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00111">111</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="group__softirq__group.html#ga3729e6abb8d2c5920f9f3ecd4bdce297">softirq_set_handler()</a>, <a class="el" href="touch_8c_source.html#l00160">touch_disable()</a>, <a class="el" href="touch_8c_source.html#l00085">touch_event_handler</a>, <a class="el" href="touch_8c_source.html#l00075">touch_last_event</a>, <a class="el" href="touch_8c_source.html#l00065">TOUCH_NOT_TOUCHED</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00218">touch_priv_adc_init()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00084">touch_priv_port_init()</a>, <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>, <a class="el" href="touch_8c_source.html#l00073">touch_state</a>, and <a class="el" href="include_2touch_2touch_8h_source.html#l00213">touch_event::type</a>.</p>

</div>
</div>
<a class="anchor" id="ga263c22bf1207f983e46b3741a1522418"></a><!-- doxytag: member="touch.c::touch_is_touched" ref="ga263c22bf1207f983e46b3741a1522418" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool touch_is_touched </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return current state of touch driver. </p>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>Driver is sensing a touch. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>false</em>&nbsp;</td><td>Driver is <em>not</em> sensing a touch. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00198">198</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="touch_8c_source.html#l00075">touch_last_event</a>, and <a class="el" href="include_2touch_2touch_8h_source.html#l00213">touch_event::type</a>.</p>

</div>
</div>
<a class="anchor" id="gade6427948348bcdf0d09ef27b42d43cc"></a><!-- doxytag: member="touch.c::touch_priv_adc_handler" ref="gade6427948348bcdf0d09ef27b42d43cc" args="(void *int_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_priv_adc_handler </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>int_data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interrupt handler for AD conversions. </p>
<p>Handles and triggers raw measurements of position on the touch surfaces.<br/>
 After measurements are completed, a soft IRQ is either raised or <a class="el" href="group__touch__driver__4wres__group.html#ga06d84a56017ffddde5a6ca405104f84b">touch_priv_process_samples()</a> called directly, depending on configuration.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int_data</em>&nbsp;</td><td>Not used here. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00460">460</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="include_2softirq_8h_source.html#l00102">softirq_raise()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00324">touch_priv_adc_get_x()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00346">touch_priv_adc_get_y</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00282">touch_priv_adc_set_surface_y()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00311">touch_priv_adc_start()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00161">touch_priv_port_set_detection()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00200">touch_priv_port_set_gradient_y()</a>, <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>, <a class="el" href="touch_8c_source.html#l00068">TOUCH_PROCESSING</a>, <a class="el" href="touch_8c_source.html#l00078">touch_raw_x</a>, <a class="el" href="touch_8c_source.html#l00080">touch_raw_y</a>, <a class="el" href="touch_8c_source.html#l00066">TOUCH_READING_X</a>, <a class="el" href="touch_8c_source.html#l00067">TOUCH_READING_Y</a>, and <a class="el" href="touch_8c_source.html#l00073">touch_state</a>.</p>

</div>
</div>
<a class="anchor" id="gac1765dec1f6af1e9479ec683263ff444"></a><!-- doxytag: member="touch.c::touch_priv_port_handler" ref="gac1765dec1f6af1e9479ec683263ff444" args="(void *int_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_priv_port_handler </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>int_data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Interrupt handler for touch detection. </p>
<p>Disables itself and triggers the first touch position measurement.<br/>
 The first measurements are done on the X surface of the touch panel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int_data</em>&nbsp;</td><td>Not used here. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00430">430</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, <a class="el" href="touch_8c_source.html#l00065">TOUCH_NOT_TOUCHED</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00297">touch_priv_adc_set_surface_x()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00311">touch_priv_adc_start()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00115">touch_priv_port_disable_int()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00179">touch_priv_port_set_gradient_x()</a>, <a class="el" href="touch_8c_source.html#l00078">touch_raw_x</a>, <a class="el" href="touch_8c_source.html#l00080">touch_raw_y</a>, <a class="el" href="touch_8c_source.html#l00066">TOUCH_READING_X</a>, <a class="el" href="touch_8c_source.html#l00073">touch_state</a>, and <a class="el" href="touch_8c_source.html#l00069">TOUCH_TOUCHED</a>.</p>

</div>
</div>
<a class="anchor" id="ga06d84a56017ffddde5a6ca405104f84b"></a><!-- doxytag: member="touch.c::touch_priv_process_samples" ref="ga06d84a56017ffddde5a6ca405104f84b" args="(void *int_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_priv_process_samples </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>int_data</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process touch samples. </p>
<p>Uses the calibration matrix to compute touch position in panel coordinates from the current raw touch measurements.<br/>
 The driver and touch states are updated according to the event, and its handler (if set) is called if a new event was in fact detected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>int_data</em>&nbsp;</td><td>Not used here. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00330">330</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="include_2touch_2touch_8h_source.html#l00192">touch_calibration_matrix::a</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00193">touch_calibration_matrix::b</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00194">touch_calibration_matrix::c</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00195">touch_calibration_matrix::d</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00196">touch_calibration_matrix::e</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00197">touch_calibration_matrix::f</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00198">touch_calibration_matrix::k</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00169">touch_point::panel_x</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00170">touch_point::panel_y</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00214">touch_event::point</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00171">touch_point::raw_x</a>, <a class="el" href="include_2touch_2touch_8h_source.html#l00172">touch_point::raw_y</a>, <a class="el" href="touch_8c_source.html#l00085">touch_event_handler</a>, <a class="el" href="touch_8c_source.html#l00075">touch_last_event</a>, <a class="el" href="touch_8c_source.html#l00083">touch_matrix</a>, <a class="el" href="touch_8c_source.html#l00065">TOUCH_NOT_TOUCHED</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00147">touch_priv_port_clear_int_flag()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00100">touch_priv_port_enable_int()</a>, <a class="el" href="cpu_2xmega_2include_2cpu_2touch_2resistive_2touch_8h_source.html#l00132">touch_priv_port_is_int_flag_set()</a>, <a class="el" href="touch_8c_source.html#l00078">touch_raw_x</a>, <a class="el" href="touch_8c_source.html#l00080">touch_raw_y</a>, <a class="el" href="touch_8c_source.html#l00073">touch_state</a>, <a class="el" href="touch_8c_source.html#l00069">TOUCH_TOUCHED</a>, and <a class="el" href="include_2touch_2touch_8h_source.html#l00213">touch_event::type</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00111">touch_init()</a>, and <a class="el" href="touch_8c_source.html#l00460">touch_priv_adc_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga76b43e12776395d5bbc721ada739a1fc"></a><!-- doxytag: member="touch.c::touch_set_calibration_matrix" ref="ga76b43e12776395d5bbc721ada739a1fc" args="(const struct touch_calibration_matrix *matrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_set_calibration_matrix </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> *&nbsp;</td>
          <td class="paramname"> <em>matrix</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assign a calibration matrix to the driver. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>matrix</em>&nbsp;</td><td>Address of calibration matrix for the driver to copy. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00237">237</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="assert_8h_source.html#l00089">assert</a>, and <a class="el" href="touch_8c_source.html#l00083">touch_matrix</a>.</p>

<p>Referenced by <a class="el" href="app__calibrate_8c_source.html#l00142">touch_calibrate_task_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9a76767292495609b40c1bc09dd4bca0"></a><!-- doxytag: member="touch.c::touch_set_event_handler" ref="ga9a76767292495609b40c1bc09dd4bca0" args="(touch_event_handler_t handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void touch_set_event_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set touch event handler for driver. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>Address of new handler function. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00210">210</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>References <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00069">cpu_irq_restore()</a>, <a class="el" href="arch_2avr8_2include_2arch_2interrupt_8h_source.html#l00055">cpu_irq_save()</a>, and <a class="el" href="touch_8c_source.html#l00085">touch_event_handler</a>.</p>

<p>Referenced by <a class="el" href="app__calibrate_8c_source.html#l00142">touch_calibrate_task_handler()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ga850a1485c663f53fc346c8d607aa25b6"></a><!-- doxytag: member="touch.c::touch_event_handler" ref="ga850a1485c663f53fc346c8d607aa25b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__touch__driver__group.html#ga9997e021ac69ab7889d6a480bf6fec36">touch_event_handler_t</a> <a class="el" href="group__touch__driver__4wres__group.html#ga850a1485c663f53fc346c8d607aa25b6">touch_event_handler</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current touch event handler (set to NULL if no handler should be called). </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00085">85</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00226">touch_get_event_handler()</a>, <a class="el" href="touch_8c_source.html#l00111">touch_init()</a>, <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>, and <a class="el" href="touch_8c_source.html#l00210">touch_set_event_handler()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9792410ce3e571b6fd33431fc514e26d"></a><!-- doxytag: member="touch.c::touch_last_event" ref="ga9792410ce3e571b6fd33431fc514e26d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtouch__event.html">touch_event</a> <a class="el" href="group__touch__driver__4wres__group.html#ga9792410ce3e571b6fd33431fc514e26d">touch_last_event</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Last detected touch event. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00075">75</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00137">touch_enable()</a>, <a class="el" href="touch_8c_source.html#l00179">touch_get_event()</a>, <a class="el" href="touch_8c_source.html#l00111">touch_init()</a>, <a class="el" href="touch_8c_source.html#l00198">touch_is_touched()</a>, and <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2a3ab0eb0e5bbd526bab6921ee1cb1d8"></a><!-- doxytag: member="touch.c::touch_matrix" ref="ga2a3ab0eb0e5bbd526bab6921ee1cb1d8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtouch__calibration__matrix.html">touch_calibration_matrix</a> <a class="el" href="group__touch__driver__4wres__group.html#ga2a3ab0eb0e5bbd526bab6921ee1cb1d8">touch_matrix</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calibration matrix for the driver. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00083">83</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00250">touch_get_calibration_matrix()</a>, <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>, and <a class="el" href="touch_8c_source.html#l00237">touch_set_calibration_matrix()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4871f1b4881b69edb6f58e32b6f26fe2"></a><!-- doxytag: member="touch.c::touch_raw_x" ref="ga4871f1b4881b69edb6f58e32b6f26fe2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="group__touch__driver__4wres__group.html#ga4871f1b4881b69edb6f58e32b6f26fe2">touch_raw_x</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Temporary raw sample value for X surface. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00078">78</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00460">touch_priv_adc_handler()</a>, <a class="el" href="touch_8c_source.html#l00430">touch_priv_port_handler()</a>, and <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>.</p>

</div>
</div>
<a class="anchor" id="ga56de60ec2feca20dca793d0b0a4cbf34"></a><!-- doxytag: member="touch.c::touch_raw_y" ref="ga56de60ec2feca20dca793d0b0a4cbf34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505">uint16_t</a> <a class="el" href="group__touch__driver__4wres__group.html#ga56de60ec2feca20dca793d0b0a4cbf34">touch_raw_y</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Temporary raw sample value for Y surface. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00080">80</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00460">touch_priv_adc_handler()</a>, <a class="el" href="touch_8c_source.html#l00430">touch_priv_port_handler()</a>, and <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>.</p>

</div>
</div>
<a class="anchor" id="gaab31de55d10044e6920039eabb36d673"></a><!-- doxytag: member="touch.c::touch_state" ref="gaab31de55d10044e6920039eabb36d673" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__touch__driver__4wres__group.html#ga26cb585c38924e15af35c61715295b64">touch_states</a> <a class="el" href="group__touch__driver__4wres__group.html#gaab31de55d10044e6920039eabb36d673">touch_state</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current driver state. </p>

<p>Definition at line <a class="el" href="touch_8c_source.html#l00073">73</a> of file <a class="el" href="touch_8c_source.html">touch.c</a>.</p>

<p>Referenced by <a class="el" href="touch_8c_source.html#l00137">touch_enable()</a>, <a class="el" href="touch_8c_source.html#l00111">touch_init()</a>, <a class="el" href="touch_8c_source.html#l00460">touch_priv_adc_handler()</a>, <a class="el" href="touch_8c_source.html#l00430">touch_priv_port_handler()</a>, and <a class="el" href="touch_8c_source.html#l00330">touch_priv_process_samples()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 15:18:22 2010 for display-training by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
