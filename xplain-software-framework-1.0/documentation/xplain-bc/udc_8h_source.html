<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xplain-bc: include/usb/udc.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>include/usb/udc.h</h1><a href="udc_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef USB_UDC_H_INCLUDED</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define USB_UDC_H_INCLUDED</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;<a class="code" href="arch_2avr8_2include_2arch_2bitops_8h.html" title="AVR-specific implementation of bit operations.">bitops.h</a>&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;<a class="code" href="usb__protocol_8h.html" title="USB protocol definitions.">usb/usb_protocol.h</a>&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="keyword">struct </span><a class="code" href="structusb__request.html" title="A USB request.">usb_request</a>;
<a name="l00048"></a>00048 
<a name="l00067"></a><a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28">00067</a> <span class="keyword">typedef</span> <a class="code" href="group__stdint__group.html#ga20c38cc5aac7cc6b0a3c6ab05428436d" title="8-bit signed integer">int8_t</a>  <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a>;
<a name="l00068"></a>00068 
<a name="l00072"></a><a class="code" href="group__udc__group.html#ga8935b02daf1033b905c9bd51749e57b5">00072</a> <span class="keyword">enum</span> <a class="code" href="group__udc__group.html#ga8935b02daf1033b905c9bd51749e57b5" title="Bit definitions for udc::flags.">udc_flag</a> {
<a name="l00073"></a><a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a01d87782d04a61d661fd166ecbbb8f0c">00073</a>         <a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a01d87782d04a61d661fd166ecbbb8f0c" title="Device Controller enabled.">UDC_IS_ENABLED</a>,         
<a name="l00074"></a><a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a75413d1b8163e224b9a964dab1d50db8">00074</a>         <a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a75413d1b8163e224b9a964dab1d50db8" title="Attach when possible.">UDC_AUTOATTACH</a>,         
<a name="l00075"></a><a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a8c076d124c8a99250148584b5a4361b1">00075</a>         <a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a8c076d124c8a99250148584b5a4361b1" title="Vbus detected.">UDC_HAS_POWER</a>,          
<a name="l00076"></a><a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a635fcfa65acc23589f664fbf58ed5ddb">00076</a>         <a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a635fcfa65acc23589f664fbf58ed5ddb" title="Bus is suspended.">UDC_IS_SUSPENDED</a>,       
<a name="l00077"></a>00077 };
<a name="l00078"></a>00078 
<a name="l00086"></a><a class="code" href="structudc.html">00086</a> <span class="keyword">struct </span><a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> {
<a name="l00088"></a><a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e">00088</a>         <span class="keyword">enum</span> <a class="code" href="group__usb__protocol__group.html#ga59ba7bbb99177a622f3c073fc48b7bc5" title="USB device speed.">usb_device_speed</a>   <a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e" title="The speed that we&amp;#39;re currently operating at.">speed</a>;
<a name="l00095"></a><a class="code" href="structudc.html#a700a0fda68e68c6c3c2cec20a02c92df">00095</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a>                 <a class="code" href="structudc.html#a700a0fda68e68c6c3c2cec20a02c92df" title="Current device configuration value.">config</a>;
<a name="l00097"></a><a class="code" href="structudc.html#a0efab065fbe68bae8ea948d19f6eccad">00097</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a>                 <a class="code" href="structudc.html#a0efab065fbe68bae8ea948d19f6eccad" title="Bitmask of flags indicating the state of the device.">flags</a>;
<a name="l00104"></a><a class="code" href="structudc.html#a5508209b9db35d5610d0b4652b825efb">00104</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a>                 <a class="code" href="structudc.html#a5508209b9db35d5610d0b4652b825efb" title="Our current device address.">address</a>;
<a name="l00105"></a>00105 };
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="preprocessor">#if defined(CONFIG_USBB_UDC)</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="preprocessor"># include &lt;usb/udc_usbb.h&gt;</span>
<a name="l00109"></a>00109 <span class="preprocessor">#elif defined(CONFIG_AT90USB_UDC)</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span><span class="preprocessor"># include &lt;<a class="code" href="udc__at90usb_8h.html" title="megaAVR-specific USB Device Controller declarations">usb/udc_at90usb.h</a>&gt;</span>
<a name="l00111"></a>00111 <span class="preprocessor">#else</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span><span class="comment">/* Needed for the testsuite */</span>
<a name="l00113"></a>00113 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gaa51143b0198d850a3f0fc86766209a64" title="Signal that the UDC is to change its USB address after the status IN phase is complete...">udc_set_address</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> addr);
<a name="l00114"></a>00114 <span class="preprocessor">#endif</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00132"></a>00132 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="group__udc__group.html#gae92092dc5b5aca35223380ca7cfb5e1b" title="Initialize the USB Device Controller.">udc_init</a>(<span class="keywordtype">void</span>);
<a name="l00133"></a>00133 
<a name="l00135"></a>00135 
<a name="l00143"></a>00143 
<a name="l00155"></a><a class="code" href="group__udc__group.html#ga030b358ddb593a2b3fd049a01c4bf183">00155</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="group__udc__group.html#ga030b358ddb593a2b3fd049a01c4bf183" title="Test whether the USB Device Controller is running at high speed.">udc_is_high_speed</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>)
<a name="l00156"></a>00156 {
<a name="l00157"></a>00157 <span class="preprocessor">#ifdef CONFIG_UDC_HIGH_SPEED</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>        <span class="keywordflow">return</span> udc-&gt;<a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e" title="The speed that we&amp;#39;re currently operating at.">speed</a> == <a class="code" href="group__usb__protocol__group.html#gga59ba7bbb99177a622f3c073fc48b7bc5a57eeede6d769b09c01ac9c9c62fef8c9" title="High speed (480 Mb/s).">USB_SPEED_HIGH</a>;
<a name="l00159"></a>00159 <span class="preprocessor">#else</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00161"></a>00161 <span class="preprocessor">#endif</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>}
<a name="l00163"></a>00163 
<a name="l00176"></a><a class="code" href="group__udc__group.html#gad3ba2425b00092dc46851ad38dd9a946">00176</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="group__udc__group.html#gad3ba2425b00092dc46851ad38dd9a946" title="Test whether the USB Device Controller is running at full speed.">udc_is_full_speed</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>)
<a name="l00177"></a>00177 {
<a name="l00178"></a>00178 <span class="preprocessor">#ifdef CONFIG_UDC_FULL_SPEED</span>
<a name="l00179"></a>00179 <span class="preprocessor"></span>        <span class="keywordflow">return</span> udc-&gt;<a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e" title="The speed that we&amp;#39;re currently operating at.">speed</a> == <a class="code" href="group__usb__protocol__group.html#gga59ba7bbb99177a622f3c073fc48b7bc5a0f17d0b9928086c6114fea73e08f1780" title="Full speed (12 Mb/s).">USB_SPEED_FULL</a>;
<a name="l00180"></a>00180 <span class="preprocessor">#else</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00182"></a>00182 <span class="preprocessor">#endif</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>}
<a name="l00184"></a>00184 
<a name="l00198"></a><a class="code" href="group__udc__group.html#gad5d760d233fc5c8a4b53142fd00c5679">00198</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="group__udc__group.html#gad5d760d233fc5c8a4b53142fd00c5679" title="Test whether the USB Device Controller is running at low speed.">udc_is_low_speed</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>)
<a name="l00199"></a>00199 {
<a name="l00200"></a>00200 <span class="preprocessor">#ifdef CONFIG_UDC_LOW_SPEED</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>        <span class="keywordflow">return</span> udc-&gt;<a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e" title="The speed that we&amp;#39;re currently operating at.">speed</a> == <a class="code" href="group__usb__protocol__group.html#gga59ba7bbb99177a622f3c073fc48b7bc5a0ec4f8f66feaf7ee8f2ee618302e9470" title="Low speed (1.5 Mb/s).">USB_SPEED_LOW</a>;
<a name="l00202"></a>00202 <span class="preprocessor">#else</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00204"></a>00204 <span class="preprocessor">#endif</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>}
<a name="l00206"></a>00206 
<a name="l00214"></a><a class="code" href="group__udc__group.html#gad2c7c1a23643d609e99785bd209be5ee">00214</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">enum</span> <a class="code" href="group__usb__protocol__group.html#ga7127ac2a46b577f2aa1bb9a650e62a3f" title="USB device state.">usb_device_state</a> <a class="code" href="group__udc__group.html#gad2c7c1a23643d609e99785bd209be5ee" title="Figure out which usb_device_state the device is in.">udc_state</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>)
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216         <span class="keywordtype">int</span> state;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         <span class="keywordflow">if</span> (!<a class="code" href="group__bitops__group.html#gab6f6195f23a2985c9d6d1520e60ec3ad" title="Test bit nr in bitmap.">test_bit</a>(<a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a8c076d124c8a99250148584b5a4361b1" title="Vbus detected.">UDC_HAS_POWER</a>, &amp;udc-&gt;<a class="code" href="structudc.html#a0efab065fbe68bae8ea948d19f6eccad" title="Bitmask of flags indicating the state of the device.">flags</a>))
<a name="l00219"></a>00219                 state = <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fab4c4f1184ed4e5f31fcba4f2283f0359" title="Device is attached to host, but Vbus is not present.">USB_STATE_ATTACHED</a>;
<a name="l00220"></a>00220         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (udc-&gt;<a class="code" href="structudc.html#ab62f68f5fbcecf656dacae8e6ca6825e" title="The speed that we&amp;#39;re currently operating at.">speed</a> == <a class="code" href="group__usb__protocol__group.html#gga59ba7bbb99177a622f3c073fc48b7bc5ac9755ae6b86f8148054fd6a342c74acc" title="Speed not known yet.">USB_SPEED_UNKNOWN</a>)
<a name="l00221"></a>00221                 state = <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fa25b72bb35524040c703e9474ad03cf38" title="Vbus is present, but the device has not been reset yet.">USB_STATE_POWERED</a>;
<a name="l00222"></a>00222         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!udc-&gt;<a class="code" href="structudc.html#a5508209b9db35d5610d0b4652b825efb" title="Our current device address.">address</a>)
<a name="l00223"></a>00223                 state = <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fabb0f4a1c2f62f028bec1d0b55b5d5554" title="The device has been reset, and is using the default address.">USB_STATE_DEFAULT</a>;
<a name="l00224"></a>00224         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!udc-&gt;<a class="code" href="structudc.html#a700a0fda68e68c6c3c2cec20a02c92df" title="Current device configuration value.">config</a>)
<a name="l00225"></a>00225                 state = <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fa5d31ab5318c171fbd8ac973ae8d7ef96" title="The device has received its own address, but no configuration has been selected.">USB_STATE_ADDRESS</a>;
<a name="l00226"></a>00226         <span class="keywordflow">else</span>
<a name="l00227"></a>00227                 state = <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fa6566e87fb6d54f2da5b7564743df7a47" title="A valid configuration has been selected.">USB_STATE_CONFIGURED</a>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <span class="keywordflow">if</span> (<a class="code" href="group__bitops__group.html#gab6f6195f23a2985c9d6d1520e60ec3ad" title="Test bit nr in bitmap.">test_bit</a>(<a class="code" href="group__udc__group.html#gga8935b02daf1033b905c9bd51749e57b5a635fcfa65acc23589f664fbf58ed5ddb" title="Bus is suspended.">UDC_IS_SUSPENDED</a>, &amp;udc-&gt;<a class="code" href="structudc.html#a0efab065fbe68bae8ea948d19f6eccad" title="Bitmask of flags indicating the state of the device.">flags</a>))
<a name="l00230"></a>00230                 state |= <a class="code" href="group__usb__protocol__group.html#gga7127ac2a46b577f2aa1bb9a650e62a3fa64dad39ce2fa9e96d554703f6a65f7ab" title="The device is suspended.">USB_STATE_SUSPENDED</a>;
<a name="l00231"></a>00231 
<a name="l00232"></a>00232         <span class="keywordflow">return</span> state;
<a name="l00233"></a>00233 }
<a name="l00234"></a>00234 
<a name="l00245"></a>00245 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gaf04e5a797dcee2ea5f0d436d65bffb82" title="Attach udc to the bus when possible.">udc_attach</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>);
<a name="l00246"></a>00246 
<a name="l00254"></a>00254 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga2fb2c7968f76bdf322f434682aa3343f" title="Detach udc from the bus.">udc_detach</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>);
<a name="l00255"></a>00255 
<a name="l00257"></a>00257 
<a name="l00273"></a>00273 
<a name="l00292"></a>00292 <span class="keyword">extern</span> <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> <a class="code" href="group__udc__group.html#gae2348c0ec8c1ecac44e4e2df37316198" title="Create a new Bulk endpoint.">udc_ep_create_bulk</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> addr,
<a name="l00293"></a>00293                 <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> max_packet_size);
<a name="l00294"></a>00294 
<a name="l00313"></a>00313 <span class="keyword">extern</span> <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> <a class="code" href="group__udc__group.html#ga2f417ffb9582a4d689847f4962125689" title="Create a new Interrupt endpoint.">udc_ep_create_interrupt</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> addr,
<a name="l00314"></a>00314                 <a class="code" href="group__stdint__group.html#ga5a8b2dc9e45a9ee81a94ef304fb62505" title="16-bit unsigned integer">uint16_t</a> max_packet_size);
<a name="l00315"></a>00315 
<a name="l00325"></a>00325 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga6460566ec4134dff8b55a98c3055a00e" title="Destroy a previously created endpoint.">udc_ep_destroy</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00326"></a>00326 
<a name="l00340"></a>00340 <span class="keyword">extern</span> <a class="code" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e" title="Status return value.">status_t</a> <a class="code" href="group__udc__group.html#ga3f6290667c4af5e9533fb92ccc60f912" title="Clear the halted state of the endpoint ep.">udc_ep_clear_halt</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00354"></a>00354 <span class="keyword">extern</span> <a class="code" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e" title="Status return value.">status_t</a> <a class="code" href="group__udc__group.html#ga4510f29bac8db1085da69b5eddeca9fa" title="Set the halted state of the endpoint ep.">udc_ep_set_halt</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00367"></a>00367 <span class="keyword">extern</span> <a class="code" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e" title="Status return value.">status_t</a> <a class="code" href="group__udc__group.html#ga2ec9be7752ca333042d0ff899b9e5721" title="Check if the endpoint ep is halted.">udc_ep_is_halted</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00368"></a>00368 
<a name="l00385"></a>00385 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gacac13b6cbfe63354c49afec7edd5708c" title="Clear the wedged state of an endpoint.">udc_ep_clear_wedge</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00399"></a>00399 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga183656813007f2e47da6dadde9933d68" title="Set the wedged state of an endpoint.">udc_ep_set_wedge</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00415"></a>00415 <span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="group__udc__group.html#ga2e4e9c43d67cbcc9d3c010d181186543" title="Check if a given endpoint is wedged.">udc_ep_is_wedged</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00416"></a>00416 
<a name="l00428"></a>00428 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga7540707886e611197bb211eb1054c5e1" title="Terminate all pending requests on an endpoint.">udc_ep_flush</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep);
<a name="l00429"></a>00429 
<a name="l00431"></a>00431 
<a name="l00442"></a>00442 
<a name="l00455"></a>00455 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga9cdaef38977d71d9f07297c01e3f48ff" title="Submit an OUT request on the default control endpoint.">udc_ep0_submit_out_req</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <span class="keyword">struct</span> <a class="code" href="structusb__request.html" title="A USB request.">usb_request</a> *req);
<a name="l00468"></a>00468 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gad02048aa3cd26a0d5ffa8e06e312fb72" title="Submit an IN request on the default control endpoint.">udc_ep0_submit_in_req</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <span class="keyword">struct</span> <a class="code" href="structusb__request.html" title="A USB request.">usb_request</a> *req);
<a name="l00469"></a>00469 
<a name="l00490"></a>00490 <span class="keyword">extern</span> <a class="code" href="types_8h.html#a933a3d656c26da40d944fa70ea43a72e" title="Status return value.">status_t</a> <a class="code" href="group__udc__group.html#ga2e051f7d27b72d0893fa0eeb7d8fefdb" title="Transmit IN data on the default control endpoint synchronously.">udc_ep0_write_sync</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>,
<a name="l00491"></a>00491                 <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">size_t</span> len);
<a name="l00505"></a>00505 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga6869b8335d3c81e1dc5d9980d7508ca4" title="Send a status IN packet on the default control endpoint.">udc_ep0_send_status</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>);
<a name="l00518"></a>00518 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gaf10c1032b3770d4168bca3279d99c53c" title="Signal that a status OUT packet is expected on the default control endpoint.">udc_ep0_expect_status</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>);
<a name="l00519"></a>00519 
<a name="l00521"></a>00521 
<a name="l00531"></a>00531 
<a name="l00545"></a>00545 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#ga51324a8221d7c149291c143e3fead2d8" title="Submit an OUT request on a non-control endpoint.">udc_ep_submit_out_req</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep,
<a name="l00546"></a>00546                 <span class="keyword">struct</span> <a class="code" href="structusb__request.html" title="A USB request.">usb_request</a> *req);
<a name="l00560"></a>00560 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="group__udc__group.html#gaa37da30bf7ebcdaed7af050c1e33dc88" title="Submit an IN request on a non-control endpoint.">udc_ep_submit_in_req</a>(<span class="keyword">struct</span> <a class="code" href="structudc.html" title="A USB Device Controller.">udc</a> *<a class="code" href="structudc.html" title="A USB Device Controller.">udc</a>, <a class="code" href="group__udc__group.html#gaece2b19e35a4a25398b7e8a9f81f9d28" title="Endpoint identifier.">usb_ep_id_t</a> ep,
<a name="l00561"></a>00561                 <span class="keyword">struct</span> <a class="code" href="structusb__request.html" title="A USB request.">usb_request</a> *req);
<a name="l00562"></a>00562 
<a name="l00564"></a>00564 
<a name="l00566"></a>00566 
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 <span class="preprocessor">#endif </span><span class="comment">/* USB_UDC_H_INCLUDED */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:34 2010 for xplain-bc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
