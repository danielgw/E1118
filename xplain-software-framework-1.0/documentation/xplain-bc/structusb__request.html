<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xplain-bc: usb_request Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>usb_request Struct Reference<br/>
<small>
[<a class="el" href="group__usb__request__group.html">USB Request Management</a>]</small>
</h1><!-- doxytag: class="usb_request" -->
<p>A USB request.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="request_8h_source.html">request.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for usb_request:</div>
<div class="dynsection">
<div class="center"><img src="structusb__request__coll__graph.png" border="0" usemap="#usb__request_coll__map" alt="Collaboration graph"/></div>
<map name="usb__request_coll__map" id="usb__request_coll__map">
<area shape="rect" href="structslist__node.html" title="A node in a singly linked list." alt="" coords="19,5,99,35"/><area shape="rect" href="structslist.html" title="A singly linked list." alt="" coords="81,120,127,149"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structslist.html">slist</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#ad8d283292cbc9e9706fd85f218accf2c">buf_list</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of buffers associated with this request.  <a href="#ad8d283292cbc9e9706fd85f218accf2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structslist__node.html">slist_node</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#a1320a50093378852ef61e05131bd657d">node</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List node on the controller queue.  <a href="#a1320a50093378852ef61e05131bd657d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#a97740bcdd699b5c1a696f42a23a337a3">flags</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A bitwise combination of the bits defined by enum <a class="el" href="group__usb__request__group.html#gaabafc231ab1432357b1806dc38a9bc68" title="Flag bits for indicating that a request needs special treatment.">usb_request_flag</a>.  <a href="#a97740bcdd699b5c1a696f42a23a337a3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#a8d437c59170791ca1598e440a4d4a353">req_done</a> )(struct <a class="el" href="structudc.html">udc</a> *<a class="el" href="structudc.html">udc</a>, struct <a class="el" href="structusb__request.html">usb_request</a> *req)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function to be called when this request is completed.  <a href="#a8d437c59170791ca1598e440a4d4a353"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#ad96153dfc05da2ba35e7a815d43504d4">context</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Arbitrary data pointer associated with this request, for use by the submitter.  <a href="#ad96153dfc05da2ba35e7a815d43504d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="status__codes_8h.html#a751c892e5a46b8e7d282085a5a5bf151">status_code</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#a28909c73430658c82cc4f05cee0e87db">status</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Status code set by the UDC driver upon completion of this request.  <a href="#a28909c73430658c82cc4f05cee0e87db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb__request.html#a2d97ed1ba0059d4649e663febbb2c095">bytes_xfered</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The number of bytes actually transfered.  <a href="#a2d97ed1ba0059d4649e663febbb2c095"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A USB request. </p>
<p>This structure keeps track of the data associated with a USB request for use in asynchronous transfers. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00078">78</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ad8d283292cbc9e9706fd85f218accf2c"></a><!-- doxytag: member="usb_request::buf_list" ref="ad8d283292cbc9e9706fd85f218accf2c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structslist.html">slist</a> <a class="el" href="structusb__request.html#ad8d283292cbc9e9706fd85f218accf2c">usb_request::buf_list</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List of buffers associated with this request. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00080">80</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l01132">at90usb_ep0_tx_complete()</a>, <a class="el" href="at90usb__udc_8c_source.html#l01211">at90usb_udc_ep0_worker()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00889">at90usb_udc_ep_flush()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00496">at90usb_udc_submit_in_queue()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00366">at90usb_udc_submit_out_queue()</a>, <a class="el" href="msc__bulk_8c_source.html#l01366">msc_submit_write_data_req()</a>, <a class="el" href="udc__lib_8h_source.html#l00257">udc_fifo_read_data()</a>, <a class="el" href="udc__lib_8h_source.html#l00183">udc_fifo_write_data()</a>, <a class="el" href="request_8h_source.html#l00124">usb_req_add_buffer()</a>, <a class="el" href="request_8h_source.html#l00142">usb_req_get_first_buffer()</a>, and <a class="el" href="request_8c_source.html#l00060">usb_req_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d97ed1ba0059d4649e663febbb2c095"></a><!-- doxytag: member="usb_request::bytes_xfered" ref="a2d97ed1ba0059d4649e663febbb2c095" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="structusb__request.html#a2d97ed1ba0059d4649e663febbb2c095">usb_request::bytes_xfered</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The number of bytes actually transfered. </p>
<p>May be less than len if an error occurred, or if the UDC received a short packet. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00110">110</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l01132">at90usb_ep0_tx_complete()</a>, <a class="el" href="at90usb__udc_8c_source.html#l01211">at90usb_udc_ep0_worker()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00496">at90usb_udc_submit_in_queue()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00366">at90usb_udc_submit_out_queue()</a>, and <a class="el" href="request_8c_source.html#l00060">usb_req_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad96153dfc05da2ba35e7a815d43504d4"></a><!-- doxytag: member="usb_request::context" ref="ad96153dfc05da2ba35e7a815d43504d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structusb__request.html#ad96153dfc05da2ba35e7a815d43504d4">usb_request::context</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Arbitrary data pointer associated with this request, for use by the submitter. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00098">98</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="msc__bulk_8c_source.html#l01366">msc_submit_write_data_req()</a>.</p>

</div>
</div>
<a class="anchor" id="a97740bcdd699b5c1a696f42a23a337a3"></a><!-- doxytag: member="usb_request::flags" ref="a97740bcdd699b5c1a696f42a23a337a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2">uint8_t</a> <a class="el" href="structusb__request.html#a97740bcdd699b5c1a696f42a23a337a3">usb_request::flags</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A bitwise combination of the bits defined by enum <a class="el" href="group__usb__request__group.html#gaabafc231ab1432357b1806dc38a9bc68" title="Flag bits for indicating that a request needs special treatment.">usb_request_flag</a>. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00087">87</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l01211">at90usb_udc_ep0_worker()</a>, <a class="el" href="udc__lib_8h_source.html#l00183">udc_fifo_write_data()</a>, and <a class="el" href="request_8c_source.html#l00060">usb_req_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1320a50093378852ef61e05131bd657d"></a><!-- doxytag: member="usb_request::node" ref="a1320a50093378852ef61e05131bd657d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structslist__node.html">slist_node</a> <a class="el" href="structusb__request.html#a1320a50093378852ef61e05131bd657d">usb_request::node</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List node on the controller queue. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00082">82</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l01182">at90usb_ep0_tx_flush()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00889">at90usb_udc_ep_flush()</a>, <a class="el" href="at90usb__udc_8c_source.html#l00496">at90usb_udc_submit_in_queue()</a>, and <a class="el" href="at90usb__udc_8c_source.html#l00366">at90usb_udc_submit_out_queue()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d437c59170791ca1598e440a4d4a353"></a><!-- doxytag: member="usb_request::req_done" ref="a8d437c59170791ca1598e440a4d4a353" args=")(struct udc *udc, struct usb_request *req)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structusb__request.html#a8d437c59170791ca1598e440a4d4a353">usb_request::req_done</a>)(struct <a class="el" href="structudc.html">udc</a> *<a class="el" href="structudc.html">udc</a>, struct <a class="el" href="structusb__request.html">usb_request</a> *req)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to be called when this request is completed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>udc</em>&nbsp;</td><td>The USB Device Controller that did the request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>req</em>&nbsp;</td><td>The request that was completed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="request_8h_source.html#l00093">93</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l00174">at90usb_udc_req_done()</a>, and <a class="el" href="msc__bulk_8c_source.html#l01366">msc_submit_write_data_req()</a>.</p>

</div>
</div>
<a class="anchor" id="a28909c73430658c82cc4f05cee0e87db"></a><!-- doxytag: member="usb_request::status" ref="a28909c73430658c82cc4f05cee0e87db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="status__codes_8h.html#a751c892e5a46b8e7d282085a5a5bf151">status_code</a> <a class="el" href="structusb__request.html#a28909c73430658c82cc4f05cee0e87db">usb_request::status</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Status code set by the UDC driver upon completion of this request. </p>

<p>Definition at line <a class="el" href="request_8h_source.html#l00103">103</a> of file <a class="el" href="request_8h_source.html">request.h</a>.</p>

<p>Referenced by <a class="el" href="at90usb__udc_8c_source.html#l00174">at90usb_udc_req_done()</a>, and <a class="el" href="udc__lib_8c_source.html#l00062">udc_lib_standard_request()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/usb/<a class="el" href="request_8h_source.html">request.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:36 2010 for xplain-bc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
