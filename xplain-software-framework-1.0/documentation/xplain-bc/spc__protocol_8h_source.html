<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xplain-bc: include/scsi/spc_protocol.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>include/scsi/spc_protocol.h</h1><a href="spc__protocol_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef SCSI_SPC_PROTOCOL_H_INCLUDED</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SPC_PROTOCOL_H_INCLUDED</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#define SCSI_CMD_TEST_UNIT_READY                0x00</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_REQUEST_SENSE                  0x03</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_INQUIRY                        0x12</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SELECT6                   0x15</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SENSE6                    0x1a</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_SEND_DIAGNOSTIC                0x1d</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_PREVENT_ALLOW_MEDIUM_REMOVAL   0x1e</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_MODE_SENSE10                   0x5a</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_CMD_REPORT_LUNS                    0xa0</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span>
<a name="l00054"></a>00054 <span class="comment">/* May be set in byte 0 of the INQUIRY CDB */</span>
<a name="l00055"></a><a class="code" href="spc__protocol_8h.html#a944818b06a40bf70b242a3a91bd236b2">00055</a> <span class="preprocessor">#define SCSI_INQ_REQ_EVPD       0x01    //!&lt; Enable Vital Product Data</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a>00057 <a class="code" href="group__compiler__group.html#gae2c02ff865ca6538b4b1bddbf2a6876c" title="Set maximum alignment for subsequent struct and union definitions to alignment.">COMPILER_PACK_SET</a>(1);
<a name="l00058"></a>00058 
<a name="l00062"></a><a class="code" href="structscsi__inquiry__data.html">00062</a> <span class="keyword">struct </span><a class="code" href="structscsi__inquiry__data.html" title="SCSI Standard Inquiry data structure.">scsi_inquiry_data</a> {
<a name="l00063"></a><a class="code" href="structscsi__inquiry__data.html#abfaac9d9205e708cc8cc44712a56eabc">00063</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#abfaac9d9205e708cc8cc44712a56eabc" title="Periph Qual / Periph Dev Type.">pq_pdt</a>;                 
<a name="l00064"></a><a class="code" href="spc__protocol_8h.html#a38a553faa28c4d5ec48b887d431a6f4c">00064</a> <span class="preprocessor">#define SCSI_INQ_PQ_CONNECTED   0x00    //!&lt; Peripheral connected</span>
<a name="l00065"></a><a class="code" href="spc__protocol_8h.html#aaa78391d0e3ac2d0a18d2749b4fcfe6c">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_PQ_NOT_CONN    0x20    //!&lt; Peripheral not connected</span>
<a name="l00066"></a><a class="code" href="spc__protocol_8h.html#aec92dd4a7d813a448696cd5a26ff1b22">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_PQ_NOT_SUPP    0x60    //!&lt; Peripheral not supported</span>
<a name="l00067"></a><a class="code" href="spc__protocol_8h.html#aedf94e7cc51e5c8922e9ed2bdd0b36d8">00067</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_DIR_ACCESS  0x00    //!&lt; Direct Access (SBC)</span>
<a name="l00068"></a><a class="code" href="spc__protocol_8h.html#a5e65de38956592d0d5c12857a1014161">00068</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_SEQ_ACCESS  0x01    //!&lt; Sequential Access</span>
<a name="l00069"></a><a class="code" href="spc__protocol_8h.html#a91f29ff852d81a19f66e86def46abbfd">00069</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_PRINTER     0x02    //!&lt; Printer</span>
<a name="l00070"></a><a class="code" href="spc__protocol_8h.html#a2865c80aba885116fd2d46705bcec415">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_PROCESSOR   0x03    //!&lt; Processor device</span>
<a name="l00071"></a><a class="code" href="spc__protocol_8h.html#a4be4ad109f992f82b16d209678b2af49">00071</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_WRITE_ONCE  0x04    //!&lt; Write-once device</span>
<a name="l00072"></a><a class="code" href="spc__protocol_8h.html#adfab64e517e86e3bebf8e1a39e1e41f7">00072</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_CD_DVD      0x05    //!&lt; CD/DVD device</span>
<a name="l00073"></a><a class="code" href="spc__protocol_8h.html#a30617078acb2f3b91999324c5e0714ee">00073</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_OPTICAL     0x07    //!&lt; Optical Memory</span>
<a name="l00074"></a><a class="code" href="spc__protocol_8h.html#a0a6937f3f12fe7c12e642ef0738a3749">00074</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_MC          0x08    //!&lt; Medium Changer</span>
<a name="l00075"></a><a class="code" href="spc__protocol_8h.html#afc314a1860fac94d0ca29b8bfa375d42">00075</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_ARRAY       0x0c    //!&lt; Storage Array Controller</span>
<a name="l00076"></a><a class="code" href="spc__protocol_8h.html#a328caefe5f2f71b0dadbac78d46f4e05">00076</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_ENCLOSURE   0x0d    //!&lt; Enclosure Services</span>
<a name="l00077"></a><a class="code" href="spc__protocol_8h.html#a1ef65c9cbfbf8ab73d7cf2e074eb38d4">00077</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_RBC         0x0e    //!&lt; Simplified Direct Access</span>
<a name="l00078"></a><a class="code" href="spc__protocol_8h.html#af43dfb1d6bd9d5396fa155a6a0f8dc10">00078</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_OCRW        0x0f    //!&lt; Optical card reader/writer</span>
<a name="l00079"></a><a class="code" href="spc__protocol_8h.html#a23e5181e91d8fb80d7b0e9ae703288a7">00079</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_BCC         0x10    //!&lt; Bridge Controller Commands</span>
<a name="l00080"></a><a class="code" href="spc__protocol_8h.html#a475f1fd5817e31f5360f871b3b8955c2">00080</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_OSD         0x11    //!&lt; Object-based Storage</span>
<a name="l00081"></a><a class="code" href="spc__protocol_8h.html#ada8086fa9d1d0da46a17c9a50981825b">00081</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_DT_NONE        0x1f    //!&lt; No Peripheral</span>
<a name="l00082"></a><a class="code" href="structscsi__inquiry__data.html#acf3aa14accf383266c98b0177c271ea1">00082</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#acf3aa14accf383266c98b0177c271ea1" title="Flags (byte 1).">flags1</a>;                 
<a name="l00083"></a><a class="code" href="spc__protocol_8h.html#adee970a14219c8dad7fb1b1feac59ba2">00083</a> <span class="preprocessor">#define SCSI_INQ_RMB            0x80    //!&lt; Removable Medium</span>
<a name="l00084"></a><a class="code" href="structscsi__inquiry__data.html#af05df7af524cd5f7c99ec7b237ffbc81">00084</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#af05df7af524cd5f7c99ec7b237ffbc81" title="Version.">version</a>;                
<a name="l00085"></a><a class="code" href="spc__protocol_8h.html#adb032ee5164e7640d4d4e7b59e0eb1dc">00085</a> <span class="preprocessor">#define SCSI_INQ_VER_NONE       0x00    //!&lt; No standards conformance</span>
<a name="l00086"></a><a class="code" href="spc__protocol_8h.html#ac3b328580e73b5537776e913700414aa">00086</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_VER_SPC        0x03    //!&lt; SCSI Primary Commands</span>
<a name="l00087"></a><a class="code" href="spc__protocol_8h.html#ac0647c6369be86125eeeb851d0f6c505">00087</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_VER_SPC2       0x04    //!&lt; SCSI Primary Commands - 2</span>
<a name="l00088"></a><a class="code" href="spc__protocol_8h.html#a0dbc1df3b92114f73b0e83d946fac6f8">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_VER_SPC3       0x05    //!&lt; SCSI Primary Commands - 3</span>
<a name="l00089"></a><a class="code" href="spc__protocol_8h.html#a5a831d8c4aac633e12f52801c08ce948">00089</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_VER_SPC4       0x06    //!&lt; SCSI Primary Commands - 4</span>
<a name="l00090"></a><a class="code" href="structscsi__inquiry__data.html#a79ab797d51ff8510a7ac4bc7db1351fd">00090</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a79ab797d51ff8510a7ac4bc7db1351fd" title="Flags (byte 3).">flags3</a>;                 
<a name="l00091"></a><a class="code" href="spc__protocol_8h.html#aa254952ccf49c77b241156b27bae88c6">00091</a> <span class="preprocessor">#define SCSI_INQ_NORMACA        0x20    //!&lt; Normal ACA Supported</span>
<a name="l00092"></a><a class="code" href="spc__protocol_8h.html#acf5b24e67abd586436d05208b1f8b1fe">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_HISUP          0x10    //!&lt; Hierarchial LUN addressing</span>
<a name="l00093"></a><a class="code" href="spc__protocol_8h.html#a629e751dda74190c663b8ef9238feef2">00093</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_RSP_SPC2       0x02    //!&lt; SPC-2 / SPC-3 response format</span>
<a name="l00094"></a><a class="code" href="structscsi__inquiry__data.html#a8d35fe69d577e0c37c2eeafac82637b6">00094</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a8d35fe69d577e0c37c2eeafac82637b6" title="Additional Length (n-4).">addl_len</a>;               
<a name="l00095"></a><a class="code" href="spc__protocol_8h.html#a67a84721f0550fbd953a7b5993837245">00095</a> <span class="preprocessor">#define SCSI_INQ_ADDL_LEN(tot)  ((tot) - 5) //!&lt; Total length is \a tot</span>
<a name="l00096"></a><a class="code" href="structscsi__inquiry__data.html#aa9340b8ce0b0eb811f759bece30657b8">00096</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#aa9340b8ce0b0eb811f759bece30657b8" title="Flags (byte 5).">flags5</a>;                 
<a name="l00097"></a>00097 <span class="preprocessor">#define SCSI_INQ_SCCS           0x80</span>
<a name="l00098"></a><a class="code" href="structscsi__inquiry__data.html#a9a6e83a86d6d0a4466892502c30b081b">00098</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a9a6e83a86d6d0a4466892502c30b081b" title="Flags (byte 6).">flags6</a>;                 
<a name="l00099"></a>00099 <span class="preprocessor">#define SCSI_INQ_BQUE           0x80</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_ENCSERV        0x40</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_MULTIP         0x10</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_MCHGR          0x08</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_ADDR16         0x01</span>
<a name="l00104"></a><a class="code" href="structscsi__inquiry__data.html#a6290d1f34144fd809489170048ea7e45">00104</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a6290d1f34144fd809489170048ea7e45" title="Flags (byte 7).">flags7</a>;                 
<a name="l00105"></a>00105 <span class="preprocessor">#define SCSI_INQ_WBUS16         0x20</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_SYNC           0x10</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_LINKED         0x08</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_INQ_CMDQUE         0x02</span>
<a name="l00109"></a><a class="code" href="structscsi__inquiry__data.html#a31bfc33bec4f63c2a1f29db2436532ca">00109</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a31bfc33bec4f63c2a1f29db2436532ca" title="T10 Vendor Identification.">vendor_id</a>[8];           
<a name="l00110"></a><a class="code" href="structscsi__inquiry__data.html#a6f4cc32a9ddf4677a6dcc387a4a2491a">00110</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a6f4cc32a9ddf4677a6dcc387a4a2491a" title="Product Identification.">product_id</a>[16];         
<a name="l00111"></a><a class="code" href="structscsi__inquiry__data.html#a2774ba679f9d59b93be9ad18d9701263">00111</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__inquiry__data.html#a2774ba679f9d59b93be9ad18d9701263" title="Product Revision Level.">product_rev</a>[4];         
<a name="l00112"></a>00112 };
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <a class="code" href="group__compiler__group.html#ga38d28b622a4bc7b0f3fb2be2ef1e0086" title="Set default alignment for subsequent struct and union definitions.">COMPILER_PACK_RESET</a>();
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">/* Vital Product Data page codes */</span>
<a name="l00117"></a>00117 <span class="keyword">enum</span> scsi_vpd_page_code {
<a name="l00118"></a>00118         SCSI_VPD_SUPPORTED_PAGES        = 0x00,
<a name="l00119"></a>00119         SCSI_VPD_UNIT_SERIAL_NUMBER     = 0x80,
<a name="l00120"></a>00120         SCSI_VPD_DEVICE_IDENTIFICATION  = 0x83,
<a name="l00121"></a>00121 };
<a name="l00122"></a>00122 <span class="preprocessor">#define SCSI_VPD_HEADER_SIZE    4</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>
<a name="l00124"></a>00124 <span class="comment">/* Constants associated with the Device Identification VPD page */</span>
<a name="l00125"></a>00125 <span class="preprocessor">#define SCSI_VPD_ID_HEADER_SIZE         4</span>
<a name="l00126"></a>00126 <span class="preprocessor"></span>
<a name="l00127"></a>00127 <span class="preprocessor">#define SCSI_VPD_CODE_SET_BINARY        1</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_VPD_CODE_SET_ASCII         2</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_VPD_CODE_SET_UTF8          3</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>
<a name="l00131"></a>00131 <span class="preprocessor">#define SCSI_VPD_ID_TYPE_T10            1</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>
<a name="l00133"></a>00133 <span class="comment">/* REQUEST SENSE response flags: 1st byte */</span>
<a name="l00134"></a>00134 <span class="preprocessor">#define SCSI_SENSE_VALID                0x80</span>
<a name="l00135"></a>00135 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_CURRENT              0x70</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_DEFERRED             0x71</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138 <span class="comment">/* 3rd byte */</span>
<a name="l00139"></a>00139 <span class="preprocessor">#define SCSI_SENSE_FILEMARK             0x80</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_EOM                  0x40</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_ILI                  0x20</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span><span class="preprocessor">#define SCSI_SENSE_KEY(x)               (x)</span>
<a name="l00143"></a>00143 <span class="preprocessor"></span>
<a name="l00144"></a>00144 <span class="comment">/* 8th byte */</span>
<a name="l00145"></a>00145 <span class="preprocessor">#define SCSI_SENSE_ADDL_LEN(total_len)  ((total_len) - 8)</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>
<a name="l00147"></a>00147 <span class="comment">/* 16th byte */</span>
<a name="l00148"></a>00148 <span class="preprocessor">#define SCSI_SENSE_SKSV                 0x80</span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00150"></a>00150 <span class="comment">/* Sense keys */</span>
<a name="l00151"></a>00151 <span class="keyword">enum</span> scsi_sense_key {
<a name="l00152"></a>00152         SCSI_SK_NO_SENSE        = 0x0,
<a name="l00153"></a>00153         SCSI_SK_RECOVERED_ERROR = 0x1,
<a name="l00154"></a>00154         SCSI_SK_NOT_READY       = 0x2,
<a name="l00155"></a>00155         SCSI_SK_MEDIUM_ERROR    = 0x3,
<a name="l00156"></a>00156         SCSI_SK_HARDWARE_ERROR  = 0x4,
<a name="l00157"></a>00157         SCSI_SK_ILLEGAL_REQUEST = 0x5,
<a name="l00158"></a>00158         SCSI_SK_UNIT_ATTENTION  = 0x6,
<a name="l00159"></a>00159         SCSI_SK_DATA_PROTECT    = 0x7,
<a name="l00160"></a>00160         SCSI_SK_BLANK_CHECK     = 0x8,
<a name="l00161"></a>00161         SCSI_SK_VENDOR_SPECIFIC = 0x9,
<a name="l00162"></a>00162         SCSI_SK_COPY_ABORTED    = 0xa,
<a name="l00163"></a>00163         SCSI_SK_ABORTED_COMMAND = 0xb,
<a name="l00164"></a>00164         SCSI_SK_VOLUME_OVERFLOW = 0xd,
<a name="l00165"></a>00165         SCSI_SK_MISCOMPARE      = 0xe,
<a name="l00166"></a>00166 };
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="comment">/* Additional Sense Code / Additional Sense Code Qualifier pairs */</span>
<a name="l00169"></a>00169 <span class="keyword">enum</span> scsi_asc_ascq {
<a name="l00170"></a>00170         SCSI_ASC_NO_ADDITIONAL_SENSE_INFO               = 0x0000,
<a name="l00171"></a>00171         SCSI_ASC_LU_NOT_READY_REBUILD_IN_PROGRESS       = 0x0405,
<a name="l00172"></a>00172         SCSI_ASC_WRITE_ERROR                            = 0x0c00,
<a name="l00173"></a>00173         SCSI_ASC_UNRECOVERED_READ_ERROR                 = 0x1100,
<a name="l00174"></a>00174         SCSI_ASC_INVALID_COMMAND_OPERATION_CODE         = 0x2000,
<a name="l00175"></a>00175         SCSI_ASC_INVALID_FIELD_IN_CDB                   = 0x2400,
<a name="l00176"></a>00176         SCSI_ASC_MEDIUM_NOT_PRESENT                     = 0x3a00,
<a name="l00177"></a>00177         SCSI_ASC_INTERNAL_TARGET_FAILURE                = 0x4400,
<a name="l00178"></a>00178 };
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">/* Mode page stuff */</span>
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="keyword">enum</span> scsi_spc_mode_page_code {
<a name="l00183"></a>00183         SCSI_MS_PAGE_VENDOR_SPEC                        = 0x00,
<a name="l00184"></a>00184         SCSI_MS_PAGE_ALL                                = 0x3f,
<a name="l00185"></a>00185 };
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="keyword">enum</span> scsi_spc_mode_sense_pc {
<a name="l00188"></a>00188         SCSI_MS_PC_CURRENT              = 0,
<a name="l00189"></a>00189         SCSI_MS_PC_CHANGEABLE           = 1,
<a name="l00190"></a>00190         SCSI_MS_PC_DEFAULT              = 2,
<a name="l00191"></a>00191         SCSI_MS_PC_SAVED                = 3,
<a name="l00192"></a>00192 };
<a name="l00193"></a>00193 
<a name="l00194"></a>00194 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">bool</span> scsi_mode_sense_dbd_is_set(<span class="keyword">const</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> *cdb)
<a name="l00195"></a>00195 {
<a name="l00196"></a>00196         <span class="keywordflow">return</span> (cdb[1] &gt;&gt; 3) &amp; 1;
<a name="l00197"></a>00197 }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> scsi_mode_sense_get_page_code(<span class="keyword">const</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> *cdb)
<a name="l00200"></a>00200 {
<a name="l00201"></a>00201         <span class="keywordflow">return</span> cdb[2] &amp; 0x3f;
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> scsi_mode_sense_get_pc(<span class="keyword">const</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> *cdb)
<a name="l00205"></a>00205 {
<a name="l00206"></a>00206         <span class="keywordflow">return</span> cdb[2] &gt;&gt; 6;
<a name="l00207"></a>00207 }
<a name="l00208"></a>00208 
<a name="l00213"></a><a class="code" href="structscsi__mode__param__header6.html">00213</a> <span class="keyword">struct </span><a class="code" href="structscsi__mode__param__header6.html" title="SCSI Mode Parameter Header used by MODE SELECT(6) and MODE SENSE(6).">scsi_mode_param_header6</a> {
<a name="l00214"></a><a class="code" href="structscsi__mode__param__header6.html#a7264bf93b6afd48f439012bb839a6918">00214</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header6.html#a7264bf93b6afd48f439012bb839a6918" title="Number of bytes after this.">mode_data_length</a>;               
<a name="l00215"></a><a class="code" href="structscsi__mode__param__header6.html#a4822c3dde43ec0ac8ff32400a0d0070c">00215</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header6.html#a4822c3dde43ec0ac8ff32400a0d0070c" title="Medium Type.">medium_type</a>;                    
<a name="l00216"></a><a class="code" href="structscsi__mode__param__header6.html#af8a4251905fdf812b88ec08ec7ac8690">00216</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header6.html#af8a4251905fdf812b88ec08ec7ac8690" title="Defined by command set.">device_specific_parameter</a>;      
<a name="l00217"></a><a class="code" href="structscsi__mode__param__header6.html#aec08d9cc290f881cb5b09583b25f8642">00217</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header6.html#aec08d9cc290f881cb5b09583b25f8642" title="Length of block descriptors.">block_descriptor_length</a>;        
<a name="l00218"></a>00218 };
<a name="l00219"></a>00219 
<a name="l00224"></a><a class="code" href="structscsi__mode__param__header10.html">00224</a> <span class="keyword">struct </span><a class="code" href="structscsi__mode__param__header10.html" title="SCSI Mode Parameter Header used by MODE SELECT(10) and MODE SENSE(10).">scsi_mode_param_header10</a> {
<a name="l00225"></a><a class="code" href="structscsi__mode__param__header10.html#a699e5b5828e776cde0324a0247cc4945">00225</a>         <a class="code" href="types_8h.html#a262cc3b58c3117ea9e8d2ff31477348c" title="Unsigned 16-bit quantity, big endian byte order.">be16_t</a>  <a class="code" href="structscsi__mode__param__header10.html#a699e5b5828e776cde0324a0247cc4945" title="Number of bytes after this.">mode_data_length</a>;               
<a name="l00226"></a><a class="code" href="structscsi__mode__param__header10.html#ae6415337a42c409f79703134f4ed31a3">00226</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header10.html#ae6415337a42c409f79703134f4ed31a3" title="Medium Type.">medium_type</a>;                    
<a name="l00227"></a><a class="code" href="structscsi__mode__param__header10.html#a21db60b4a3e80425de41d8f2a22aeb72">00227</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header10.html#a21db60b4a3e80425de41d8f2a22aeb72" title="Defined by command set.">device_specific_parameter</a>;      
<a name="l00228"></a><a class="code" href="structscsi__mode__param__header10.html#af5089f2962082659c86e1f08e257a823">00228</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__param__header10.html#af5089f2962082659c86e1f08e257a823" title="LONGLBA in bit 0.">flags4</a>;                         
<a name="l00229"></a>00229         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> reserved;
<a name="l00230"></a><a class="code" href="structscsi__mode__param__header10.html#a21d09881ca17ca6818cc83fe954cc0ab">00230</a>         <a class="code" href="types_8h.html#a262cc3b58c3117ea9e8d2ff31477348c" title="Unsigned 16-bit quantity, big endian byte order.">be16_t</a>  <a class="code" href="structscsi__mode__param__header10.html#a21d09881ca17ca6818cc83fe954cc0ab" title="Length of block descriptors.">block_descriptor_length</a>;        
<a name="l00231"></a>00231 };
<a name="l00232"></a>00232 
<a name="l00236"></a><a class="code" href="structscsi__mode__page__0__header.html">00236</a> <span class="keyword">struct </span><a class="code" href="structscsi__mode__page__0__header.html" title="SCSI Page_0 Mode Page header (SPF not set).">scsi_mode_page_0_header</a> {
<a name="l00237"></a>00237         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> page_code;
<a name="l00238"></a><a class="code" href="spc__protocol_8h.html#a4adfe111290ab69ec08b93a51dc2b084">00238</a> <span class="preprocessor">#define SCSI_PAGE_CODE_PS       (1 &lt;&lt; 7)        //!&lt; Parameters Saveable</span>
<a name="l00239"></a><a class="code" href="spc__protocol_8h.html#a240cf36089d40ca91d309501ba054151">00239</a> <span class="preprocessor"></span><span class="preprocessor">#define SCSI_PAGE_CODE_SPF      (1 &lt;&lt; 6)        //!&lt; SubPage Format</span>
<a name="l00240"></a><a class="code" href="structscsi__mode__page__0__header.html#a992d9adcc8ff75e299f727dec2cf16cf">00240</a> <span class="preprocessor"></span>        <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structscsi__mode__page__0__header.html#a992d9adcc8ff75e299f727dec2cf16cf" title="Number of bytes after this.">page_length</a>;                    
<a name="l00241"></a>00241 <span class="preprocessor">#define SCSI_MS_PAGE_LEN(total) ((total) - 2)</span>
<a name="l00242"></a>00242 <span class="preprocessor"></span>};
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="preprocessor">#endif </span><span class="comment">/* SCSI_SPC_PROTOCOL_H_INCLUDED */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:34 2010 for xplain-bc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
