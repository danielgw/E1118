<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xplain-bc: include/usb/msc_protocol.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>include/usb/msc_protocol.h</h1><a href="msc__protocol_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00038"></a>00038 <span class="preprocessor">#ifndef USB_MSC_PROTOCOL_H_INCLUDED</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#define USB_MSC_PROTOCOL_H_INCLUDED</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;<a class="code" href="types_8h.html" title="Type definitions used throughout the library.">types.h</a>&gt;</span>
<a name="l00042"></a>00042 
<a name="l00064"></a><a class="code" href="group__msc__protocol__group.html#ga50738c3feb0d58590e2c519de74fc710">00064</a> <span class="keyword">enum</span> <a class="code" href="group__msc__protocol__group.html#ga50738c3feb0d58590e2c519de74fc710" title="Possible bInterfaceSubClass values for a mass-storage interface.">usb_msc_interface_subclass</a> {
<a name="l00065"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a4f10cb3cbb85a8c3f63ba9d31e1c0e30">00065</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a4f10cb3cbb85a8c3f63ba9d31e1c0e30" title="Reduced Block Commands.">USB_MSC_SUBCLASS_RBC</a>            = 0x01, 
<a name="l00066"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a63d8aff98ff29e062a34e9a8db323789">00066</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a63d8aff98ff29e062a34e9a8db323789" title="CD/DVD devices.">USB_MSC_SUBCLASS_ATAPI</a>          = 0x02, 
<a name="l00067"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a57f2b7a427c3cd4c6fb72e9361e9f80d">00067</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a57f2b7a427c3cd4c6fb72e9361e9f80d" title="Tape devices.">USB_MSC_SUBCLASS_QIC_157</a>        = 0x03, 
<a name="l00068"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a3caea311a34849780d19971a45658f8f">00068</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a3caea311a34849780d19971a45658f8f" title="Floppy disk drives.">USB_MSC_SUBCLASS_UFI</a>            = 0x04, 
<a name="l00069"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710ab62fc5a42e82e734a88ca1eb3d3aff92">00069</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710ab62fc5a42e82e734a88ca1eb3d3aff92" title="Floppy disk drives.">USB_MSC_SUBCLASS_SFF_8070I</a>      = 0x05, 
<a name="l00070"></a><a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a34581eaa12f3a6cd9103494dfc28b414">00070</a>         <a class="code" href="group__msc__protocol__group.html#gga50738c3feb0d58590e2c519de74fc710a34581eaa12f3a6cd9103494dfc28b414" title="Determined by INQUIRY.">USB_MSC_SUBCLASS_TRANSPARENT</a>    = 0x06, 
<a name="l00071"></a>00071 };
<a name="l00072"></a>00072 
<a name="l00079"></a><a class="code" href="group__msc__protocol__group.html#gab8db1c2202894682acc4d0b060976eca">00079</a> <span class="keyword">enum</span> <a class="code" href="group__msc__protocol__group.html#gab8db1c2202894682acc4d0b060976eca" title="Possible bInterfaceProtocol values for a mass-storage interface.">usb_msc_interface_protocol</a> {
<a name="l00080"></a><a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaa4c4014820c311a89eb6b83579d66db7c">00080</a>         <a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaa4c4014820c311a89eb6b83579d66db7c" title="Command/Bulk/Interrupt.">USB_MSC_PROTOCOL_CBI</a>            = 0x00, 
<a name="l00081"></a><a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaaf80a9a7bd70f6966eb7a8e271053c0b1">00081</a>         <a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaaf80a9a7bd70f6966eb7a8e271053c0b1" title="W/o command completion.">USB_MSC_PROTOCOL_CBI_ALT</a>        = 0x01, 
<a name="l00082"></a><a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaa01980da64983b318aa8bff0d4eec9b8e">00082</a>         <a class="code" href="group__msc__protocol__group.html#ggab8db1c2202894682acc4d0b060976ecaa01980da64983b318aa8bff0d4eec9b8e" title="Bulk-only.">USB_MSC_PROTOCOL_BULK</a>           = 0x50, 
<a name="l00083"></a>00083 };
<a name="l00084"></a>00084 
<a name="l00088"></a><a class="code" href="group__msc__protocol__group.html#gafe6dd9887c6fb1764c5117c4cf73ef1a">00088</a> <span class="keyword">enum</span> <a class="code" href="group__msc__protocol__group.html#gafe6dd9887c6fb1764c5117c4cf73ef1a" title="Mass Storage Bulk-only class specific requests.">usb_msc_reqid</a> {
<a name="l00089"></a><a class="code" href="group__msc__protocol__group.html#ggafe6dd9887c6fb1764c5117c4cf73ef1aaeb84682334c179de5baeca246ba906e5">00089</a>         <a class="code" href="group__msc__protocol__group.html#ggafe6dd9887c6fb1764c5117c4cf73ef1aaeb84682334c179de5baeca246ba906e5" title="Mass Storage Reset.">USB_MSC_REQ_BULK_RESET</a>          = 0xff, 
<a name="l00090"></a><a class="code" href="group__msc__protocol__group.html#ggafe6dd9887c6fb1764c5117c4cf73ef1aa9c681a8d81acce518f6cd8af1cb72d0c">00090</a>         <a class="code" href="group__msc__protocol__group.html#ggafe6dd9887c6fb1764c5117c4cf73ef1aa9c681a8d81acce518f6cd8af1cb72d0c" title="Get Max LUN.">USB_MSC_REQ_GET_MAX_LUN</a>         = 0xfe, 
<a name="l00091"></a>00091 };
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <a class="code" href="group__compiler__group.html#gae2c02ff865ca6538b4b1bddbf2a6876c" title="Set maximum alignment for subsequent struct and union definitions to alignment.">COMPILER_PACK_SET</a>(1);
<a name="l00094"></a>00094 
<a name="l00098"></a><a class="code" href="structusb__msc__cbw.html">00098</a> <span class="keyword">struct </span><a class="code" href="structusb__msc__cbw.html" title="A Command Block Wrapper (CBW).">usb_msc_cbw</a> {
<a name="l00099"></a><a class="code" href="structusb__msc__cbw.html#ae1158550a28650c597a03c7d8e0faf85">00099</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__cbw.html#ae1158550a28650c597a03c7d8e0faf85" title="Must contain &amp;#39;USBC&amp;#39;.">dCBWSignature</a>;          
<a name="l00100"></a><a class="code" href="structusb__msc__cbw.html#a6b81ebfdbc8a26efa211b48ce1747496">00100</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__cbw.html#a6b81ebfdbc8a26efa211b48ce1747496" title="Unique command ID.">dCBWTag</a>;                
<a name="l00101"></a><a class="code" href="structusb__msc__cbw.html#abd7ed9f59cdb211476a9c64a07f88097">00101</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__cbw.html#abd7ed9f59cdb211476a9c64a07f88097" title="Number of bytes to transfer.">dCBWDataTransferLength</a>; 
<a name="l00102"></a><a class="code" href="structusb__msc__cbw.html#a8331a5d04e78012779cdf5a568af90b9">00102</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structusb__msc__cbw.html#a8331a5d04e78012779cdf5a568af90b9" title="Direction in bit 7.">bmCBWFlags</a>;             
<a name="l00103"></a><a class="code" href="structusb__msc__cbw.html#a10cb317c0fe88d24265168592ed63c6b">00103</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structusb__msc__cbw.html#a10cb317c0fe88d24265168592ed63c6b" title="Logical Unit Number.">bCBWLUN</a>;                
<a name="l00104"></a><a class="code" href="structusb__msc__cbw.html#aa27e149aae7423c6dc3e430cb5a57795">00104</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structusb__msc__cbw.html#aa27e149aae7423c6dc3e430cb5a57795" title="Number of valid CDB bytes.">bCBWCBLength</a>;           
<a name="l00105"></a><a class="code" href="structusb__msc__cbw.html#aff0975cd0a29fa70062b952f95c98ece">00105</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structusb__msc__cbw.html#aff0975cd0a29fa70062b952f95c98ece" title="SCSI Command Descriptor Block.">CDB</a>[16];                
<a name="l00106"></a>00106 };
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="group__msc__protocol__group.html#gacb727c8d124837bf354ff001e41f8ca5">00108</a> <span class="preprocessor">#define USB_CBW_SIGNATURE       0x43425355      //!&lt; dCBWSignature value</span>
<a name="l00109"></a><a class="code" href="group__msc__protocol__group.html#ga021a9ff4e37fd66964d47e2bc1331f90">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CBW_DIRECTION_IN    (1 &lt;&lt; 7)        //!&lt; Data from device to host</span>
<a name="l00110"></a><a class="code" href="group__msc__protocol__group.html#ga01e85ee83f9052af0b29007786844653">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CBW_LUN_MASK        0x0f            //!&lt; Valid bits in bCBWLUN</span>
<a name="l00111"></a><a class="code" href="group__msc__protocol__group.html#ga4f7e7978a92aeb26c893a683e7090df0">00111</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CBW_LEN_MASK        0x1f            //!&lt; Valid bits in bCBWCBLength</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00116"></a><a class="code" href="structusb__msc__csw.html">00116</a> <span class="keyword">struct </span><a class="code" href="structusb__msc__csw.html" title="A Command Status Wrapper (CSW).">usb_msc_csw</a> {
<a name="l00117"></a><a class="code" href="structusb__msc__csw.html#a3ab823b1436a4a3abdcff34d75fc91d4">00117</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__csw.html#a3ab823b1436a4a3abdcff34d75fc91d4" title="Must contain &amp;#39;USBS&amp;#39;.">dCSWSignature</a>;          
<a name="l00118"></a><a class="code" href="structusb__msc__csw.html#aade7ffa14a98a710eaa9540e3110da42">00118</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__csw.html#aade7ffa14a98a710eaa9540e3110da42" title="Same as dCBWTag.">dCSWTag</a>;                
<a name="l00119"></a><a class="code" href="structusb__msc__csw.html#a896d392f5036caced3067d282d5b5807">00119</a>         <a class="code" href="types_8h.html#a7634ed52397bc4a6cba4b0be318e7d17" title="Unsigned 32-bit quantity, little endian byte order.">le32_t</a>  <a class="code" href="structusb__msc__csw.html#a896d392f5036caced3067d282d5b5807" title="Number of bytes not transfered.">dCSWDataResidue</a>;        
<a name="l00120"></a><a class="code" href="structusb__msc__csw.html#aa1c2d8d8b2b16b50e9d57e60fd19ca2f">00120</a>         <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a> <a class="code" href="structusb__msc__csw.html#aa1c2d8d8b2b16b50e9d57e60fd19ca2f" title="Status code.">bCSWStatus</a>;             
<a name="l00121"></a>00121 };
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="group__msc__protocol__group.html#ga9150766ba34c8615b6b6f8493ec2e7fc">00123</a> <span class="preprocessor">#define USB_CSW_SIGNATURE       0x53425355      //!&lt; dCSWSignature value</span>
<a name="l00124"></a><a class="code" href="group__msc__protocol__group.html#gadc7279a1a9f0597eb2466d1ef10dea72">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CSW_STATUS_PASS     0x00            //!&lt; Command Passed</span>
<a name="l00125"></a><a class="code" href="group__msc__protocol__group.html#ga097cce1766022ae1c866a96d289de063">00125</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CSW_STATUS_FAIL     0x01            //!&lt; Command Failed</span>
<a name="l00126"></a><a class="code" href="group__msc__protocol__group.html#gabf724d46c05e230cc9bdfd8b7d945ec2">00126</a> <span class="preprocessor"></span><span class="preprocessor">#define USB_CSW_STATUS_PE       0x02            //!&lt; Phase Error</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span>
<a name="l00128"></a>00128 <a class="code" href="group__compiler__group.html#ga38d28b622a4bc7b0f3fb2be2ef1e0086" title="Set default alignment for subsequent struct and union definitions.">COMPILER_PACK_RESET</a>();
<a name="l00129"></a>00129 
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="preprocessor">#endif </span><span class="comment">/* USB_MSC_PROTOCOL_H_INCLUDED */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Apr 29 14:10:34 2010 for xplain-bc by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
