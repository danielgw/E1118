<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>display-training: apps/display-training/app_widget.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">display-training</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>apps/display-training/app_widget.c</h1>  </div>
</div>
<div class="contents">
<a href="app__widget_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//gauge_dev</span>
<a name="l00040"></a>00040 <span class="comment"></span><span class="preprocessor">#include &lt;led.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;board.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;gfx/gfx.h&gt;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &lt;gfx/win.h&gt;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;gfx/wtk.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;gfx/sysfont.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;membag.h&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;debug.h&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;mainloop.h&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;stream.h&gt;</span>
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="app__widget_8h.html" title="Display training widget application.">app_widget.h</a>&quot;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 
<a name="l00073"></a><a class="code" href="group__app__widget__group.html#gacf97ed0c95e3bddca7bbf304bde08d33">00073</a> <span class="keyword">enum</span> <a class="code" href="group__app__widget__group.html#gacf97ed0c95e3bddca7bbf304bde08d33" title="Event command ID for the application widgets.">app_widget_ids</a> {
<a name="l00075"></a><a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33afc8f638e3da90e7668c344b40153b6c4">00075</a>         <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33afc8f638e3da90e7668c344b40153b6c4" title="Event command ID for the slider.">SLIDER_ID</a> = 1,
<a name="l00077"></a><a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33a0459ece1d72356213f44067030ccda73">00077</a>         <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33a0459ece1d72356213f44067030ccda73" title="Event command ID for the second slider.">SLIDERTWO_ID</a> = 2,
<a name="l00079"></a><a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33ac5a68bc932e0a7936aa57c271d49d855">00079</a>         <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33ac5a68bc932e0a7936aa57c271d49d855" title="Event command ID for the button.">BUTTON_ID</a>,
<a name="l00080"></a>00080 };
<a name="l00081"></a>00081 
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="group__app__widget__group.html#gae8721616eb76f7dd949b941a7c1a6df5">00089</a> <span class="preprocessor">#define APP_BACKGROUND_COLOR        GFX_COLOR(77, 77, 77)</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00092"></a>00092 
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="group__app__widget__group.html#ga858197c967901f3bc8ad7c5a24c0de5a">00100</a> <span class="preprocessor">#define LABEL_POS_X                 6</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="group__app__widget__group.html#ga95ca3695a2b130f5c9f18725210bba28">00102</a> <span class="preprocessor">#define LABEL_POS_Y                 6</span>
<a name="l00103"></a>00103 <span class="preprocessor"></span>
<a name="l00105"></a><a class="code" href="group__app__widget__group.html#ga59b0b3f35f89dd1fcb821c735044bf3b">00105</a> <span class="preprocessor">#define SLIDER_POS_X               10</span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>
<a name="l00107"></a><a class="code" href="group__app__widget__group.html#ga174764c602365c17ea10783ca7b3b404">00107</a> <span class="preprocessor">#define SLIDER_POS_Y               40</span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a><a class="code" href="group__app__widget__group.html#ga5abb3203c51e3b101c0111552bdd5f6e">00109</a> <span class="preprocessor">#define SLIDER_SIZE_X              20</span>
<a name="l00110"></a>00110 <span class="preprocessor"></span>
<a name="l00111"></a><a class="code" href="group__app__widget__group.html#ga0029c0fa7dac7923c1c9285a020432f8">00111</a> <span class="preprocessor">#define SLIDER_SIZE_Y             170</span>
<a name="l00112"></a>00112 <span class="preprocessor"></span>
<a name="l00114"></a><a class="code" href="group__app__widget__group.html#gaeb9c0414ca968b029d0ce1903e97101b">00114</a> <span class="preprocessor">#define G_POS_X                                    50</span>
<a name="l00115"></a>00115 <span class="preprocessor"></span>
<a name="l00116"></a><a class="code" href="group__app__widget__group.html#ga874897ea6499bc52c9b6805cbe8dbdae">00116</a> <span class="preprocessor">#define G_POS_Y                                    40</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>
<a name="l00118"></a><a class="code" href="group__app__widget__group.html#gaa4f26aae431e303a4a0717c4926dc102">00118</a> <span class="preprocessor">#define G_SIZE                                150</span>
<a name="l00119"></a>00119 <span class="preprocessor"></span>
<a name="l00120"></a>00120 
<a name="l00122"></a><a class="code" href="group__app__widget__group.html#ga19fee7e6a28c8ec243de3f6612a710c0">00122</a> <span class="preprocessor">#define SLIDERTWO_POS_X            50</span>
<a name="l00123"></a>00123 <span class="preprocessor"></span>
<a name="l00124"></a><a class="code" href="group__app__widget__group.html#ga4db44d7b4072f37bbb577d6b52ed0466">00124</a> <span class="preprocessor">#define SLIDERTWO_POS_Y           210</span>
<a name="l00125"></a>00125 <span class="preprocessor"></span>
<a name="l00126"></a><a class="code" href="group__app__widget__group.html#ga340b56d6637bafb9ff774ad0d410d5d9">00126</a> <span class="preprocessor">#define SLIDERTWO_SIZE_X          255</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span>
<a name="l00128"></a><a class="code" href="group__app__widget__group.html#ga9ae0bc5e37df24967b54e6d4132db696">00128</a> <span class="preprocessor">#define SLIDERTWO_SIZE_Y           20</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span>
<a name="l00131"></a><a class="code" href="group__app__widget__group.html#ga90fb2ea6afd6c2e5622b79dbd5419c60">00131</a> <span class="preprocessor">#define GTWO_POS_X                            210</span>
<a name="l00132"></a>00132 <span class="preprocessor"></span>
<a name="l00133"></a><a class="code" href="group__app__widget__group.html#gaf62dcf0841ead75ca3cb25e5f9e48a07">00133</a> <span class="preprocessor">#define GTWO_POS_Y                                 80</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a><a class="code" href="group__app__widget__group.html#gac2254105ec3fcd17194f0cccdf97ac0e">00135</a> <span class="preprocessor">#define GTWO_SIZE                                 100</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>
<a name="l00137"></a>00137 
<a name="l00139"></a><a class="code" href="group__app__widget__group.html#gab6a8e7c4a8c18de412146ad11c944ddc">00139</a> <span class="preprocessor">#define TRAVEL                                          0</span>
<a name="l00140"></a>00140 <span class="preprocessor"></span>
<a name="l00141"></a>00141 
<a name="l00143"></a>00143 
<a name="l00150"></a>00150 
<a name="l00151"></a><a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d">00151</a> <span class="preprocessor">#define SLIDER_MAX_VALUE            240</span>
<a name="l00152"></a>00152 <span class="preprocessor"></span>
<a name="l00153"></a><a class="code" href="group__app__widget__group.html#gae85fa2cd3210eb97a87074944d540e83">00153</a> <span class="preprocessor">#define SLIDERTWO_MAX_VALUE         240</span>
<a name="l00154"></a>00154 <span class="preprocessor"></span>
<a name="l00155"></a>00155 
<a name="l00157"></a>00157 
<a name="l00164"></a>00164 
<a name="l00165"></a><a class="code" href="group__app__widget__group.html#ga58fd1c314a2e3428b7c43337deef9d66">00165</a> <span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">char</span>                   *<a class="code" href="group__app__widget__group.html#ga58fd1c314a2e3428b7c43337deef9d66" title="Description for label.">demo_string</a> = <span class="stringliteral">&quot;Gauge Demo:&quot;</span>;
<a name="l00166"></a>00166 
<a name="l00168"></a>00168 
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="group__app__widget__group.html#gaa1609eacc47c12c4f864af7aa6a177f1">00176</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__basic__frame.html" title="Basic frame control struct.">wtk_basic_frame</a>       *<a class="code" href="group__app__widget__group.html#gaa1609eacc47c12c4f864af7aa6a177f1" title="Pointer to frame for application.">frame</a>;
<a name="l00178"></a><a class="code" href="group__app__widget__group.html#ga26b0162371df25ecfcdeced2a2433d0f">00178</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__slider.html" title="Slider control struct.">wtk_slider</a>            *<a class="code" href="group__app__widget__group.html#ga26b0162371df25ecfcdeced2a2433d0f" title="Pointer to slider.">slider</a>;
<a name="l00180"></a><a class="code" href="group__app__widget__group.html#gacadb16816790e55c1a565c81c83ea741">00180</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__slider.html" title="Slider control struct.">wtk_slider</a>            *<a class="code" href="group__app__widget__group.html#gacadb16816790e55c1a565c81c83ea741" title="Pointer to slidertwo.">slidertwo</a>;
<a name="l00181"></a>00181 
<a name="l00183"></a><a class="code" href="group__app__widget__group.html#ga81de9f34215ac43b848531b57aedc5e0">00183</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structgfx__bitmap.html" title="Storage structure for bitmap pixel data and metadata.">gfx_bitmap</a>            <a class="code" href="group__app__widget__group.html#ga81de9f34215ac43b848531b57aedc5e0" title="Frame background bitmap.">frame_background</a>;
<a name="l00185"></a><a class="code" href="group__app__widget__group.html#ga0480b812cba9c1d9c71a5fb1071bd0fc">00185</a> <span class="keyword">static</span> <a class="code" href="group__stdint__group.html#gae1affc9ca37cfb624959c866a73f83c2" title="8-bit unsigned integer">uint8_t</a>                      <a class="code" href="group__app__widget__group.html#ga0480b812cba9c1d9c71a5fb1071bd0fc" title="Counter for button.">counter</a>;
<a name="l00187"></a><a class="code" href="group__app__widget__group.html#gac262d019a7b7a15996ec613491cb8483">00187</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__basic__frame.html" title="Basic frame control struct.">wtk_basic_frame</a>       *<a class="code" href="group__app__widget__group.html#gac262d019a7b7a15996ec613491cb8483" title="Pointer to the sub-frame.">sub_frame</a>, *sub_frame_test, *sub_frame_test2;
<a name="l00189"></a><a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552">00189</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structgfx__bitmap.html" title="Storage structure for bitmap pixel data and metadata.">gfx_bitmap</a>            <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>;
<a name="l00190"></a>00190 
<a name="l00192"></a><a class="code" href="group__app__widget__group.html#ga773656c5b3acd8125023d9165bec6a02">00192</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structgfx__bitmap.html" title="Storage structure for bitmap pixel data and metadata.">gfx_bitmap</a>                        <a class="code" href="group__app__widget__group.html#ga773656c5b3acd8125023d9165bec6a02" title="Gauge background bitmap.">gauge_background</a>;
<a name="l00193"></a>00193 
<a name="l00195"></a><a class="code" href="group__app__widget__group.html#ga0545d952659580bbe1700cf784bd53da">00195</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__gauge.html" title="Gauge control struct.">wtk_gauge</a>                 *<a class="code" href="group__app__widget__group.html#ga0545d952659580bbe1700cf784bd53da" title="Pointer to gauge.">gauge</a>;
<a name="l00197"></a><a class="code" href="group__app__widget__group.html#ga0e8b6e4649313c032066c7cec2b697e6">00197</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structwtk__gauge.html" title="Gauge control struct.">wtk_gauge</a>                 *<a class="code" href="group__app__widget__group.html#ga0e8b6e4649313c032066c7cec2b697e6" title="Pointer to gaugetwo.">gaugetwo</a>;
<a name="l00198"></a>00198 
<a name="l00200"></a><a class="code" href="group__app__widget__group.html#ga56fd3cf46d9390ed5b251b3a0abe6c44">00200</a> <span class="keyword">static</span> <span class="keyword">struct </span><a class="code" href="structfont.html" title="Storage structure for font metadata.">font</a> <a class="code" href="group__app__widget__group.html#ga56fd3cf46d9390ed5b251b3a0abe6c44" title="Application font in use.">sysfont1x</a>;
<a name="l00201"></a>00201 
<a name="l00203"></a>00203 
<a name="l00211"></a><a class="code" href="group__app__widget__group.html#ga92d28032a15ad54242630dda26e06dcd">00211</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="group__app__widget__group.html#ga92d28032a15ad54242630dda26e06dcd" title="Frame command events handler.">widget_frame_command_handler</a>(<span class="keyword">struct</span> <a class="code" href="structwtk__basic__frame.html" title="Basic frame control struct.">wtk_basic_frame</a> *frame,
<a name="l00212"></a>00212                 <a class="code" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f" title="Custom data, can be used as a data pointer or data depending on the application.">win_command_t</a> command_data)
<a name="l00213"></a>00213 {
<a name="l00214"></a>00214         <span class="keywordtype">char</span> command = (char)(<a class="code" href="group__stdint__group.html#ga2f2d463af0e2a9da3ecdd102ce312832" title="Unsigned integer type capable of holding a pointer.">uintptr_t</a>)command_data;
<a name="l00215"></a>00215 
<a name="l00216"></a>00216         <span class="keywordflow">switch</span> (command) {
<a name="l00217"></a>00217         <span class="keywordflow">case</span> <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33afc8f638e3da90e7668c344b40153b6c4" title="Event command ID for the slider.">SLIDER_ID</a>:
<a name="l00218"></a>00218                 <a class="code" href="group__gfx__wtk__gauge.html#ga0f4d5b794f7593cfae0219a0c3e50ec0" title="Set new gauge value.">wtk_gauge_set_value</a>(gauge,
<a name="l00219"></a>00219                 <a class="code" href="group__gfx__wtk__slider.html#ga685ad61e500fe87c9a50b4353fc926f6" title="Get slider value.">wtk_slider_get_value</a>(slider));
<a name="l00220"></a>00220                 <a class="code" href="group__gfx__win.html#ga7f5e9dd7246c26ade8a7a3a764b3dc74" title="Redraw window and its contents, if visible.">win_redraw</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame_test));
<a name="l00221"></a>00221                 <a class="code" href="group__gfx__win.html#ga7f5e9dd7246c26ade8a7a3a764b3dc74" title="Redraw window and its contents, if visible.">win_redraw</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame_test2));
<a name="l00222"></a>00222                 <span class="keywordflow">break</span>;
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="keywordflow">case</span> <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33a0459ece1d72356213f44067030ccda73" title="Event command ID for the second slider.">SLIDERTWO_ID</a>:
<a name="l00225"></a>00225                 <a class="code" href="group__gfx__wtk__gauge.html#ga0f4d5b794f7593cfae0219a0c3e50ec0" title="Set new gauge value.">wtk_gauge_set_value</a>(gaugetwo,
<a name="l00226"></a>00226                 <a class="code" href="group__gfx__wtk__slider.html#ga685ad61e500fe87c9a50b4353fc926f6" title="Get slider value.">wtk_slider_get_value</a>(slidertwo));
<a name="l00227"></a>00227                 <span class="keywordflow">break</span>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         <span class="keywordflow">case</span> <a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33ac5a68bc932e0a7936aa57c271d49d855" title="Event command ID for the button.">BUTTON_ID</a>:
<a name="l00230"></a>00230                 <a class="code" href="group__app__widget__group.html#ga0480b812cba9c1d9c71a5fb1071bd0fc" title="Counter for button.">counter</a>++;
<a name="l00231"></a>00231                 <a class="code" href="group__gfx__win.html#ga7f5e9dd7246c26ade8a7a3a764b3dc74" title="Redraw window and its contents, if visible.">win_redraw</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame));
<a name="l00232"></a>00232                 <span class="keywordflow">break</span>;
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00236"></a>00236 }
<a name="l00237"></a>00237 
<a name="l00245"></a><a class="code" href="group__app__widget__group.html#ga6201d3818c7546dcadec254eb3bc03ac">00245</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="group__app__widget__group.html#ga6201d3818c7546dcadec254eb3bc03ac" title="Frame draw event handler.">sub_frame_draw_handler</a>(<span class="keyword">struct</span> <a class="code" href="structwin__window.html" title="Window control data.">win_window</a> *win,
<a name="l00246"></a>00246                 <span class="keyword">struct</span> <a class="code" href="structwin__clip__region.html" title="Geometric type describing a clipping region, used when drawing windows.">win_clip_region</a> <span class="keyword">const</span> *clip)
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248         <span class="keywordtype">char</span> <a class="code" href="structbuffer.html" title="A generic data buffer.">buffer</a>[4];
<a name="l00249"></a>00249 
<a name="l00250"></a>00250         <a class="code" href="stream__string_8c.html#ad76145a6edfc98981ded8815a760e0cd" title="Streamed formatted size limited output conversion.">snprintf</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%3d&quot;</span>, <a class="code" href="group__app__widget__group.html#ga0480b812cba9c1d9c71a5fb1071bd0fc" title="Counter for button.">counter</a>);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252         <a class="code" href="group__gfx__gfx.html#gaf6bb28b793aa67278db46230b72d6c50" title="Draws a string to the display.">gfx_draw_string</a>(buffer, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.x + 30, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.y + 12,
<a name="l00253"></a>00253                         &amp;<a class="code" href="group__gfx__sysfont.html#ga9df1a6a09f606d5fa00dc3a2be10aabb" title="Initialize a basic system font.">sysfont</a>, <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(0, 0, 0),
<a name="l00254"></a>00254                         <a class="code" href="group__gfx__gfx.html#gab8aa45e3febdfb476408dffba0cc0103" title="Value used as input to font functions to give a transparent background region.">GFX_COLOR_TRANSPARENT</a>);
<a name="l00255"></a>00255 }
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 <span class="keyword">static</span> <span class="keywordtype">void</span> sub_frame_draw_handler_test(<span class="keyword">struct</span> <a class="code" href="structwin__window.html" title="Window control data.">win_window</a> *win,
<a name="l00258"></a>00258                 <span class="keyword">struct</span> <a class="code" href="structwin__clip__region.html" title="Geometric type describing a clipping region, used when drawing windows.">win_clip_region</a> <span class="keyword">const</span> *clip)
<a name="l00259"></a>00259 {
<a name="l00260"></a>00260         <span class="keywordtype">char</span> <a class="code" href="structbuffer.html" title="A generic data buffer.">buffer</a>[4];
<a name="l00261"></a>00261 
<a name="l00262"></a>00262         <a class="code" href="stream__string_8c.html#ad76145a6edfc98981ded8815a760e0cd" title="Streamed formatted size limited output conversion.">snprintf</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%3d&quot;</span>, <a class="code" href="group__gfx__wtk__gauge.html#ga2339860f10f410d7a807c6f98a39f0d0">wtk_gauge_trigtable</a>(<a class="code" href="group__gfx__wtk.html#ga04ff21a8882a2a0402c26cf3d1402afe" title="Rescale 8-bit value.">wtk_rescale_value</a>(<a class="code" href="group__gfx__wtk__gauge.html#gae8318f57fa3e71be256bde7b2e50a924" title="Get gauge value.">wtk_gauge_get_value</a>(gauge), <a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d" title="Max value for slider.">SLIDER_MAX_VALUE</a>, 127)));
<a name="l00263"></a>00263         
<a name="l00264"></a>00264         <a class="code" href="group__gfx__gfx.html#gaf6bb28b793aa67278db46230b72d6c50" title="Draws a string to the display.">gfx_draw_string</a>(buffer, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.x + 30, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.y + 12,
<a name="l00265"></a>00265                         &amp;<a class="code" href="group__gfx__sysfont.html#ga9df1a6a09f606d5fa00dc3a2be10aabb" title="Initialize a basic system font.">sysfont</a>, <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(0, 0, 0),
<a name="l00266"></a>00266                         <a class="code" href="group__gfx__gfx.html#gab8aa45e3febdfb476408dffba0cc0103" title="Value used as input to font functions to give a transparent background region.">GFX_COLOR_TRANSPARENT</a>);
<a name="l00267"></a>00267 }
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 <span class="keyword">static</span> <span class="keywordtype">void</span> sub_frame_draw_handler_test2(<span class="keyword">struct</span> <a class="code" href="structwin__window.html" title="Window control data.">win_window</a> *win,
<a name="l00270"></a>00270                 <span class="keyword">struct</span> <a class="code" href="structwin__clip__region.html" title="Geometric type describing a clipping region, used when drawing windows.">win_clip_region</a> <span class="keyword">const</span> *clip)
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272         <span class="keywordtype">char</span> buffer[4];
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         
<a name="l00275"></a>00275         <a class="code" href="stream__string_8c.html#ad76145a6edfc98981ded8815a760e0cd" title="Streamed formatted size limited output conversion.">snprintf</a>(buffer, <span class="keyword">sizeof</span>(buffer), <span class="stringliteral">&quot;%3d&quot;</span>, <a class="code" href="group__gfx__wtk__gauge.html#ga5fc0770d8bbb4d9916742e38224b92f0">wtk_gauge_get_test</a>(gauge));
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         
<a name="l00278"></a>00278         <a class="code" href="group__gfx__gfx.html#gaf6bb28b793aa67278db46230b72d6c50" title="Draws a string to the display.">gfx_draw_string</a>(buffer, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.x + 30, clip-&gt;<a class="code" href="structwin__clip__region.html#a5989475e9092c659a032cb6d4dd99353" title="Absolute coordinates of top-left window corner.">origin</a>.y + 12,
<a name="l00279"></a>00279                         &amp;<a class="code" href="group__gfx__sysfont.html#ga9df1a6a09f606d5fa00dc3a2be10aabb" title="Initialize a basic system font.">sysfont</a>, <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(0, 0, 0),
<a name="l00280"></a>00280                         <a class="code" href="group__gfx__gfx.html#gab8aa45e3febdfb476408dffba0cc0103" title="Value used as input to font functions to give a transparent background region.">GFX_COLOR_TRANSPARENT</a>);
<a name="l00281"></a>00281 }
<a name="l00282"></a>00282 
<a name="l00290"></a><a class="code" href="group__app__widget__group.html#gabb33b8583f6e6ebbb4d7f39ede5c18b2">00290</a> <span class="keywordtype">void</span> <a class="code" href="group__app__widget__group.html#gabb33b8583f6e6ebbb4d7f39ede5c18b2" title="Setup widget demo.">app_widget_launch</a>(<span class="keyword">struct</span> <a class="code" href="structworkqueue__task.html" title="Task to be run from a work queue.">workqueue_task</a> *task) {
<a name="l00291"></a>00291 
<a name="l00292"></a>00292         <span class="keyword">struct </span><a class="code" href="structwin__window.html" title="Window control data.">win_window</a>       *<a class="code" href="group__gfx__win.html#ga5733efc0d1a2cf900afae4df206c8ff6" title="Root window, i.e. desktop window.">win_root</a>;
<a name="l00293"></a>00293         <span class="keyword">struct </span><a class="code" href="structwin__window.html" title="Window control data.">win_window</a>       *<a class="code" href="structwin__window.html#a252cb3f034971464404e055db6859a3a" title="Parent window.">parent</a>;
<a name="l00294"></a>00294         <span class="keyword">struct </span><a class="code" href="structwin__area.html" title="Geometric type describing an area on screen.">win_area</a>         area;
<a name="l00295"></a>00295         <span class="keyword">struct </span><a class="code" href="structwtk__label.html">wtk_label</a>        *lbl;
<a name="l00296"></a>00296         <span class="keyword">struct </span><a class="code" href="structwtk__button.html">wtk_button</a>       *btn;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 
<a name="l00299"></a>00299         <span class="comment">//int byte = pgm_read_byte(&amp;(trigtable[15])); //! Get byte function for PROGMEM</span>
<a name="l00300"></a>00300         <span class="comment">//pgm_read_byte(&amp;(trigtable[wtk_slider_get_value(slider)]))</span>
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00303"></a>00303         <span class="comment">// Use normal sysfont for this app</span>
<a name="l00304"></a>00304         <a class="code" href="group__app__widget__group.html#ga56fd3cf46d9390ed5b251b3a0abe6c44" title="Application font in use.">sysfont1x</a>.<a class="code" href="structfont.html#a93930e293fe0c2a740da28bbd8f1a46d" title="Number of times characters are scaled up when being drawn.">scale</a> = 1;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306         <span class="comment">// Get pointer to root window</span>
<a name="l00307"></a>00307         win_root = <a class="code" href="group__gfx__win.html#gabb0c95ee3810418e2dff2264aac277fa" title="Get pointer to root window, i.e. desktop window.">win_get_root</a>();
<a name="l00308"></a>00308 
<a name="l00309"></a>00309         <span class="comment">// Application frame</span>
<a name="l00310"></a>00310 
<a name="l00311"></a>00311         <span class="comment">// Create a background bitmap using a solid color.</span>
<a name="l00312"></a>00312         <a class="code" href="group__app__widget__group.html#ga81de9f34215ac43b848531b57aedc5e0" title="Frame background bitmap.">frame_background</a>.<a class="code" href="structgfx__bitmap.html#a25e3747161bb4053f91cbaab6bdc216d" title="Bitmap type.">type</a> = <a class="code" href="group__gfx__gfx.html#ggaaa3d242c7c08ccafbb00bbcfabe27e3fa5347f7bf0548ae0c3cc8210f49b937a6" title="Solid color bitmap.">BITMAP_SOLID</a>;
<a name="l00313"></a>00313         <a class="code" href="group__app__widget__group.html#ga81de9f34215ac43b848531b57aedc5e0" title="Frame background bitmap.">frame_background</a>.data.<a class="code" href="structgfx__bitmap.html#a79b389912a0bf990d9c23e8b21f02569" title="Color for solid color bitmaps.">color</a> = <a class="code" href="group__app__widget__group.html#gae8721616eb76f7dd949b941a7c1a6df5" title="Background color for application.">APP_BACKGROUND_COLOR</a>;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315         <span class="comment">// Set the area to fill the entire screen</span>
<a name="l00316"></a>00316         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = 0;
<a name="l00317"></a>00317         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = 0;
<a name="l00318"></a>00318         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = <a class="code" href="group__gfx__gfx.html#ga08c77dc3294e612b75aa054f77f22773" title="Return the current width of the screen.">gfx_get_width</a>();
<a name="l00319"></a>00319         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = <a class="code" href="group__gfx__gfx.html#ga18bda375fb523cfcb6f41862be5ba7b4" title="Return the current height of the screen.">gfx_get_height</a>();
<a name="l00320"></a>00320 
<a name="l00321"></a>00321         <span class="comment">/*</span>
<a name="l00322"></a>00322 <span class="comment">         * Create a basic frame with a specified background and command event</span>
<a name="l00323"></a>00323 <span class="comment">         * handler. Check the return value if an error occured while creating</span>
<a name="l00324"></a>00324 <span class="comment">         * the widget.</span>
<a name="l00325"></a>00325 <span class="comment">         */</span>
<a name="l00326"></a>00326         frame = <a class="code" href="group__gfx__wtk__basic__frame.html#ga2ef82bf721f8db8440ef4bdaa5e9a982" title="Create basic frame widget.">wtk_basic_frame_create</a>(win_root, &amp;area,
<a name="l00327"></a>00327                         &amp;<a class="code" href="group__app__widget__group.html#ga81de9f34215ac43b848531b57aedc5e0" title="Frame background bitmap.">frame_background</a>, NULL,
<a name="l00328"></a>00328                         <a class="code" href="group__app__widget__group.html#ga92d28032a15ad54242630dda26e06dcd" title="Frame command events handler.">widget_frame_command_handler</a>, NULL);
<a name="l00329"></a>00329         <span class="keywordflow">if</span> (!frame) {
<a name="l00330"></a>00330                 <span class="keywordflow">goto</span> error_frame;
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333         <span class="comment">// Get a pointer to the widget&#39;s window for adding sub-widgets.</span>
<a name="l00334"></a>00334         parent = <a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(frame);
<a name="l00335"></a>00335         <span class="comment">/*</span>
<a name="l00336"></a>00336 <span class="comment">         * Draw the frame by showing the frame widget&#39;s window. Any</span>
<a name="l00337"></a>00337 <span class="comment">         * child-widgets and windows will not be shown before the parent</span>
<a name="l00338"></a>00338 <span class="comment">         * widget/window is shown.</span>
<a name="l00339"></a>00339 <span class="comment">         */</span>
<a name="l00340"></a>00340         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(parent);
<a name="l00341"></a>00341 
<a name="l00342"></a>00342         <span class="comment">// Application label</span>
<a name="l00343"></a>00343         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = <a class="code" href="group__app__widget__group.html#ga858197c967901f3bc8ad7c5a24c0de5a" title="Label position on top of display.">LABEL_POS_X</a>;
<a name="l00344"></a>00344         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = <a class="code" href="group__app__widget__group.html#ga95ca3695a2b130f5c9f18725210bba28" title="Label position on top of display.">LABEL_POS_Y</a>;
<a name="l00345"></a>00345         <span class="comment">// Find an optimal size for the widget.</span>
<a name="l00346"></a>00346         <a class="code" href="group__gfx__wtk__label.html#gac0b3e98bcab98c362e25caab63af78fd" title="Get minimum widget size.">wtk_label_size_hint</a>(&amp;area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>, <a class="code" href="group__app__widget__group.html#ga58fd1c314a2e3428b7c43337deef9d66" title="Description for label.">demo_string</a>);
<a name="l00347"></a>00347 
<a name="l00348"></a>00348         <span class="comment">/*</span>
<a name="l00349"></a>00349 <span class="comment">         * Create the label and check the return value if an error occured</span>
<a name="l00350"></a>00350 <span class="comment">         * while creating the label.</span>
<a name="l00351"></a>00351 <span class="comment">         */</span>
<a name="l00352"></a>00352         lbl = <a class="code" href="group__gfx__wtk__label.html#gaba01e03f0544afa6636be71df716c3fd">wtk_label_create</a>(parent, &amp;area, <a class="code" href="group__app__widget__group.html#ga58fd1c314a2e3428b7c43337deef9d66" title="Description for label.">demo_string</a>, <span class="keyword">false</span>);
<a name="l00353"></a>00353         <span class="keywordflow">if</span> (!lbl) {
<a name="l00354"></a>00354                 <span class="keywordflow">goto</span> error_widget;
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356 
<a name="l00357"></a>00357         <span class="comment">// Draw the label by showing the label widget&#39;s window.</span>
<a name="l00358"></a>00358         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__label.html#ga8764b372528db23f52d80ffe692a5679">wtk_label_as_child</a>(lbl));
<a name="l00359"></a>00359 
<a name="l00360"></a>00360         <span class="comment">/*</span>
<a name="l00361"></a>00361 <span class="comment">         * Testing label for extra values</span>
<a name="l00362"></a>00362 <span class="comment">         */</span>
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 
<a name="l00365"></a>00365         <span class="comment">// Application slider</span>
<a name="l00366"></a>00366         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = <a class="code" href="group__app__widget__group.html#ga59b0b3f35f89dd1fcb821c735044bf3b" title="Slider position.">SLIDER_POS_X</a>;
<a name="l00367"></a>00367         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = <a class="code" href="group__app__widget__group.html#ga174764c602365c17ea10783ca7b3b404" title="Slider position.">SLIDER_POS_Y</a>;
<a name="l00368"></a>00368         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = <a class="code" href="group__app__widget__group.html#ga5abb3203c51e3b101c0111552bdd5f6e" title="Slider size on display.">SLIDER_SIZE_X</a>;
<a name="l00369"></a>00369         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = <a class="code" href="group__app__widget__group.html#ga0029c0fa7dac7923c1c9285a020432f8" title="Slider size on display.">SLIDER_SIZE_Y</a>;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371         <span class="comment">/*</span>
<a name="l00372"></a>00372 <span class="comment">         * Create the slider and check the return value if an error occured</span>
<a name="l00373"></a>00373 <span class="comment">         * while creating the slider.</span>
<a name="l00374"></a>00374 <span class="comment">         */</span>
<a name="l00375"></a>00375         slider = <a class="code" href="group__gfx__wtk__slider.html#ga95cb39e1b96564ebf701142713e5bd1a" title="Create a new slider widget.">wtk_slider_create</a>(parent, &amp;area, <a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d" title="Max value for slider.">SLIDER_MAX_VALUE</a>,
<a name="l00376"></a>00376                         <a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d" title="Max value for slider.">SLIDER_MAX_VALUE</a> / 2, <a class="code" href="group__gfx__wtk__slider__options.html#gad8beb09fb293768c3ec0466683751e6b" title="Slider is vertically oriented.">WTK_SLIDER_VERTICAL</a>|<a class="code" href="group__gfx__wtk__slider__options.html#ga4e587f08b054a5edd2a559c98d25ac82" title="Issue command event whenever slider is released.">WTK_SLIDER_CMD_RELEASE</a>,
<a name="l00377"></a>00377                         (<a class="code" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f" title="Custom data, can be used as a data pointer or data depending on the application.">win_command_t</a>)<a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33afc8f638e3da90e7668c344b40153b6c4" title="Event command ID for the slider.">SLIDER_ID</a>);
<a name="l00378"></a>00378         <span class="keywordflow">if</span> (!slider) {
<a name="l00379"></a>00379                 <span class="keywordflow">goto</span> error_widget;
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         <span class="comment">// Draw the slider by showing the slider widget&#39;s window.</span>
<a name="l00384"></a>00384         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__slider.html#ga7955edfc3a1e4fd85e155949189a9c35" title="Get pointer to slider window.">wtk_slider_as_child</a>(slider));
<a name="l00385"></a>00385 
<a name="l00386"></a>00386         <span class="comment">// Application slidertwo</span>
<a name="l00387"></a>00387         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = <a class="code" href="group__app__widget__group.html#ga19fee7e6a28c8ec243de3f6612a710c0" title="Slidertwo position.">SLIDERTWO_POS_X</a>;
<a name="l00388"></a>00388         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = <a class="code" href="group__app__widget__group.html#ga4db44d7b4072f37bbb577d6b52ed0466" title="Slidertwo position.">SLIDERTWO_POS_Y</a>;
<a name="l00389"></a>00389         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = <a class="code" href="group__app__widget__group.html#ga340b56d6637bafb9ff774ad0d410d5d9" title="Slidertwo size on display.">SLIDERTWO_SIZE_X</a>;
<a name="l00390"></a>00390         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = <a class="code" href="group__app__widget__group.html#ga9ae0bc5e37df24967b54e6d4132db696" title="Slidertwo size on display.">SLIDERTWO_SIZE_Y</a>;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         <span class="comment">/*</span>
<a name="l00393"></a>00393 <span class="comment">         * Create the slidertwo and check the return value if an error occured</span>
<a name="l00394"></a>00394 <span class="comment">         * while creating the slidertwo.</span>
<a name="l00395"></a>00395 <span class="comment">         */</span>
<a name="l00396"></a>00396         slidertwo = <a class="code" href="group__gfx__wtk__slider.html#ga95cb39e1b96564ebf701142713e5bd1a" title="Create a new slider widget.">wtk_slider_create</a>(parent, &amp;area, <a class="code" href="group__app__widget__group.html#gae85fa2cd3210eb97a87074944d540e83" title="Max value for slidertwo.">SLIDERTWO_MAX_VALUE</a>,
<a name="l00397"></a>00397                         <a class="code" href="group__app__widget__group.html#gae85fa2cd3210eb97a87074944d540e83" title="Max value for slidertwo.">SLIDERTWO_MAX_VALUE</a> / 2, <a class="code" href="group__gfx__wtk__slider__options.html#ga4e587f08b054a5edd2a559c98d25ac82" title="Issue command event whenever slider is released.">WTK_SLIDER_CMD_RELEASE</a>,
<a name="l00398"></a>00398                         (<a class="code" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f" title="Custom data, can be used as a data pointer or data depending on the application.">win_command_t</a>)<a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33a0459ece1d72356213f44067030ccda73" title="Event command ID for the second slider.">SLIDERTWO_ID</a>);
<a name="l00399"></a>00399         <span class="keywordflow">if</span> (!slidertwo) {
<a name="l00400"></a>00400                 <span class="keywordflow">goto</span> error_widget;
<a name="l00401"></a>00401         }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 
<a name="l00405"></a>00405         <span class="comment">// Draw the slider by showing the slider widget&#39;s window.</span>
<a name="l00406"></a>00406         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__slider.html#ga7955edfc3a1e4fd85e155949189a9c35" title="Get pointer to slider window.">wtk_slider_as_child</a>(slidertwo));
<a name="l00407"></a>00407 
<a name="l00408"></a>00408         <span class="comment">// Application gauge.</span>
<a name="l00409"></a>00409         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = <a class="code" href="group__app__widget__group.html#gaeb9c0414ca968b029d0ce1903e97101b" title="Gauge position.">G_POS_X</a>;
<a name="l00410"></a>00410         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = <a class="code" href="group__app__widget__group.html#ga874897ea6499bc52c9b6805cbe8dbdae" title="Gauge position.">G_POS_Y</a>;
<a name="l00411"></a>00411         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = <a class="code" href="group__app__widget__group.html#gaa4f26aae431e303a4a0717c4926dc102" title="Gauge size on display.">G_SIZE</a>;
<a name="l00412"></a>00412         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = <a class="code" href="group__app__widget__group.html#gaa4f26aae431e303a4a0717c4926dc102" title="Gauge size on display.">G_SIZE</a>;
<a name="l00413"></a>00413 
<a name="l00414"></a>00414 
<a name="l00415"></a>00415         <span class="comment">/*</span>
<a name="l00416"></a>00416 <span class="comment">         * Create the first gauge and check the return value if an error</span>
<a name="l00417"></a>00417 <span class="comment">         * occured while creating the gauge.</span>
<a name="l00418"></a>00418 <span class="comment">         */</span>
<a name="l00419"></a>00419 
<a name="l00420"></a>00420         <a class="code" href="group__app__widget__group.html#ga773656c5b3acd8125023d9165bec6a02" title="Gauge background bitmap.">gauge_background</a>.<a class="code" href="structgfx__bitmap.html#a25e3747161bb4053f91cbaab6bdc216d" title="Bitmap type.">type</a> = <a class="code" href="group__gfx__gfx.html#ggaaa3d242c7c08ccafbb00bbcfabe27e3fa5347f7bf0548ae0c3cc8210f49b937a6" title="Solid color bitmap.">BITMAP_SOLID</a>;
<a name="l00421"></a>00421         <a class="code" href="group__app__widget__group.html#ga773656c5b3acd8125023d9165bec6a02" title="Gauge background bitmap.">gauge_background</a>.data.<a class="code" href="structgfx__bitmap.html#a79b389912a0bf990d9c23e8b21f02569" title="Color for solid color bitmaps.">color</a> = <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 255, 255);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         gauge = <a class="code" href="group__gfx__wtk__gauge.html#gaa04775f03a8ff36c5f0c41d4b6852836" title="Create a new gauge widget.">wtk_gauge_create</a>(parent, &amp;area, &amp;<a class="code" href="group__app__widget__group.html#ga773656c5b3acd8125023d9165bec6a02" title="Gauge background bitmap.">gauge_background</a>, <a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d" title="Max value for slider.">SLIDER_MAX_VALUE</a> + <a class="code" href="group__app__widget__group.html#gab6a8e7c4a8c18de412146ad11c944ddc" title="Gauge line height start position.">TRAVEL</a>,
<a name="l00424"></a>00424                         (<a class="code" href="group__app__widget__group.html#ga4991bdb8315f462d6f92813a04a36f1d" title="Max value for slider.">SLIDER_MAX_VALUE</a> + <a class="code" href="group__app__widget__group.html#gab6a8e7c4a8c18de412146ad11c944ddc" title="Gauge line height start position.">TRAVEL</a>) / 2, <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 0, 0),
<a name="l00425"></a>00425                         <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(100, 100, 100), <a class="code" href="group__app__widget__group.html#gae8721616eb76f7dd949b941a7c1a6df5" title="Background color for application.">APP_BACKGROUND_COLOR</a>, WTK_GAUGE_HORIZONTAL);
<a name="l00426"></a>00426         <span class="keywordflow">if</span> (!gauge) {
<a name="l00427"></a>00427                 <span class="keywordflow">goto</span> error_widget;
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430         <span class="comment">// Draw the gauge by showing the gauge widget&#39;s window.</span>
<a name="l00431"></a>00431         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__gauge.html#ga6fd3c9f307317f8af0022d4f22b7467e" title="Get pointer to gauge window.">wtk_gauge_as_child</a>(gauge));
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 
<a name="l00434"></a>00434         <span class="comment">// Application gaugetwo.</span>
<a name="l00435"></a>00435         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = <a class="code" href="group__app__widget__group.html#ga90fb2ea6afd6c2e5622b79dbd5419c60" title="Gaugetwo position.">GTWO_POS_X</a>;
<a name="l00436"></a>00436         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y = <a class="code" href="group__app__widget__group.html#gaf62dcf0841ead75ca3cb25e5f9e48a07" title="Gaugetwo position.">GTWO_POS_Y</a>;
<a name="l00437"></a>00437         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = <a class="code" href="group__app__widget__group.html#gac2254105ec3fcd17194f0cccdf97ac0e" title="Gaugetwo size on display.">GTWO_SIZE</a>;
<a name="l00438"></a>00438         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = <a class="code" href="group__app__widget__group.html#gac2254105ec3fcd17194f0cccdf97ac0e" title="Gaugetwo size on display.">GTWO_SIZE</a>;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="comment">/*</span>
<a name="l00442"></a>00442 <span class="comment">         * Create the second gauge and check the return value if an error</span>
<a name="l00443"></a>00443 <span class="comment">         * occured while creating the gauge.</span>
<a name="l00444"></a>00444 <span class="comment">         */</span>
<a name="l00445"></a>00445         gaugetwo = <a class="code" href="group__gfx__wtk__gauge.html#gaa04775f03a8ff36c5f0c41d4b6852836" title="Create a new gauge widget.">wtk_gauge_create</a>(parent, &amp;area, NULL, <a class="code" href="group__app__widget__group.html#gae85fa2cd3210eb97a87074944d540e83" title="Max value for slidertwo.">SLIDERTWO_MAX_VALUE</a> + <a class="code" href="group__app__widget__group.html#gab6a8e7c4a8c18de412146ad11c944ddc" title="Gauge line height start position.">TRAVEL</a>,
<a name="l00446"></a>00446                         (<a class="code" href="group__app__widget__group.html#gae85fa2cd3210eb97a87074944d540e83" title="Max value for slidertwo.">SLIDERTWO_MAX_VALUE</a> + <a class="code" href="group__app__widget__group.html#gab6a8e7c4a8c18de412146ad11c944ddc" title="Gauge line height start position.">TRAVEL</a>) / 2, <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 0, 0),
<a name="l00447"></a>00447                         <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(100, 100, 100), <a class="code" href="group__app__widget__group.html#gae8721616eb76f7dd949b941a7c1a6df5" title="Background color for application.">APP_BACKGROUND_COLOR</a>, WTK_GAUGE_INVERT|WTK_GAUGE_HORIZONTAL);
<a name="l00448"></a>00448         <span class="keywordflow">if</span> (!gaugetwo) {
<a name="l00449"></a>00449                 <span class="keywordflow">goto</span> error_widget;
<a name="l00450"></a>00450         }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452         <span class="comment">// Draw the second gauge by showing the gauge widget&#39;s window.</span>
<a name="l00453"></a>00453         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__gauge.html#ga6fd3c9f307317f8af0022d4f22b7467e" title="Get pointer to gauge window.">wtk_gauge_as_child</a>(gaugetwo));
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 
<a name="l00457"></a>00457         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = 120;
<a name="l00458"></a>00458         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y =   4;
<a name="l00459"></a>00459         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = 60;
<a name="l00460"></a>00460         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = 20;
<a name="l00461"></a>00461 
<a name="l00462"></a>00462         btn = <a class="code" href="group__gfx__wtk__button.html#gaebe80c65856294eab28bb29264e2bd64">wtk_button_create</a>(parent, &amp;area, <span class="stringliteral">&quot;Hit me&quot;</span>,
<a name="l00463"></a>00463                         (<a class="code" href="group__gfx__win.html#ga53f0ed533fce454af67e765764d7eb5f" title="Custom data, can be used as a data pointer or data depending on the application.">win_command_t</a>)<a class="code" href="group__app__widget__group.html#ggacf97ed0c95e3bddca7bbf304bde08d33ac5a68bc932e0a7936aa57c271d49d855" title="Event command ID for the button.">BUTTON_ID</a>);
<a name="l00464"></a>00464         <span class="keywordflow">if</span> (!btn) {
<a name="l00465"></a>00465                 <span class="keywordflow">goto</span> error_widget;
<a name="l00466"></a>00466         }
<a name="l00467"></a>00467         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__button.html#ga5fc0cc848622a1e21f00648be089ae63">wtk_button_as_child</a>(btn));
<a name="l00468"></a>00468 
<a name="l00470"></a>00470         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x += area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x + 10;
<a name="l00471"></a>00471         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = 50;
<a name="l00472"></a>00472         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = 20;
<a name="l00473"></a>00473 
<a name="l00474"></a>00474         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.<a class="code" href="structgfx__bitmap.html#a25e3747161bb4053f91cbaab6bdc216d" title="Bitmap type.">type</a> = <a class="code" href="group__gfx__gfx.html#ggaaa3d242c7c08ccafbb00bbcfabe27e3fa5347f7bf0548ae0c3cc8210f49b937a6" title="Solid color bitmap.">BITMAP_SOLID</a>;
<a name="l00475"></a>00475         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.data.<a class="code" href="structgfx__bitmap.html#a79b389912a0bf990d9c23e8b21f02569" title="Color for solid color bitmaps.">color</a> = <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 255, 255);
<a name="l00476"></a>00476 
<a name="l00477"></a>00477         sub_frame = <a class="code" href="group__gfx__wtk__basic__frame.html#ga2ef82bf721f8db8440ef4bdaa5e9a982" title="Create basic frame widget.">wtk_basic_frame_create</a>(parent, &amp;area,
<a name="l00478"></a>00478                         &amp;<a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>, <a class="code" href="group__app__widget__group.html#ga6201d3818c7546dcadec254eb3bc03ac" title="Frame draw event handler.">sub_frame_draw_handler</a>,
<a name="l00479"></a>00479                         NULL, NULL);
<a name="l00480"></a>00480         <span class="keywordflow">if</span> (!sub_frame) {
<a name="l00481"></a>00481                 <span class="keywordflow">goto</span> error_widget;
<a name="l00482"></a>00482         }
<a name="l00483"></a>00483         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame));
<a name="l00484"></a>00484 
<a name="l00486"></a>00486         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = 260;
<a name="l00487"></a>00487         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y =   4;
<a name="l00488"></a>00488         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = 50;
<a name="l00489"></a>00489         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = 20;
<a name="l00490"></a>00490 
<a name="l00491"></a>00491         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.<a class="code" href="structgfx__bitmap.html#a25e3747161bb4053f91cbaab6bdc216d" title="Bitmap type.">type</a> = <a class="code" href="group__gfx__gfx.html#ggaaa3d242c7c08ccafbb00bbcfabe27e3fa5347f7bf0548ae0c3cc8210f49b937a6" title="Solid color bitmap.">BITMAP_SOLID</a>;
<a name="l00492"></a>00492         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.data.<a class="code" href="structgfx__bitmap.html#a79b389912a0bf990d9c23e8b21f02569" title="Color for solid color bitmaps.">color</a> = <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 255, 255);
<a name="l00493"></a>00493 
<a name="l00494"></a>00494         sub_frame_test = <a class="code" href="group__gfx__wtk__basic__frame.html#ga2ef82bf721f8db8440ef4bdaa5e9a982" title="Create basic frame widget.">wtk_basic_frame_create</a>(parent, &amp;area,
<a name="l00495"></a>00495                         &amp;<a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>, sub_frame_draw_handler_test,
<a name="l00496"></a>00496                         NULL, NULL);
<a name="l00497"></a>00497         <span class="keywordflow">if</span> (!sub_frame) {
<a name="l00498"></a>00498                 <span class="keywordflow">goto</span> error_widget;
<a name="l00499"></a>00499         }
<a name="l00500"></a>00500         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame_test));
<a name="l00501"></a>00501 
<a name="l00503"></a>00503         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.x = 260;
<a name="l00504"></a>00504         area.<a class="code" href="structwin__area.html#a69c7b4744c2bd3c7135847feb9ee5504" title="Top-left corner of area.">pos</a>.y =  30;
<a name="l00505"></a>00505         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.x = 50;
<a name="l00506"></a>00506         area.<a class="code" href="structwin__area.html#afb961948c18ea282b2c4ea2d06542540" title="Width and height of area.">size</a>.y = 20;
<a name="l00507"></a>00507 
<a name="l00508"></a>00508         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.<a class="code" href="structgfx__bitmap.html#a25e3747161bb4053f91cbaab6bdc216d" title="Bitmap type.">type</a> = <a class="code" href="group__gfx__gfx.html#ggaaa3d242c7c08ccafbb00bbcfabe27e3fa5347f7bf0548ae0c3cc8210f49b937a6" title="Solid color bitmap.">BITMAP_SOLID</a>;
<a name="l00509"></a>00509         <a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>.data.<a class="code" href="structgfx__bitmap.html#a79b389912a0bf990d9c23e8b21f02569" title="Color for solid color bitmaps.">color</a> = <a class="code" href="group__gfx__gfx.html#ga211e684859b29d9a8a5943d1498d533c" title="Generate a display-native color value from constant RGB components.">GFX_COLOR</a>(255, 255, 255);
<a name="l00510"></a>00510 
<a name="l00511"></a>00511         sub_frame_test2 = <a class="code" href="group__gfx__wtk__basic__frame.html#ga2ef82bf721f8db8440ef4bdaa5e9a982" title="Create basic frame widget.">wtk_basic_frame_create</a>(parent, &amp;area,
<a name="l00512"></a>00512                         &amp;<a class="code" href="group__app__widget__group.html#ga45db49ed3dce8f348dea86573f0c5552" title="Sub-frame background bitmap.">sub_frame_background</a>, sub_frame_draw_handler_test2,
<a name="l00513"></a>00513                         NULL, NULL);
<a name="l00514"></a>00514         <span class="keywordflow">if</span> (!sub_frame) {
<a name="l00515"></a>00515                 <span class="keywordflow">goto</span> error_widget;
<a name="l00516"></a>00516         }
<a name="l00517"></a>00517         <a class="code" href="group__gfx__win.html#gacf174cc778747a982b36cbe05e0d247d" title="Show window. Will draw it on screen if parent is visible as well.">win_show</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(sub_frame_test2));
<a name="l00518"></a>00518 
<a name="l00519"></a>00519         <span class="keywordflow">return</span>;
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 error_widget:
<a name="l00522"></a>00522         <span class="comment">// Destroy widget and all sub-widgets.</span>
<a name="l00523"></a>00523         <a class="code" href="group__gfx__win.html#ga518fd778a7f6c3b7ae2e296e074e743f" title="Destroy a window and its contents including children, freeing up memory.">win_destroy</a>(<a class="code" href="group__gfx__wtk__basic__frame.html#ga288ea10860d82def003800b19222ab0c" title="Get reference to basic frame window.">wtk_basic_frame_as_child</a>(frame));
<a name="l00524"></a>00524 error_frame:
<a name="l00525"></a>00525         <span class="comment">// Wait forever if an error occured during setup.</span>
<a name="l00526"></a>00526         <span class="keywordflow">while</span>(1);
<a name="l00527"></a>00527 }
<a name="l00528"></a>00528 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Apr 6 2011 09:50:21 for display-training by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
